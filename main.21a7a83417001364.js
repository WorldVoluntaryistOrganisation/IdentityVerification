(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{4273:(Z,A,d)=>{"use strict";var b,S,R,O,P,y,u,c,w,m,h,_,g,v,D,T,E;d.r(A),d.d(A,{JSONPath:()=>qo}),(S={})[(b={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",S[b.EOF]="<end>",S[b.Identifier]="Identifier",S[b.Keyword]="Keyword",S[b.NullLiteral]="Null",S[b.NumericLiteral]="Numeric",S[b.Punctuator]="Punctuator",S[b.StringLiteral]="String",S[b.RegularExpression]="RegularExpression",R=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var N={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};function M(H,ie){if(!H)throw new Error("ASSERT: "+ie)}function k(H){return H>=48&&H<=57}function B(H){return"0123456789abcdefABCDEF".indexOf(H)>=0}function L(H){return"01234567".indexOf(H)>=0}function z(H){return 32===H||9===H||11===H||12===H||160===H||H>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(H)>=0}function Q(H){return 10===H||13===H||8232===H||8233===H}function oe(H){return 64==H||36===H||95===H||H>=65&&H<=90||H>=97&&H<=122||92===H||H>=128&&y.NonAsciiIdentifierStart.test(String.fromCharCode(H))}function j(H){return 36===H||95===H||H>=65&&H<=90||H>=97&&H<=122||H>=48&&H<=57||92===H||H>=128&&y.NonAsciiIdentifierPart.test(String.fromCharCode(H))}function K(H){switch(H){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function te(H){return"eval"===H||"arguments"===H}function Fe(H,ie,Pe,pe,De){var Le;M("number"==typeof Pe,"Comment must have valid position"),!(T.lastCommentStart>=Pe)&&(T.lastCommentStart=Pe,Le={type:H,value:ie},E.range&&(Le.range=[Pe,pe]),E.loc&&(Le.loc=De),E.comments.push(Le),E.attachComment&&(E.leadingComments.push(Le),E.trailingComments.push(Le)))}function J(H){var ie,Pe,pe,De;for(ie=m-H,Pe={start:{line:h,column:m-_-H}};m<g;)if(pe=c.charCodeAt(m),++m,Q(pe))return E.comments&&(De=c.slice(ie+H,m-1),Pe.end={line:h,column:m-_-1},Fe("Line",De,ie,m-1,Pe)),13===pe&&10===c.charCodeAt(m)&&++m,++h,void(_=m);E.comments&&(De=c.slice(ie+H,m),Pe.end={line:h,column:m-_},Fe("Line",De,ie,m,Pe))}function de(){var H,ie,Pe,pe;for(E.comments&&(H=m-2,ie={start:{line:h,column:m-_-2}});m<g;)if(Q(Pe=c.charCodeAt(m)))13===Pe&&10===c.charCodeAt(m+1)&&++m,++h,++m,_=m,m>=g&&Ne({},P.UnexpectedToken,"ILLEGAL");else if(42===Pe){if(47===c.charCodeAt(m+1))return++m,++m,void(E.comments&&(pe=c.slice(H+2,m-2),ie.end={line:h,column:m-_},Fe("Block",pe,H,m,ie)));++m}else++m;Ne({},P.UnexpectedToken,"ILLEGAL")}function Ie(){var H,ie;for(ie=0===m;m<g;)if(z(H=c.charCodeAt(m)))++m;else if(Q(H))++m,13===H&&10===c.charCodeAt(m)&&++m,++h,_=m,ie=!0;else if(47===H)if(47===(H=c.charCodeAt(m+1)))++m,++m,J(2),ie=!0;else{if(42!==H)break;++m,++m,de()}else if(ie&&45===H){if(45!==c.charCodeAt(m+1)||62!==c.charCodeAt(m+2))break;m+=3,J(3)}else{if(60!==H)break;if("!--"!==c.slice(m+1,m+4))break;++m,++m,++m,++m,J(4)}}function ae(H){var ie,Pe,pe,De=0;for(Pe="u"===H?4:2,ie=0;ie<Pe;++ie){if(!(m<g&&B(c[m])))return"";pe=c[m++],De=16*De+"0123456789abcdef".indexOf(pe.toLowerCase())}return String.fromCharCode(De)}function Ee(){var H,ie;for(H=c.charCodeAt(m++),ie=String.fromCharCode(H),92===H&&(117!==c.charCodeAt(m)&&Ne({},P.UnexpectedToken,"ILLEGAL"),++m,(!(H=ae("u"))||"\\"===H||!oe(H.charCodeAt(0)))&&Ne({},P.UnexpectedToken,"ILLEGAL"),ie=H);m<g&&j(H=c.charCodeAt(m));)++m,ie+=String.fromCharCode(H),92===H&&(ie=ie.substr(0,ie.length-1),117!==c.charCodeAt(m)&&Ne({},P.UnexpectedToken,"ILLEGAL"),++m,(!(H=ae("u"))||"\\"===H||!j(H.charCodeAt(0)))&&Ne({},P.UnexpectedToken,"ILLEGAL"),ie+=H);return ie}function q(){var Pe,De,Le,rt,H=m,ie=c.charCodeAt(m),pe=c[m];switch(ie){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++m,E.tokenize&&(40===ie?E.openParenToken=E.tokens.length:123===ie&&(E.openCurlyToken=E.tokens.length)),{type:b.Punctuator,value:String.fromCharCode(ie),lineNumber:h,lineStart:_,start:H,end:m};default:if(61===(Pe=c.charCodeAt(m+1)))switch(ie){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return m+=2,{type:b.Punctuator,value:String.fromCharCode(ie)+String.fromCharCode(Pe),lineNumber:h,lineStart:_,start:H,end:m};case 33:case 61:return 61===c.charCodeAt(m+=2)&&++m,{type:b.Punctuator,value:c.slice(H,m),lineNumber:h,lineStart:_,start:H,end:m}}}return">>>="===(rt=c.substr(m,4))?{type:b.Punctuator,value:rt,lineNumber:h,lineStart:_,start:H,end:m+=4}:">>>"===(Le=rt.substr(0,3))||"<<="===Le||">>="===Le?{type:b.Punctuator,value:Le,lineNumber:h,lineStart:_,start:H,end:m+=3}:pe===(De=Le.substr(0,2))[1]&&"+-<>&|".indexOf(pe)>=0||"=>"===De?{type:b.Punctuator,value:De,lineNumber:h,lineStart:_,start:H,end:m+=2}:"<>=!+-*%&|^/".indexOf(pe)>=0?(++m,{type:b.Punctuator,value:pe,lineNumber:h,lineStart:_,start:H,end:m}):void Ne({},P.UnexpectedToken,"ILLEGAL")}function ye(){var H,ie,Pe;if(M(k((Pe=c[m]).charCodeAt(0))||"."===Pe,"Numeric literal must start with a decimal digit or a decimal point"),ie=m,H="","."!==Pe){if(H=c[m++],Pe=c[m],"0"===H){if("x"===Pe||"X"===Pe)return++m,function G(H){for(var ie="";m<g&&B(c[m]);)ie+=c[m++];return 0===ie.length&&Ne({},P.UnexpectedToken,"ILLEGAL"),oe(c.charCodeAt(m))&&Ne({},P.UnexpectedToken,"ILLEGAL"),{type:b.NumericLiteral,value:parseInt("0x"+ie,16),lineNumber:h,lineStart:_,start:H,end:m}}(ie);if(L(Pe))return function re(H){for(var ie="0"+c[m++];m<g&&L(c[m]);)ie+=c[m++];return(oe(c.charCodeAt(m))||k(c.charCodeAt(m)))&&Ne({},P.UnexpectedToken,"ILLEGAL"),{type:b.NumericLiteral,value:parseInt(ie,8),octal:!0,lineNumber:h,lineStart:_,start:H,end:m}}(ie);Pe&&k(Pe.charCodeAt(0))&&Ne({},P.UnexpectedToken,"ILLEGAL")}for(;k(c.charCodeAt(m));)H+=c[m++];Pe=c[m]}if("."===Pe){for(H+=c[m++];k(c.charCodeAt(m));)H+=c[m++];Pe=c[m]}if("e"===Pe||"E"===Pe)if(H+=c[m++],("+"===(Pe=c[m])||"-"===Pe)&&(H+=c[m++]),k(c.charCodeAt(m)))for(;k(c.charCodeAt(m));)H+=c[m++];else Ne({},P.UnexpectedToken,"ILLEGAL");return oe(c.charCodeAt(m))&&Ne({},P.UnexpectedToken,"ILLEGAL"),{type:b.NumericLiteral,value:parseFloat(H),lineNumber:h,lineStart:_,start:ie,end:m}}function gt(){var H,ie,Pe,De;return D=null,Ie(),H=m,ie=function Se(){var H,ie,Pe,pe;for(M("/"===(H=c[m]),"Regular expression literal must start with a slash"),ie=c[m++],Pe=!1,pe=!1;m<g;)if(ie+=H=c[m++],"\\"===H)Q((H=c[m++]).charCodeAt(0))&&Ne({},P.UnterminatedRegExp),ie+=H;else if(Q(H.charCodeAt(0)))Ne({},P.UnterminatedRegExp);else if(Pe)"]"===H&&(Pe=!1);else{if("/"===H){pe=!0;break}"["===H&&(Pe=!0)}return pe||Ne({},P.UnterminatedRegExp),{value:ie.substr(1,ie.length-2),literal:ie}}(),Pe=function Ye(){var H,ie,Pe,pe;for(ie="",Pe="";m<g&&j((H=c[m]).charCodeAt(0));)if(++m,"\\"===H&&m<g)if("u"===(H=c[m])){if(pe=++m,H=ae("u"))for(Pe+=H,ie+="\\u";pe<m;++pe)ie+=c[pe];else m=pe,Pe+="u",ie+="\\u";Qe({},P.UnexpectedToken,"ILLEGAL")}else ie+="\\",Qe({},P.UnexpectedToken,"ILLEGAL");else Pe+=H,ie+=H;return{value:Pe,literal:ie}}(),De=function Me(H,ie){var Pe;try{Pe=new RegExp(H,ie)}catch{Ne({},P.InvalidRegExp)}return Pe}(ie.value,Pe.value),E.tokenize?{type:b.RegularExpression,value:De,lineNumber:h,lineStart:_,start:H,end:m}:{literal:ie.literal+Pe.literal,value:De,start:H,end:m}}function Ke(){var H,ie,Pe,pe;return Ie(),H=m,ie={start:{line:h,column:m-_}},Pe=gt(),ie.end={line:h,column:m-_},E.tokenize||(E.tokens.length>0&&(pe=E.tokens[E.tokens.length-1]).range[0]===H&&"Punctuator"===pe.type&&("/"===pe.value||"/="===pe.value)&&E.tokens.pop(),E.tokens.push({type:"RegularExpression",value:Pe.literal,range:[H,m],loc:ie})),Pe}function je(){var H;return Ie(),m>=g?{type:b.EOF,lineNumber:h,lineStart:_,start:m,end:m}:oe(H=c.charCodeAt(m))?function $(){var H,ie,Pe;return H=m,ie=92===c.charCodeAt(m)?Ee():function I(){var H,ie;for(H=m++;m<g;){if(92===(ie=c.charCodeAt(m)))return m=H,Ee();if(!j(ie))break;++m}return c.slice(H,m)}(),Pe=1===ie.length?b.Identifier:function le(H){if(w&&K(H))return!0;switch(H.length){case 2:return"if"===H||"in"===H||"do"===H;case 3:return"var"===H||"for"===H||"new"===H||"try"===H||"let"===H;case 4:return"this"===H||"else"===H||"case"===H||"void"===H||"with"===H||"enum"===H;case 5:return"while"===H||"break"===H||"catch"===H||"throw"===H||"const"===H||"yield"===H||"class"===H||"super"===H;case 6:return"return"===H||"typeof"===H||"delete"===H||"switch"===H||"export"===H||"import"===H;case 7:return"default"===H||"finally"===H||"extends"===H;case 8:return"function"===H||"continue"===H||"debugger"===H;case 10:return"instanceof"===H;default:return!1}}(ie)?b.Keyword:"null"===ie?b.NullLiteral:"true"===ie||"false"===ie?b.BooleanLiteral:b.Identifier,{type:Pe,value:ie,lineNumber:h,lineStart:_,start:H,end:m}}():40===H||41===H||59===H?q():39===H||34===H?function me(){var ie,Pe,pe,De,Le,rt,Et,Ft,H="",ot=!1;for(Et=h,Ft=_,M("'"===(ie=c[m])||'"'===ie,"String literal must starts with a quote"),Pe=m,++m;m<g;){if((pe=c[m++])===ie){ie="";break}if("\\"===pe)if((pe=c[m++])&&Q(pe.charCodeAt(0)))++h,"\r"===pe&&"\n"===c[m]&&++m,_=m;else switch(pe){case"u":case"x":rt=m,(Le=ae(pe))?H+=Le:(m=rt,H+=pe);break;case"n":H+="\n";break;case"r":H+="\r";break;case"t":H+="\t";break;case"b":H+="\b";break;case"f":H+="\f";break;case"v":H+="\v";break;default:L(pe)?(0!==(De="01234567".indexOf(pe))&&(ot=!0),m<g&&L(c[m])&&(ot=!0,De=8*De+"01234567".indexOf(c[m++]),"0123".indexOf(pe)>=0&&m<g&&L(c[m])&&(De=8*De+"01234567".indexOf(c[m++]))),H+=String.fromCharCode(De)):H+=pe}else{if(Q(pe.charCodeAt(0)))break;H+=pe}}return""!==ie&&Ne({},P.UnexpectedToken,"ILLEGAL"),{type:b.StringLiteral,value:H,octal:ot,startLineNumber:Et,startLineStart:Ft,lineNumber:h,lineStart:_,start:Pe,end:m}}():46===H?k(c.charCodeAt(m+1))?ye():q():k(H)?ye():E.tokenize&&47===H?function Ae(){var H,ie;if(!(H=E.tokens[E.tokens.length-1]))return Ke();if("Punctuator"===H.type){if("]"===H.value)return q();if(")"===H.value)return!(ie=E.tokens[E.openParenToken-1])||"Keyword"!==ie.type||"if"!==ie.value&&"while"!==ie.value&&"for"!==ie.value&&"with"!==ie.value?q():Ke();if("}"===H.value){if(E.tokens[E.openCurlyToken-3]&&"Keyword"===E.tokens[E.openCurlyToken-3].type){if(!(ie=E.tokens[E.openCurlyToken-4]))return q()}else{if(!E.tokens[E.openCurlyToken-4]||"Keyword"!==E.tokens[E.openCurlyToken-4].type)return q();if(!(ie=E.tokens[E.openCurlyToken-5]))return Ke()}return R.indexOf(ie.value)>=0?q():Ke()}return Ke()}return"Keyword"===H.type?Ke():q()}():q()}function se(){var H,ie,pe;return Ie(),H={start:{line:h,column:m-_}},ie=je(),H.end={line:h,column:m-_},ie.type!==b.EOF&&(pe=c.slice(ie.start,ie.end),E.tokens.push({type:S[ie.type],value:pe,range:[ie.start,ie.end],loc:H})),ie}function W(){var H;return m=(H=D).end,h=H.lineNumber,_=H.lineStart,D=typeof E.tokens<"u"?se():je(),m=H.end,h=H.lineNumber,_=H.lineStart,H}function ee(){var H,ie,Pe;H=m,ie=h,Pe=_,D=typeof E.tokens<"u"?se():je(),m=H,h=ie,_=Pe}function ke(H,ie){this.line=H,this.column=ie}function he(H,ie,Pe,pe){this.start=new ke(H,ie),this.end=new ke(Pe,pe)}function Be(){var H,ie,Pe,pe;return H=m,ie=h,Pe=_,Ie(),pe=h!==ie,m=H,h=ie,_=Pe,pe}function Ne(H,ie){for(var Pe=[],pe=2;pe<arguments.length;pe++)Pe[pe-2]=arguments[pe];var De,Le=ie.replace(/%(\d)/g,function(rt,ot){return M(ot<Pe.length,"Message reference must be in range"),Pe[ot]});throw"number"==typeof H.lineNumber?((De=new Error("Line "+H.lineNumber+": "+Le)).index=H.start,De.lineNumber=H.lineNumber,De.column=H.start-_+1):((De=new Error("Line "+h+": "+Le)).index=m,De.lineNumber=h,De.column=m-_+1),De.description=Le,De}function Qe(){for(var H=[],ie=0;ie<arguments.length;ie++)H[ie]=arguments[ie];try{Ne.apply(null,H)}catch(Pe){if(!E.errors)throw Pe;E.errors.push(Pe)}}function ut(H){if(H.type===b.EOF&&Ne(H,P.UnexpectedEOS),H.type===b.NumericLiteral&&Ne(H,P.UnexpectedNumber),H.type===b.StringLiteral&&Ne(H,P.UnexpectedString),H.type===b.Identifier&&Ne(H,P.UnexpectedIdentifier),H.type===b.Keyword){if(function ne(H){switch(H){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(H.value))Ne(H,P.UnexpectedReserved);else if(w&&K(H.value))return void Qe(H,P.StrictReservedWord);Ne(H,P.UnexpectedToken,H.value)}Ne(H,P.UnexpectedToken,H.value)}function qe(H){var ie=W();(ie.type!==b.Punctuator||ie.value!==H)&&ut(ie)}function ht(H){var ie=W();(ie.type!==b.Keyword||ie.value!==H)&&ut(ie)}function F(H){return D.type===b.Punctuator&&D.value===H}function l(H){return D.type===b.Keyword&&D.value===H}function V(){var H;59===c.charCodeAt(m)||F(";")?W():(H=h,Ie(),h===H&&D.type!==b.EOF&&!F("}")&&ut(D))}function X(H){return H.type===N.Identifier||H.type===N.MemberExpression}function Ce(H,ie){var Pe,pe,De;return Pe=w,De=D,pe=vi(),ie&&w&&te(H[0].name)&&Qe(ie,P.StrictParamName),w=Pe,v.markEnd(v.createFunctionExpression(null,H,[],pe),De)}function $e(){var H,ie;return ie=D,(H=W()).type===b.StringLiteral||H.type===b.NumericLiteral?(w&&H.octal&&Qe(H,P.StrictOctalLiteral),v.markEnd(v.createLiteral(H),ie)):v.markEnd(v.createIdentifier(H.value),ie)}function Ze(){var H,ie,Pe,pe,De,Le;return Le=D,(H=D).type===b.Identifier?(Pe=$e(),"get"!==H.value||F(":")?"set"!==H.value||F(":")?(qe(":"),pe=ve(),v.markEnd(v.createProperty("init",Pe,pe),Le)):(ie=$e(),qe("("),(H=D).type!==b.Identifier?(qe(")"),Qe(H,P.UnexpectedToken,H.value),pe=Ce([])):(De=[Ve()],qe(")"),pe=Ce(De,H)),v.markEnd(v.createProperty("set",ie,pe),Le)):(ie=$e(),qe("("),qe(")"),pe=Ce([]),v.markEnd(v.createProperty("get",ie,pe),Le))):H.type!==b.EOF&&H.type!==b.Punctuator?(ie=$e(),qe(":"),pe=ve(),v.markEnd(v.createProperty("init",ie,pe),Le)):void ut(H)}function at(){var H,ie,Pe,pe;if(F("("))return function pt(){var H;return qe("("),H=Oe(),qe(")"),H}();if(F("["))return function fe(){var ie,H=[];for(ie=D,qe("[");!F("]");)F(",")?(W(),H.push(null)):(H.push(ve()),F("]")||qe(","));return W(),v.markEnd(v.createArrayExpression(H),ie)}();if(F("{"))return function dt(){var ie,Pe,pe,De,ot,H=[],Le={},rt=String;for(ot=D,qe("{");!F("}");)Pe=(ie=Ze()).key.type===N.Identifier?ie.key.name:rt(ie.key.value),De="init"===ie.kind?O.Data:"get"===ie.kind?O.Get:O.Set,pe="$"+Pe,Object.prototype.hasOwnProperty.call(Le,pe)?(Le[pe]===O.Data?w&&De===O.Data?Qe({},P.StrictDuplicateProperty):De!==O.Data&&Qe({},P.AccessorDataProperty):De===O.Data?Qe({},P.AccessorDataProperty):Le[pe]&De&&Qe({},P.AccessorGetSet),Le[pe]|=De):Le[pe]=De,H.push(ie),F("}")||qe(",");return qe("}"),v.markEnd(v.createObjectExpression(H),ot)}();if(pe=D,(H=D.type)===b.Identifier)Pe=v.createIdentifier(W().value);else if(H===b.StringLiteral||H===b.NumericLiteral)w&&D.octal&&Qe(D,P.StrictOctalLiteral),Pe=v.createLiteral(W());else if(H===b.Keyword){if(l("function"))return function Jn(){var H,Pe,pe,De,Le,ot,Et,Ft,rt,ie=null;return Ft=D,ht("function"),F("(")||(H=D,ie=Ve(),w?te(H.value)&&Qe(H,P.StrictFunctionName):te(H.value)?(pe=H,De=P.StrictFunctionName):K(H.value)&&(pe=H,De=P.StrictReservedWord)),rt=(Le=cn(pe)).params,Pe=Le.stricted,pe=Le.firstRestricted,Le.message&&(De=Le.message),Et=w,ot=vi(),w&&pe&&Ne(pe,De),w&&Pe&&Qe(Pe,De),w=Et,v.markEnd(v.createFunctionExpression(ie,rt,[],ot),Ft)}();l("this")?(W(),Pe=v.createThisExpression()):ut(W())}else H===b.BooleanLiteral?((ie=W()).value="true"===ie.value,Pe=v.createLiteral(ie)):H===b.NullLiteral?((ie=W()).value=null,Pe=v.createLiteral(ie)):F("/")||F("/=")?(Pe=v.createLiteral(typeof E.tokens<"u"?Ke():gt()),ee()):ut(W());return v.markEnd(Pe,pe)}function xt(){var H=[];if(qe("("),!F(")"))for(;m<g&&(H.push(ve()),!F(")"));)qe(",");return qe(")"),H}function Sn(){return qe("."),function Bn(){var H,ie;return ie=D,function Ge(H){return H.type===b.Identifier||H.type===b.Keyword||H.type===b.BooleanLiteral||H.type===b.NullLiteral}(H=W())||ut(H),v.markEnd(v.createIdentifier(H.value),ie)}()}function _n(){var H;return qe("["),H=Oe(),qe("]"),H}function An(){var H,ie,Pe;return Pe=D,ht("new"),H=function Y(){var H,ie,Pe,pe;for(pe=D,H=T.allowIn,ie=l("new")?An():at(),T.allowIn=H;F(".")||F("[");)F("[")?(Pe=_n(),ie=v.createMemberExpression("[",ie,Pe)):(Pe=Sn(),ie=v.createMemberExpression(".",ie,Pe)),v.markEnd(ie,pe);return ie}(),ie=F("(")?xt():[],v.markEnd(v.createNewExpression(H,ie),Pe)}function be(){var H,ie,Pe=D;return H=function Hn(){var H,ie,Pe,pe,De;for(De=D,H=T.allowIn,T.allowIn=!0,ie=l("new")?An():at(),T.allowIn=H;;){if(F("."))pe=Sn(),ie=v.createMemberExpression(".",ie,pe);else if(F("("))Pe=xt(),ie=v.createCallExpression(ie,Pe);else{if(!F("["))break;pe=_n(),ie=v.createMemberExpression("[",ie,pe)}v.markEnd(ie,De)}return ie}(),D.type===b.Punctuator&&(F("++")||F("--"))&&!Be()&&(w&&H.type===N.Identifier&&te(H.name)&&Qe({},P.StrictLHSPostfix),X(H)||Qe({},P.InvalidLHSInAssignment),ie=W(),H=v.markEnd(v.createPostfixExpression(ie.value,H),Pe)),H}function we(){var H,ie,Pe;return D.type!==b.Punctuator&&D.type!==b.Keyword?ie=be():F("++")||F("--")?(Pe=D,H=W(),ie=we(),w&&ie.type===N.Identifier&&te(ie.name)&&Qe({},P.StrictLHSPrefix),X(ie)||Qe({},P.InvalidLHSInAssignment),ie=v.createUnaryExpression(H.value,ie),ie=v.markEnd(ie,Pe)):F("+")||F("-")||F("~")||F("!")?(Pe=D,H=W(),ie=we(),ie=v.createUnaryExpression(H.value,ie),ie=v.markEnd(ie,Pe)):l("delete")||l("void")||l("typeof")?(Pe=D,H=W(),ie=we(),ie=v.createUnaryExpression(H.value,ie),ie=v.markEnd(ie,Pe),w&&"delete"===ie.operator&&ie.argument.type===N.Identifier&&Qe({},P.StrictDelete)):ie=be(),ie}function Te(H,ie){var Pe=0;if(H.type!==b.Punctuator&&H.type!==b.Keyword)return 0;switch(H.value){case"||":Pe=1;break;case"&&":Pe=2;break;case"|":Pe=3;break;case"^":Pe=4;break;case"&":Pe=5;break;case"==":case"!=":case"===":case"!==":Pe=6;break;case"<":case">":case"<=":case">=":case"instanceof":Pe=7;break;case"in":Pe=ie?7:0;break;case"<<":case">>":case">>>":Pe=8;break;case"+":case"-":Pe=9;break;case"*":case"/":case"%":Pe=11}return Pe}function ve(){var H,ie,Pe,pe,De;return H=D,De=D,pe=ie=function ct(){var H,ie,Pe,pe,De;return De=D,H=function ze(){var H,ie,Pe,pe,De,Le,rt,ot,Et,Ft;if(H=D,Et=we(),0===(De=Te(pe=D,T.allowIn)))return Et;for(pe.prec=De,W(),ie=[H,D],Le=[Et,pe,rt=we()];(De=Te(D,T.allowIn))>0;){for(;Le.length>2&&De<=Le[Le.length-2].prec;)rt=Le.pop(),ot=Le.pop().value,Et=Le.pop(),Pe=v.createBinaryExpression(ot,Et,rt),ie.pop(),v.markEnd(Pe,H=ie[ie.length-1]),Le.push(Pe);(pe=W()).prec=De,Le.push(pe),ie.push(D),Pe=we(),Le.push(Pe)}for(Pe=Le[Ft=Le.length-1],ie.pop();Ft>1;)Pe=v.createBinaryExpression(Le[Ft-1].value,Le[Ft-2],Pe),Ft-=2,H=ie.pop(),v.markEnd(Pe,H);return Pe}(),F("?")&&(W(),ie=T.allowIn,T.allowIn=!0,Pe=ve(),T.allowIn=ie,qe(":"),pe=ve(),H=v.createConditionalExpression(H,Pe,pe),v.markEnd(H,De)),H}(),function f(){var H;return D.type===b.Punctuator&&("="===(H=D.value)||"*="===H||"/="===H||"%="===H||"+="===H||"-="===H||"<<="===H||">>="===H||">>>="===H||"&="===H||"^="===H||"|="===H)}()&&(X(ie)||Qe({},P.InvalidLHSInAssignment),w&&ie.type===N.Identifier&&te(ie.name)&&Qe(H,P.StrictLHSAssignment),H=W(),Pe=ve(),pe=v.markEnd(v.createAssignmentExpression(H.value,ie,Pe),De)),pe}function Oe(){var H,ie=D;if(H=ve(),F(",")){for(H=v.createSequenceExpression([H]);m<g&&F(",");)W(),H.expressions.push(ve());v.markEnd(H,ie)}return H}function _e(){var H,ie;return ie=D,qe("{"),H=function xe(){for(var ie,H=[];m<g&&!(F("}")||(ie=Xr(),typeof ie>"u"));)H.push(ie);return H}(),qe("}"),v.markEnd(v.createBlockStatement(H),ie)}function Ve(){var H,ie;return ie=D,(H=W()).type!==b.Identifier&&ut(H),v.markEnd(v.createIdentifier(H.value),ie)}function tt(H){var Pe,pe,ie=null;return pe=D,Pe=Ve(),w&&te(Pe.name)&&Qe({},P.StrictVarName),"const"===H?(qe("="),ie=ve()):F("=")&&(W(),ie=ve()),v.markEnd(v.createVariableDeclarator(Pe,ie),pe)}function it(H){var ie=[];do{if(ie.push(tt(H)),!F(","))break;W()}while(m<g);return ie}function ur(){var H,Pe,pe,ie=[];for(pe=D,l("default")?(W(),H=null):(ht("case"),H=Oe()),qe(":");m<g&&!(F("}")||l("default")||l("case"));)Pe=wr(),ie.push(Pe);return v.markEnd(v.createSwitchCase(H,ie),pe)}function wr(){var ie,Pe,pe,De,H=D.type;if(H===b.EOF&&ut(D),H===b.Punctuator&&"{"===D.value)return _e();if(De=D,H===b.Punctuator)switch(D.value){case";":return v.markEnd(function Lt(){return qe(";"),v.createEmptyStatement()}(),De);case"(":return v.markEnd(function lt(){var H=Oe();return V(),v.createExpressionStatement(H)}(),De)}if(H===b.Keyword)switch(D.value){case"break":return v.markEnd(function tn(){var H=null;return ht("break"),59===c.charCodeAt(m)?(W(),T.inIteration||T.inSwitch||Ne({},P.IllegalBreak),v.createBreakStatement(null)):Be()?(T.inIteration||T.inSwitch||Ne({},P.IllegalBreak),v.createBreakStatement(null)):(D.type===b.Identifier&&(H=Ve(),Object.prototype.hasOwnProperty.call(T.labelSet,"$"+H.name)||Ne({},P.UnknownLabel,H.name)),V(),null===H&&!(T.inIteration||T.inSwitch)&&Ne({},P.IllegalBreak),v.createBreakStatement(H))}(),De);case"continue":return v.markEnd(function Xt(){var H=null;return ht("continue"),59===c.charCodeAt(m)?(W(),T.inIteration||Ne({},P.IllegalContinue),v.createContinueStatement(null)):Be()?(T.inIteration||Ne({},P.IllegalContinue),v.createContinueStatement(null)):(D.type===b.Identifier&&(H=Ve(),Object.prototype.hasOwnProperty.call(T.labelSet,"$"+H.name)||Ne({},P.UnknownLabel,H.name)),V(),null===H&&!T.inIteration&&Ne({},P.IllegalContinue),v.createContinueStatement(H))}(),De);case"debugger":return v.markEnd(function un(){return ht("debugger"),V(),v.createDebuggerStatement()}(),De);case"do":return v.markEnd(function $t(){var H,ie,Pe;return ht("do"),Pe=T.inIteration,T.inIteration=!0,H=wr(),T.inIteration=Pe,ht("while"),qe("("),ie=Oe(),qe(")"),F(";")&&W(),v.createDoWhileStatement(H,ie)}(),De);case"for":return v.markEnd(function yn(){var H,ie,Pe,pe,De,Le,rt;return H=ie=Pe=null,ht("for"),qe("("),F(";")?W():(l("var")||l("let")?(T.allowIn=!1,H=function kn(){var H,ie,Pe;return Pe=D,H=W(),ie=it(),v.markEnd(v.createVariableDeclaration(ie,H.value),Pe)}(),T.allowIn=!0,1===H.declarations.length&&l("in")&&(W(),pe=H,De=Oe(),H=null)):(T.allowIn=!1,H=Oe(),T.allowIn=!0,l("in")&&(X(H)||Qe({},P.InvalidLHSInForIn),W(),pe=H,De=Oe(),H=null)),typeof pe>"u"&&qe(";")),typeof pe>"u"&&(F(";")||(ie=Oe()),qe(";"),F(")")||(Pe=Oe())),qe(")"),rt=T.inIteration,T.inIteration=!0,Le=wr(),T.inIteration=rt,typeof pe>"u"?v.createForStatement(H,ie,Pe,Le):v.createForInStatement(pe,De,Le)}(),De);case"function":return v.markEnd(Us(),De);case"if":return v.markEnd(function on(){var H,ie,Pe;return ht("if"),qe("("),H=Oe(),qe(")"),ie=wr(),l("else")?(W(),Pe=wr()):Pe=null,v.createIfStatement(H,ie,Pe)}(),De);case"return":return v.markEnd(function Wt(){var H=null;return ht("return"),T.inFunctionBody||Qe({},P.IllegalReturn),32===c.charCodeAt(m)&&oe(c.charCodeAt(m+1))?(H=Oe(),V(),v.createReturnStatement(H)):Be()?v.createReturnStatement(null):(F(";")||!F("}")&&D.type!==b.EOF&&(H=Oe()),V(),v.createReturnStatement(H))}(),De);case"switch":return v.markEnd(function xr(){var H,ie,Pe,pe,De;if(ht("switch"),qe("("),H=Oe(),qe(")"),qe("{"),ie=[],F("}"))return W(),v.createSwitchStatement(H,ie);for(pe=T.inSwitch,T.inSwitch=!0,De=!1;m<g&&!F("}");)null===(Pe=ur()).test&&(De&&Ne({},P.MultipleDefaultsInSwitch),De=!0),ie.push(Pe);return T.inSwitch=pe,qe("}"),v.createSwitchStatement(H,ie)}(),De);case"throw":return v.markEnd(function Cn(){var H;return ht("throw"),Be()&&Ne({},P.NewlineAfterThrow),H=Oe(),V(),v.createThrowStatement(H)}(),De);case"try":return v.markEnd(function yi(){var H,ie=[],Pe=null;return ht("try"),H=_e(),l("catch")&&ie.push(function ar(){var H,ie,Pe;return Pe=D,ht("catch"),qe("("),F(")")&&ut(D),H=Ve(),w&&te(H.name)&&Qe({},P.StrictCatchVariable),qe(")"),ie=_e(),v.markEnd(v.createCatchClause(H,ie),Pe)}()),l("finally")&&(W(),Pe=_e()),0===ie.length&&!Pe&&Ne({},P.NoCatchOrFinally),v.createTryStatement(H,[],ie,Pe)}(),De);case"var":return v.markEnd(function vt(){var H;return ht("var"),H=it(),V(),v.createVariableDeclaration(H,"var")}(),De);case"while":return v.markEnd(function hn(){var H,ie,Pe;return ht("while"),qe("("),H=Oe(),qe(")"),Pe=T.inIteration,T.inIteration=!0,ie=wr(),T.inIteration=Pe,v.createWhileStatement(H,ie)}(),De);case"with":return v.markEnd(function Yr(){var H,ie;return w&&(Ie(),Qe({},P.StrictModeWith)),ht("with"),qe("("),H=Oe(),qe(")"),ie=wr(),v.createWithStatement(H,ie)}(),De)}return(ie=Oe()).type===N.Identifier&&F(":")?(W(),pe="$"+ie.name,Object.prototype.hasOwnProperty.call(T.labelSet,pe)&&Ne({},P.Redeclaration,"Label",ie.name),T.labelSet[pe]=!0,Pe=wr(),delete T.labelSet[pe],v.markEnd(v.createLabeledStatement(ie,Pe),De)):(V(),v.markEnd(v.createExpressionStatement(ie),De))}function vi(){var H,Pe,De,Le,rt,ot,Et,Ft,ie=[];for(Ft=D,qe("{");m<g&&D.type===b.StringLiteral&&(Pe=D,H=Xr(),ie.push(H),H.expression.type===N.Literal);)"use strict"===c.slice(Pe.start+1,Pe.end-1)?(w=!0,De&&Qe(De,P.StrictOctalLiteral)):!De&&Pe.octal&&(De=Pe);for(Le=T.labelSet,rt=T.inIteration,ot=T.inSwitch,Et=T.inFunctionBody,T.labelSet={},T.inIteration=!1,T.inSwitch=!1,T.inFunctionBody=!0;m<g&&!(F("}")||(H=Xr(),typeof H>"u"));)ie.push(H);return qe("}"),T.labelSet=Le,T.inIteration=rt,T.inSwitch=ot,T.inFunctionBody=Et,v.markEnd(v.createBlockStatement(ie),Ft)}function cn(H){var ie,pe,De,Le,rt,ot,Pe=[];if(qe("("),!F(")"))for(Le={};m<g&&(pe=D,ie=Ve(),rt="$"+pe.value,w?(te(pe.value)&&(De=pe,ot=P.StrictParamName),Object.prototype.hasOwnProperty.call(Le,rt)&&(De=pe,ot=P.StrictParamDupe)):H||(te(pe.value)?(H=pe,ot=P.StrictParamName):K(pe.value)?(H=pe,ot=P.StrictReservedWord):Object.prototype.hasOwnProperty.call(Le,rt)&&(H=pe,ot=P.StrictParamDupe)),Pe.push(ie),Le[rt]=!0,!F(")"));)qe(",");return qe(")"),{params:Pe,stricted:De,firstRestricted:H,message:ot}}function Us(){var H,ie,Pe,pe,De,Le,rt,ot,Et,Ft;return Ft=D,ht("function"),pe=D,H=Ve(),w?te(pe.value)&&Qe(pe,P.StrictFunctionName):te(pe.value)?(rt=pe,ot=P.StrictFunctionName):K(pe.value)&&(rt=pe,ot=P.StrictReservedWord),ie=(Le=cn(rt)).params,De=Le.stricted,rt=Le.firstRestricted,Le.message&&(ot=Le.message),Et=w,Pe=vi(),w&&rt&&Ne(rt,ot),w&&De&&Qe(De,ot),w=Et,v.markEnd(v.createFunctionDeclaration(H,ie,[],Pe),Ft)}function Xr(){if(D.type===b.Keyword)switch(D.value){case"const":case"let":return function Mt(H){var ie,Pe;return Pe=D,ht(H),ie=it(H),V(),v.markEnd(v.createVariableDeclaration(ie,H),Pe)}(D.value);case"function":return Us();default:return wr()}if(D.type!==b.EOF)return wr()}function Mn(H,ie){var Pe,pe;pe=String,"string"!=typeof H&&!(H instanceof String)&&(H=pe(H)),v=u,m=0,h=(c=H).length>0?1:0,_=0,g=c.length,D=null,T={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},E={},typeof ie<"u"&&(E.range="boolean"==typeof ie.range&&ie.range,E.loc="boolean"==typeof ie.loc&&ie.loc,E.attachComment="boolean"==typeof ie.attachComment&&ie.attachComment,E.loc&&null!=ie.source&&(E.source=pe(ie.source)),"boolean"==typeof ie.tokens&&ie.tokens&&(E.tokens=[]),"boolean"==typeof ie.comment&&ie.comment&&(E.comments=[]),"boolean"==typeof ie.tolerant&&ie.tolerant&&(E.errors=[]),E.attachComment&&(E.range=!0,E.comments=[],E.bottomRightStack=[],E.trailingComments=[],E.leadingComments=[]));try{Pe=function Ci(){var H,ie;return Ie(),ee(),ie=D,w=!1,H=function Vs(){for(var H,Pe,De,ie=[];m<g&&(Pe=D).type===b.StringLiteral&&(H=Xr(),ie.push(H),H.expression.type===N.Literal);)"use strict"===c.slice(Pe.start+1,Pe.end-1)?(w=!0,De&&Qe(De,P.StrictOctalLiteral)):!De&&Pe.octal&&(De=Pe);for(;m<g&&!(typeof(H=Xr())>"u");)ie.push(H);return ie}(),v.markEnd(v.createProgram(H),ie)}(),typeof E.comments<"u"&&(Pe.comments=E.comments),typeof E.tokens<"u"&&(function Ii(){var H,ie,Pe,pe=[];for(H=0;H<E.tokens.length;++H)Pe={type:(ie=E.tokens[H]).type,value:ie.value},E.range&&(Pe.range=ie.range),E.loc&&(Pe.loc=ie.loc),pe.push(Pe);E.tokens=pe}(),Pe.tokens=E.tokens),typeof E.errors<"u"&&(Pe.errors=E.errors)}catch(De){throw De}finally{E={}}return Pe}function Ec(H,ie,Pe,pe){function De(Et){return String(Et).match(/^[0-9]+$/)?parseInt(Et):Number.isFinite(Et)?parseInt(Et,10):0}if("string"==typeof ie)throw new Error("start cannot be a string");if("string"==typeof Pe)throw new Error("end cannot be a string");if("string"==typeof pe)throw new Error("step cannot be a string");var Le=H.length;if(0===pe)throw new Error("step cannot be zero");if(pe=pe?De(pe):1,Pe=Pe<0?Le+Pe:Pe,ie=De(0===(ie=ie<0?Le+ie:ie)?0:ie||(pe>0?0:Le-1)),Pe=De(0===Pe?0:Pe||(pe>0?Le:-1)),ie=pe>0?Math.max(0,ie):Math.min(Le,ie),Pe=pe>0?Math.min(Pe,Le):Math.max(-1,Pe),pe>0&&Pe<=ie)return[];if(pe<0&&ie<=Pe)return[];for(var rt=[],ot=ie;ot!=Pe&&!(pe<0&&ot<=Pe||pe>0&&ot>=Pe);ot+=pe)rt.push(H[ot]);return rt}O={Data:1,Get:2,Set:4},P={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},y={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},u={name:"SyntaxTree",processComment:function(H){var ie,Pe;if(!(H.type===N.Program&&H.body.length>0)){for(E.trailingComments.length>0?E.trailingComments[0].range[0]>=H.range[1]?(Pe=E.trailingComments,E.trailingComments=[]):E.trailingComments.length=0:E.bottomRightStack.length>0&&E.bottomRightStack[E.bottomRightStack.length-1].trailingComments&&E.bottomRightStack[E.bottomRightStack.length-1].trailingComments[0].range[0]>=H.range[1]&&(Pe=E.bottomRightStack[E.bottomRightStack.length-1].trailingComments,delete E.bottomRightStack[E.bottomRightStack.length-1].trailingComments);E.bottomRightStack.length>0&&E.bottomRightStack[E.bottomRightStack.length-1].range[0]>=H.range[0];)ie=E.bottomRightStack.pop();ie?ie.leadingComments&&ie.leadingComments[ie.leadingComments.length-1].range[1]<=H.range[0]&&(H.leadingComments=ie.leadingComments,delete ie.leadingComments):E.leadingComments.length>0&&E.leadingComments[E.leadingComments.length-1].range[1]<=H.range[0]&&(H.leadingComments=E.leadingComments,E.leadingComments=[]),Pe&&(H.trailingComments=Pe),E.bottomRightStack.push(H)}},markEnd:function(H,ie){return E.range&&(H.range=[ie.start,m]),E.loc&&(H.loc=new he(void 0===ie.startLineNumber?ie.lineNumber:ie.startLineNumber,ie.start-(void 0===ie.startLineStart?ie.lineStart:ie.startLineStart),h,m-_),this.postProcess(H)),E.attachComment&&this.processComment(H),H},postProcess:function(H){return E.source&&(H.loc.source=E.source),H},createArrayExpression:function(H){return{type:N.ArrayExpression,elements:H}},createAssignmentExpression:function(H,ie,Pe){return{type:N.AssignmentExpression,operator:H,left:ie,right:Pe}},createBinaryExpression:function(H,ie,Pe){return{type:"||"===H||"&&"===H?N.LogicalExpression:N.BinaryExpression,operator:H,left:ie,right:Pe}},createBlockStatement:function(H){return{type:N.BlockStatement,body:H}},createBreakStatement:function(H){return{type:N.BreakStatement,label:H}},createCallExpression:function(H,ie){return{type:N.CallExpression,callee:H,arguments:ie}},createCatchClause:function(H,ie){return{type:N.CatchClause,param:H,body:ie}},createConditionalExpression:function(H,ie,Pe){return{type:N.ConditionalExpression,test:H,consequent:ie,alternate:Pe}},createContinueStatement:function(H){return{type:N.ContinueStatement,label:H}},createDebuggerStatement:function(){return{type:N.DebuggerStatement}},createDoWhileStatement:function(H,ie){return{type:N.DoWhileStatement,body:H,test:ie}},createEmptyStatement:function(){return{type:N.EmptyStatement}},createExpressionStatement:function(H){return{type:N.ExpressionStatement,expression:H}},createForStatement:function(H,ie,Pe,pe){return{type:N.ForStatement,init:H,test:ie,update:Pe,body:pe}},createForInStatement:function(H,ie,Pe){return{type:N.ForInStatement,left:H,right:ie,body:Pe,each:!1}},createFunctionDeclaration:function(H,ie,Pe,pe){return{type:N.FunctionDeclaration,id:H,params:ie,defaults:Pe,body:pe,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(H,ie,Pe,pe){return{type:N.FunctionExpression,id:H,params:ie,defaults:Pe,body:pe,rest:null,generator:!1,expression:!1}},createIdentifier:function(H){return{type:N.Identifier,name:H}},createIfStatement:function(H,ie,Pe){return{type:N.IfStatement,test:H,consequent:ie,alternate:Pe}},createLabeledStatement:function(H,ie){return{type:N.LabeledStatement,label:H,body:ie}},createLiteral:function(H){return{type:N.Literal,value:H.value,raw:c.slice(H.start,H.end)}},createMemberExpression:function(H,ie,Pe){return{type:N.MemberExpression,computed:"["===H,object:ie,property:Pe}},createNewExpression:function(H,ie){return{type:N.NewExpression,callee:H,arguments:ie}},createObjectExpression:function(H){return{type:N.ObjectExpression,properties:H}},createPostfixExpression:function(H,ie){return{type:N.UpdateExpression,operator:H,argument:ie,prefix:!1}},createProgram:function(H){return{type:N.Program,body:H}},createProperty:function(H,ie,Pe){return{type:N.Property,key:ie,value:Pe,kind:H}},createReturnStatement:function(H){return{type:N.ReturnStatement,argument:H}},createSequenceExpression:function(H){return{type:N.SequenceExpression,expressions:H}},createSwitchCase:function(H,ie){return{type:N.SwitchCase,test:H,consequent:ie}},createSwitchStatement:function(H,ie){return{type:N.SwitchStatement,discriminant:H,cases:ie}},createThisExpression:function(){return{type:N.ThisExpression}},createThrowStatement:function(H){return{type:N.ThrowStatement,argument:H}},createTryStatement:function(H,ie,Pe,pe){return{type:N.TryStatement,block:H,guardedHandlers:ie,handlers:Pe,finalizer:pe}},createUnaryExpression:function(H,ie){return"++"===H||"--"===H?{type:N.UpdateExpression,operator:H,argument:ie,prefix:!0}:{type:N.UnaryExpression,operator:H,argument:ie,prefix:!0}},createVariableDeclaration:function(H,ie){return{type:N.VariableDeclaration,declarations:H,kind:ie}},createVariableDeclarator:function(H,ie){return{type:N.VariableDeclarator,id:H,init:ie}},createWhileStatement:function(H,ie){return{type:N.WhileStatement,test:H,body:ie}},createWithStatement:function(H,ie){return{type:N.WithStatement,object:H,body:ie}}};var Oa=d(8911),zi=d.n(Oa);function Lr(H){return function(ie,Pe,pe,De){var Le=ie.value,rt=ie.path,ot=[],Et=function(Ft,vn){xi(Ft)?(Ft.forEach(function(In,Ct){ot.length>=De||pe(Ct,In,Pe)&&ot.push({path:vn.concat(Ct),value:In})}),Ft.forEach(function(In,Ct){ot.length>=De||H&&Et(In,vn.concat(Ct))})):function bs(H){return H&&!(H instanceof Array)&&H instanceof Object}(Ft)&&(Object.keys(Ft).forEach(function(In){ot.length>=De||pe(In,Ft[In],Pe)&&ot.push({path:vn.concat(In),value:Ft[In]})}),Object.keys(Ft).forEach(function(In){ot.length>=De||H&&Et(Ft[In],vn.concat(In))}))}.bind(this);return Et(Le,rt),ot}}function fo(H,ie){try{return zi()(H,ie)}catch{}}function Ki(H){return function(ie,Pe,pe){return this.descend(Pe,ie.expression.value,H,pe)}}function Es(H){return function(ie,Pe,pe){return this.traverse(Pe,ie.expression.value,H,pe)}}function Hs(H){return function Bt(H,ie){for(var Pe=[],pe=[],De=0,Le=H?.length;De<Le;De++){var rt=H[De],ot=ie?ie(rt,De):rt;pe.includes(ot)||(pe.push(ot),Pe.push(rt))}return Pe}(H=H.filter(function(ie){return ie}),function(ie){return ie.path.map(function(Pe){return String(Pe).replace("-","--")}).join("-")})}function vu(H){var ie=String(H);return ie.match(/^-?[0-9]+$/)?parseInt(ie):null}function xi(H){return Array.isArray(H)}function zs(H,ie,Pe){var De=fo(Mn(ie).body[0].expression,{"@":H.value}),Le=Pe.replace(/\{\{\s*value\s*\}\}/g,De),rt=qo.nodes(H.value,Le);return rt.forEach(function(ot){ot.path=H.path.concat(ot.path.slice(1))}),rt}var Er=function(){function H(){this._fns={"member-child-identifier":function(ie,Pe){var pe=ie.expression.value,De=Pe.value;if(De instanceof Object&&pe in De)return[{value:De[pe],path:Pe.path.concat(pe)}]},"member-descendant-identifier":Es(function(ie,Pe,pe){return ie==pe}),"subscript-child-numeric_literal":Ki(function(ie,Pe,pe){return ie===pe}),"member-child-numeric_literal":Ki(function(ie,Pe,pe){return String(ie)===String(pe)}),"subscript-descendant-numeric_literal":Es(function(ie,Pe,pe){return ie===pe}),"member-child-wildcard":Ki(function(){return!0}),"member-descendant-wildcard":Es(function(){return!0}),"subscript-descendant-wildcard":Es(function(){return!0}),"subscript-child-wildcard":Ki(function(){return!0}),"subscript-child-slice":function(ie,Pe){if(xi(Pe.value)){var pe=ie.expression.value.split(":").map(vu),De=Pe.value.map(function(Le,rt){return{value:Le,path:Pe.path.concat(rt)}});return Ec.apply(null,[De].concat(pe))}},"subscript-child-union":function(ie,Pe){var pe=[];return ie.expression.value.forEach(function(De){var Le={operation:"subscript",scope:"child",expression:De.expression},ot=this.resolve(Le)(Le,Pe);ot&&(pe=pe.concat(ot))},this),Hs(pe)},"subscript-descendant-union":function(ie,Pe,pe){var De=this,Le=[];return qo.nodes(Pe,"$..*").slice(1).forEach(function(ot){Le.length>=pe||ie.expression.value.forEach(function(Et){var Ft={operation:"subscript",scope:"child",expression:Et.expression},In=De.resolve(Ft)(Ft,ot);Le=Le.concat(In)})}),Hs(Le)},"subscript-child-filter_expression":function(ie,Pe,pe){var Le=Mn(ie.expression.value.slice(2,-1)).body[0].expression;return this.descend(Pe,null,function(ot,Et){return fo(Le,{"@":Et})},pe)},"subscript-descendant-filter_expression":function(ie,Pe,pe){var Le=Mn(ie.expression.value.slice(2,-1)).body[0].expression;return this.traverse(Pe,null,function(ot,Et){return fo(Le,{"@":Et})},pe)},"subscript-child-script_expression":function(ie,Pe){return zs(Pe,ie.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(ie,Pe){return zs(Pe,ie.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(ie,Pe){return zs(Pe,ie.expression.value.slice(1,-1),"$..value")}},this.initialize()}return H.prototype.initialize=function(){this.traverse=Lr(!0),this.descend=Lr(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},H.prototype.resolve=function(ie){var Pe=[ie.operation,ie.scope,ie.expression.type].join("-"),pe=this._fns[Pe];if(!pe)throw new Error("couldn't resolve key: "+Pe);return pe.bind(this)},H.prototype.register=function(ie,Pe){if(!(Pe instanceof Function))throw new Error("handler must be a function");this._fns[ie]=Pe},H}(),Ds=d(5320);function Ti(){var H=new Ds.iX,ie=H.parseError;return H.yy.parseError=function(){H.yy.ast&&H.yy.ast.initialize(),ie.apply(H,arguments)},H}var fr=function(){function H(){}return H.ok=function(ie,Pe){if(!ie)throw new Error(Pe)},H.equal=function(ie,Pe,pe){if(ie!==Pe)throw new Error(pe)},H}(),qo=function(){function H(){}return H.parse=function(ie){return fr.ok("string"==typeof ie,"we need a path"),(new Ti).parse(ie)},H.parent=function(ie,Pe){fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok(Pe,"we need a path");var pe=this.nodes(ie,Pe)[0];return pe.path.pop(),this.value(ie,pe.path)},H.apply=function(ie,Pe,pe){fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok(Pe,"we need a path"),fr.equal(typeof pe,"function","fn needs to be function");var De=this.nodes(ie,Pe).sort(function(Le,rt){return rt.path.length-Le.path.length});return De.forEach(function(Le){var rt=Le.path.pop(),ot=this.value(ie,this.stringify(Le.path)),Et=Le.value=pe.call(ie,ot[rt]);ot[rt]=Et},this),De},H.value=function(ie,Pe,pe){if(fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok(Pe,"we need a path"),void 0!==pe){var De=this.nodes(ie,Pe).shift();if(!De)return this._vivify(ie,Pe,pe);var Le=De.path.slice(-1).shift();this.parent(ie,this.stringify(De.path))[Le]=pe}return this.query(ie,this.stringify(Pe),1).shift()},H._vivify=function(ie,Pe,pe){var De=this;fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok(Pe,"we need a path");var Le=(new Ti).parse(Pe).map(function(ot){return ot.expression.value}),rt=function(ot,Et){var Ft=ot.pop(),vn=De.value(ie,ot);vn||(rt(ot.concat(),"string"==typeof Ft?{}:[]),vn=De.value(ie,ot)),vn[Ft]=Et};return rt(Le,pe),this.query(ie,Pe)[0]},H.query=function(ie,Pe,pe){return fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok("string"==typeof Pe,"we need a path"),this.nodes(ie,Pe,pe).map(function(Le){return Le.value})},H.paths=function(ie,Pe,pe){return fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok(Pe,"we need a path"),this.nodes(ie,Pe,pe).map(function(Le){return Le.path})},H.nodes=function(ie,Pe,pe){if(fr.ok(ie instanceof Object,"obj needs to be an object"),fr.ok(Pe,"we need a path"),0===pe)return[];var De=(new Ti).parse(Pe),Le=new Er,rt=[{path:["$"],value:ie}],ot=[];return De.length&&"root"==De[0].expression.type&&De.shift(),De.length?(De.forEach(function(Et,Ft){if(!(ot.length>=pe)){var vn=Le.resolve(Et),In=[];rt.forEach(function(Ct){if(!(ot.length>=pe)){var $r=vn(Et,Ct,pe);Ft==De.length-1?ot=ot.concat($r||[]):In=In.concat($r||[])}}),rt=In}}),pe?ot.slice(0,pe):ot):rt},H.stringify=function(ie){fr.ok(ie,"we need a path");var Pe="$",pe={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(ie=this._normalize(ie)).forEach(function(De){if("root"!=De.expression.type){var ot,Le=[De.scope,De.operation].join("-"),rt=pe[Le];if(ot="string_literal"==De.expression.type?JSON.stringify(De.expression.value):De.expression.value,!rt)throw new Error("couldn't find template "+Le);Pe+=rt.replace(/{{value}}/,ot)}}),Pe},H._normalize=function(ie){if(fr.ok(ie,"we need a path"),"string"==typeof ie)return(new Ti).parse(ie);if(Array.isArray(ie)&&"string"==typeof ie[0]){var Pe=[{expression:{type:"root",value:"$"}}];return ie.forEach(function(pe,De){"$"==pe&&0===De||("string"==typeof pe&&pe.match("^[a-zA-Z_]+[a-zA-Z0-9_]*$")?Pe.push({operation:"member",scope:"child",expression:{value:pe,type:"identifier"}}):Pe.push({operation:"subscript",scope:"child",expression:{value:pe,type:"number"==typeof pe?"numeric_literal":"string_literal"}}))}),Pe}if(Array.isArray(ie)&&"object"==typeof ie[0])return ie;throw new Error("couldn't understand path "+ie)},H}()},5320:(Z,A)=>{var b=function(){var S=function(Q,oe,j,ne){for(j=j||{},ne=Q.length;ne--;j[Q[ne]]=oe);return j},R=[1,5],O=[1,6],P=[1,7],y=[1,8],u=[1,9],c=[1,18],w=[1,19],m=[1,20],h=[1,12,14,22],_=[1,29],g=[1,30],v=[1,33],D=[1,35],T=[1,31],E=[1,36],N=[1,37],M=[24,28],k={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(oe,j,ne,K,te,le,Fe){K.ast||(K.ast=B,B.initialize());var J=le.length-1;switch(te){case 1:return K.ast.set({expression:{type:"root",value:le[J]}}),K.ast.unshift(),K.ast.yield();case 2:return K.ast.set({expression:{type:"root",value:le[J-1]}}),K.ast.unshift(),K.ast.yield();case 3:return K.ast.unshift(),K.ast.yield();case 4:return K.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:le[J-1]}}),K.ast.unshift(),K.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:K.ast.set({operation:"member"}),K.ast.push();break;case 8:K.ast.set({operation:"subscript"}),K.ast.push();break;case 9:case 19:K.ast.set({scope:"child"});break;case 10:case 20:K.ast.set({scope:"descendant"});break;case 12:K.ast.set({scope:"child",operation:"member"});break;case 14:K.ast.set({expression:{type:"wildcard",value:le[J]}});break;case 15:K.ast.set({expression:{type:"identifier",value:le[J]}});break;case 16:K.ast.set({expression:{type:"script_expression",value:le[J]}});break;case 17:K.ast.set({expression:{type:"numeric_literal",value:parseInt(le[J])}});break;case 24:le[J].length>1?K.ast.set({expression:{type:"union",value:le[J]}}):this.$=le[J];break;case 25:this.$=[le[J]];break;case 26:this.$=le[J-2].concat(le[J]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(le[J])}},K.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:le[J]}},K.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:le[J]}},K.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:le[J]}},K.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:le[J]}},K.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:le[J]}},K.ast.set(this.$);break;case 33:case 34:this.$=le[J]}},table:[{3:1,4:[1,2],6:3,13:4,15:R,16:O,17:P,18:y,19:u},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:c,14:w,20:16,21:17,22:m},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:c,14:w,20:16,21:17,22:m},S(h,[2,12]),S(h,[2,14]),S(h,[2,15]),S(h,[2,16]),S(h,[2,17]),S(h,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:c,14:w,20:16,21:17,22:m},S(h,[2,5]),S(h,[2,7]),S(h,[2,8]),S(h,[2,9]),S(h,[2,10]),S(h,[2,19]),S(h,[2,20]),{13:23,15:R,16:O,17:P,18:y,19:u},{13:24,15:R,16:O,17:P,18:y,19:u,22:[1,25]},{15:_,17:g,18:v,23:26,25:27,26:28,27:32,29:34,30:D,31:T,32:E,33:N},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:c,14:w,20:16,21:17,22:m},S(h,[2,6]),S(h,[2,11]),S(h,[2,13]),{15:_,17:g,18:v,23:38,25:27,26:28,27:32,29:34,30:D,31:T,32:E,33:N},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},S(M,[2,25]),S(M,[2,27]),S(M,[2,28]),S(M,[2,29]),S(M,[2,33]),S(M,[2,34]),{24:[1,41]},S(h,[2,21]),{18:v,27:42,29:34,30:D,32:E,33:N},S(h,[2,22]),S(M,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(oe,j){if(!j.recoverable){var ne=new Error(oe);throw ne.hash=j,ne}this.trace(oe)},parse:function(oe){var ne=[0],te=[null],le=[],Fe=this.table,J="",de=0,Ie=0,ae=0,$=le.slice.call(arguments,1),q=Object.create(this.lexer),G={yy:{}};for(var re in this.yy)Object.prototype.hasOwnProperty.call(this.yy,re)&&(G.yy[re]=this.yy[re]);q.setInput(oe,G.yy),G.yy.lexer=q,G.yy.parser=this,typeof q.yylloc>"u"&&(q.yylloc={});var ye=q.yylloc;le.push(ye);var Ne,me=q.options&&q.options.ranges;this.parseError="function"==typeof G.yy.parseError?G.yy.parseError:Object.getPrototypeOf(this).parseError;for(var Ye,gt,Ke,Ge,je,W,ee,he,se={};;){if(this.defaultActions[Ke=ne[ne.length-1]]?Ge=this.defaultActions[Ke]:((null===Ye||typeof Ye>"u")&&(Ne=void 0,"number"!=typeof(Ne=q.lex()||1)&&(Ne=this.symbols_[Ne]||Ne),Ye=Ne),Ge=Fe[Ke]&&Fe[Ke][Ye]),typeof Ge>"u"||!Ge.length||!Ge[0]){var Be;for(W in he=[],Fe[Ke])this.terminals_[W]&&W>2&&he.push("'"+this.terminals_[W]+"'");Be=q.showPosition?"Parse error on line "+(de+1)+":\n"+q.showPosition()+"\nExpecting "+he.join(", ")+", got '"+(this.terminals_[Ye]||Ye)+"'":"Parse error on line "+(de+1)+": Unexpected "+(1==Ye?"end of input":"'"+(this.terminals_[Ye]||Ye)+"'"),this.parseError(Be,{text:q.match,token:this.terminals_[Ye]||Ye,line:q.yylineno,loc:ye,expected:he})}if(Ge[0]instanceof Array&&Ge.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ke+", token: "+Ye);switch(Ge[0]){case 1:ne.push(Ye),te.push(q.yytext),le.push(q.yylloc),ne.push(Ge[1]),Ye=null,gt?(Ye=gt,gt=null):(Ie=q.yyleng,J=q.yytext,de=q.yylineno,ye=q.yylloc,ae>0&&ae--);break;case 2:if(se.$=te[te.length-(ee=this.productions_[Ge[1]][1])],se._$={first_line:le[le.length-(ee||1)].first_line,last_line:le[le.length-1].last_line,first_column:le[le.length-(ee||1)].first_column,last_column:le[le.length-1].last_column},me&&(se._$.range=[le[le.length-(ee||1)].range[0],le[le.length-1].range[1]]),typeof(je=this.performAction.apply(se,[J,Ie,de,G.yy,Ge[1],te,le].concat($)))<"u")return je;ee&&(ne=ne.slice(0,-1*ee*2),te=te.slice(0,-1*ee),le=le.slice(0,-1*ee)),ne.push(this.productions_[Ge[1]][0]),te.push(se.$),le.push(se._$),ne.push(Fe[ne[ne.length-2]][ne[ne.length-1]]);break;case 3:return!0}}return!0}},B={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(Q){for(var oe in Q)this._node[oe]=Q[oe];return this._node},node:function(Q){return arguments.length&&(this._node=Q),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var Q=this._nodes;return this.initialize(),Q}};function z(){this.yy={}}return k.lexer=function(){return{EOF:1,parseError:function(j,ne){if(!this.yy.parser)throw new Error(j);this.yy.parser.parseError(j,ne)},setInput:function(oe,j){return this.yy=j||this.yy||{},this._input=oe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var oe=this._input[0];return this.yytext+=oe,this.yyleng++,this.offset++,this.match+=oe,this.matched+=oe,oe.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),oe},unput:function(oe){var j=oe.length,ne=oe.split(/(?:\r\n?|\n)/g);this._input=oe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-j),this.offset-=j;var K=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ne.length-1&&(this.yylineno-=ne.length-1);var te=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ne?(ne.length===K.length?this.yylloc.first_column:0)+K[K.length-ne.length].length-ne[0].length:this.yylloc.first_column-j},this.options.ranges&&(this.yylloc.range=[te[0],te[0]+this.yyleng-j]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(oe){this.unput(this.match.slice(oe))},pastInput:function(){var oe=this.matched.substr(0,this.matched.length-this.match.length);return(oe.length>20?"...":"")+oe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var oe=this.match;return oe.length<20&&(oe+=this._input.substr(0,20-oe.length)),(oe.substr(0,20)+(oe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var oe=this.pastInput(),j=new Array(oe.length+1).join("-");return oe+this.upcomingInput()+"\n"+j+"^"},test_match:function(oe,j){var ne,K,te;if(this.options.backtrack_lexer&&(te={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(te.yylloc.range=this.yylloc.range.slice(0))),(K=oe[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=K.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K?K[K.length-1].length-K[K.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+oe[0].length},this.yytext+=oe[0],this.match+=oe[0],this.matches=oe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(oe[0].length),this.matched+=oe[0],ne=this.performAction.call(this,this.yy,this,j,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ne)return ne;if(this._backtrack){for(var le in te)this[le]=te[le];return!1}return!1},next:function(){if(this.done)return this.EOF;var oe,j,ne,K;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var te=this._currentRules(),le=0;le<te.length;le++)if((ne=this._input.match(this.rules[te[le]]))&&(!j||ne[0].length>j[0].length)){if(j=ne,K=le,this.options.backtrack_lexer){if(!1!==(oe=this.test_match(ne,te[le])))return oe;if(this._backtrack){j=!1;continue}return!1}if(!this.options.flex)break}return j?!1!==(oe=this.test_match(j,te[K]))&&oe:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(j){this.conditionStack.push(j)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(j){return(j=this.conditionStack.length-1-Math.abs(j||0))>=0?this.conditionStack[j]:"INITIAL"},pushState:function(j){this.begin(j)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(j,ne,K,te){switch(K){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return ne.yytext=ne.yytext.substr(1,ne.yyleng-2),32;case 11:return ne.yytext=ne.yytext.substr(1,ne.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}(),z.prototype=k,k.Parser=z,new z}();A.iX=b.Parser},2191:(Z,A,d)=>{var b=d(573);const S="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,R=()=>S.now(),P=u=>u===1/0||(u=>u&&u===Math.floor(u)&&u>0&&isFinite(u))(u);class y{constructor({max:c=1/0,ttl:w,updateAgeOnGet:m=!1,checkAgeOnGet:h=!1,noUpdateTTL:_=!1,dispose:g,noDisposeOnSet:v=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==w&&!P(w))throw new TypeError("ttl must be positive integer or Infinity if set");if(!P(c))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=w,this.max=c,this.updateAgeOnGet=!!m,this.checkAgeOnGet=!!h,this.noUpdateTTL=!!_,this.noDisposeOnSet=!!v,void 0!==g){if("function"!=typeof g)throw new TypeError("dispose must be function if set");this.dispose=g}this.timer=void 0,this.timerExpiration=void 0}setTimer(c,w){if(this.timerExpiration<c)return;this.timer&&clearTimeout(this.timer);const m=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const h in this.expirations){this.setTimer(h,h-R());break}},w);m.unref&&m.unref(),this.timerExpiration=c,this.timer=m}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return b.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const c=this.dispose!==y.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[w,m]of c)this.dispose(m,w,"delete")}setTTL(c,w=this.ttl){const m=this.expirationMap.get(c);if(void 0!==m){const h=this.expirations[m];!h||h.length<=1?delete this.expirations[m]:this.expirations[m]=h.filter(_=>_!==c)}if(w!==1/0){const h=Math.floor(R()+w);this.expirationMap.set(c,h),this.expirations[h]||(this.expirations[h]=[],this.setTimer(h,w)),this.expirations[h].push(c)}else this.expirationMap.set(c,1/0)}set(c,w,{ttl:m=this.ttl,noUpdateTTL:h=this.noUpdateTTL,noDisposeOnSet:_=this.noDisposeOnSet}={}){if(!P(m))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(c)){h||this.setTTL(c,m);const g=this.data.get(c);g!==w&&(this.data.set(c,w),_||this.dispose(g,c,"set"))}else this.setTTL(c,m),this.data.set(c,w);for(;this.size>this.max;)this.purgeToCapacity();return this}has(c){return this.data.has(c)}getRemainingTTL(c){const w=this.expirationMap.get(c);return w===1/0?w:void 0!==w?Math.max(0,Math.ceil(w-R())):0}get(c,{updateAgeOnGet:w=this.updateAgeOnGet,ttl:m=this.ttl,checkAgeOnGet:h=this.checkAgeOnGet}={}){const _=this.data.get(c);if(!h||0!==this.getRemainingTTL(c))return w&&this.setTTL(c,m),_;this.delete(c)}dispose(c,w){}delete(c){const w=this.expirationMap.get(c);if(void 0!==w){const m=this.data.get(c);this.data.delete(c),this.expirationMap.delete(c);const h=this.expirations[w];return h&&(h.length<=1?delete this.expirations[w]:this.expirations[w]=h.filter(_=>_!==c)),this.dispose(m,c,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const c in this.expirations){const w=this.expirations[c];if(!(this.size-w.length>=this.max)){const m=this.size-this.max,h=[];for(const _ of w.splice(0,m))h.push([_,this.data.get(_)]),this.data.delete(_),this.expirationMap.delete(_);for(const[_,g]of h)this.dispose(g,_,"evict");return}{delete this.expirations[c];const m=[];for(const h of w)m.push([h,this.data.get(h)]),this.data.delete(h),this.expirationMap.delete(h);for(const[h,_]of m)this.dispose(_,h,"evict")}}}get size(){return this.data.size}purgeStale(){const c=Math.ceil(R());for(const w in this.expirations){if("Infinity"===w||w>c)return;const m=[...this.expirations[w]||[]],h=[];delete this.expirations[w];for(const _ of m)h.push([_,this.data.get(_)]),this.data.delete(_),this.expirationMap.delete(_);for(const[_,g]of h)this.dispose(g,_,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const c in this.expirations)for(const w of this.expirations[c])yield[w,this.data.get(w)]}*keys(){for(const c in this.expirations)for(const w of this.expirations[c])yield w}*values(){for(const c in this.expirations)for(const w of this.expirations[c])yield this.data.get(w)}[Symbol.iterator](){return this.entries()}}Z.exports=y},9545:(Z,A,d)=>{"use strict";var b={};d.r(b),d.d(b,{OG:()=>Fb,My:()=>ec,Ph:()=>tc,lX:()=>Qa,Id:()=>nc,fg:()=>JP,qj:()=>Ar,aT:()=>Nl,aY:()=>ko,lq:()=>Lo,z:()=>Bl,Q5:()=>rc});let R=null,P=1;const y=Symbol("SIGNAL");function u(e){const n=R;return R=e,n}const h={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function v(e){if((!Q(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==P)){if(!e.producerMustRecompute(e)&&!k(e))return e.dirty=!1,void(e.lastCleanEpoch=P);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=P}}function N(e){return e&&(e.nextProducerIndex=0),u(e)}function k(e){oe(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(v(t),r!==t.version))return!0}return!1}function B(e){if(oe(e),Q(e))for(let n=0;n<e.producerNode.length;n++)z(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function z(e,n){if(function j(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),1===e.liveConsumerNode.length&&function ne(e){return void 0!==e.producerNode}(e))for(let r=0;r<e.producerNode.length;r++)z(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];oe(i),i.producerIndexOfThis[r]=n}}function Q(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function oe(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ie=null;function Ae(e){return"function"==typeof e}function je(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const se=je(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function W(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class ee{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){n=s instanceof se?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Be(s)}catch(o){n=n??[],o instanceof se?n=[...n,...o.errors]:n.push(o)}}if(n)throw new se(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Be(n);else{if(n instanceof ee){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&W(t,n)}remove(n){const{_finalizers:t}=this;t&&W(t,n),n instanceof ee&&n._removeParent(this)}}ee.EMPTY=(()=>{const e=new ee;return e.closed=!0,e})();const ke=ee.EMPTY;function he(e){return e instanceof ee||e&&"closed"in e&&Ae(e.remove)&&Ae(e.add)&&Ae(e.unsubscribe)}function Be(e){Ae(e)?e():e.unsubscribe()}const Ne={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Qe={setTimeout(e,n,...t){const{delegate:r}=Qe;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Qe;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ut(e){Qe.setTimeout(()=>{const{onUnhandledError:n}=Ne;if(!n)throw e;n(e)})}function qe(){}const ht=f("C",void 0,void 0);function f(e,n,t){return{kind:e,value:n,error:t}}let V=null;function X(e){if(Ne.useDeprecatedSynchronousErrorHandling){const n=!V;if(n&&(V={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=V;if(V=null,t)throw r}}else e()}class Ce extends ee{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,he(n)&&n.add(this)):this.destination=Sn}static create(n,t,r){return new pt(n,t,r)}next(n){this.isStopped?Bn(function l(e){return f("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Bn(function F(e){return f("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Bn(ht,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ze(e,n){return $e.call(e,n)}class dt{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){at(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){at(r)}else at(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){at(t)}}}class pt extends Ce{constructor(n,t,r){let i;if(super(),Ae(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ne.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ze(n.next,s),error:n.error&&Ze(n.error,s),complete:n.complete&&Ze(n.complete,s)}):i=n}this.destination=new dt(i)}}function at(e){Ne.useDeprecatedSynchronousErrorHandling?function fe(e){Ne.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=e)}(e):ut(e)}function Bn(e,n){const{onStoppedNotification:t}=Ne;t&&Qe.setTimeout(()=>t(e,n))}const Sn={closed:!0,next:qe,error:function xt(e){throw e},complete:qe},_n="function"==typeof Symbol&&Symbol.observable||"@@observable";function An(e){return e}function Y(e){return 0===e.length?An:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let be=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ze(e){return e&&e instanceof Ce||function Te(e){return e&&Ae(e.next)&&Ae(e.error)&&Ae(e.complete)}(e)&&he(e)}(t)?t:new pt(t,r,i);return X(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=we(r))((i,s)=>{const o=new pt({next:a=>{try{t(a)}catch(p){s(p),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[_n](){return this}pipe(...t){return Y(t)(this)}toPromise(t){return new(t=we(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function we(e){var n;return null!==(n=e??Ne.Promise)&&void 0!==n?n:Promise}const ct=je(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ve=(()=>{class e extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Oe(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ct}next(t){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ke:(this.currentObservers=null,s.push(t),new ee(()=>{this.currentObservers=null,W(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new be;return t.source=this,t}}return e.create=(n,t)=>new Oe(n,t),e})();class Oe extends ve{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:ke}}class xe extends ve{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function _e(e){return Ae(e?.lift)}function Ve(e){return n=>{if(_e(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function tt(e,n,t,r,i){return new it(e,n,t,r,i)}class it extends Ce{constructor(n,t,r,i,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(p){n.error(p)}}:super._next,this._error=i?function(a){try{i(a)}catch(p){n.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function vt(e,n){return Ve((t,r)=>{let i=0;t.subscribe(tt(r,s=>{r.next(e.call(n,s,i++))}))})}const Lt="https://g.co/ng/security#xss";class lt extends Error{constructor(n,t){super(function on(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function tn(e){return{toString:e}.toString()}const Yr="__parameters__";function ar(e,n,t){return tn(()=>{const r=function Cn(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(p,C,x){const U=p.hasOwnProperty(Yr)?p[Yr]:Object.defineProperty(p,Yr,{value:[]})[Yr];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(o),p}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const un=globalThis;function cn(e){for(let n in e)if(e[n]===cn)return n;throw Error("Could not find renamed property on target object.")}function Jn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Jn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Xr(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ci=cn({__forward_ref__:cn});function Ii(e){return e.__forward_ref__=Ii,e.toString=function(){return Jn(this())},e}function jt(e){return Mn(e)?e():e}function Mn(e){return"function"==typeof e&&e.hasOwnProperty(Ci)&&e.__forward_ref__===Ii}function H(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function pe(e){return Le(e,Et)||Le(e,vn)}function Le(e,n){return e.hasOwnProperty(n)?e[n]:null}function ot(e){return e&&(e.hasOwnProperty(Ft)||e.hasOwnProperty(In))?e[Ft]:null}const Et=cn({\u0275prov:cn}),Ft=cn({\u0275inj:cn}),vn=cn({ngInjectableDef:cn}),In=cn({ngInjectorDef:cn});class Ct{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wi(e){return e&&!!e.\u0275providers}const Ei=cn({\u0275cmp:cn}),_s=cn({\u0275dir:cn}),Oi=cn({\u0275pipe:cn}),As=cn({\u0275mod:cn}),Wi=cn({\u0275fac:cn}),nd=cn({__NG_ELEMENT_ID__:cn}),tD=cn({__NG_ENV_ID__:cn});function nn(e){return"string"==typeof e?e:null==e?"":String(e)}function jy(e,n){throw new lt(-201,!1)}var wn=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(wn||{});let Uy;function nD(){return Uy}function Gi(e){const n=Uy;return Uy=e,n}function rD(e,n,t){const r=pe(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&wn.Optional?null:void 0!==n?n:void jy()}const rd={},Vy="__NG_DI_FLAG__",Gp="ngTempTokenPath",yM=/\n/gm,iD="__source";let Dc;function Fa(e){const n=Dc;return Dc=e,n}function EM(e,n=wn.Default){if(void 0===Dc)throw new lt(-203,!1);return null===Dc?rD(e,void 0,n):Dc.get(e,n&wn.Optional?null:void 0,n)}function Gt(e,n=wn.Default){return(nD()||EM)(jt(e),n)}function yt(e,n=wn.Default){return Gt(e,Jp(n))}function Jp(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hy(e){const n=[];for(let t=0;t<e.length;t++){const r=jt(e[t]);if(Array.isArray(r)){if(0===r.length)throw new lt(900,!1);let i,s=wn.Default;for(let o=0;o<r.length;o++){const a=r[o],p=bM(a);"number"==typeof p?-1===p?i=a.token:s|=p:i=a}n.push(Gt(i,s))}else n.push(Gt(r))}return n}function id(e,n){return e[Vy]=n,e.prototype[Vy]=n,e}function bM(e){return e[Vy]}const Zp=id(ar("Optional"),8),qp=id(ar("SkipSelf"),4);function Eu(e,n){return e.hasOwnProperty(Wi)?e[Wi]:null}function Sc(e,n){e.forEach(t=>Array.isArray(t)?Sc(t,n):n(t))}function oD(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Yp(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}const ho={},Pn=[],mo=new Ct(""),cD=new Ct("",-1),Wy=new Ct("");class Qp{get(n,t=rd){if(t===rd){const r=new Error(`NullInjectorError: No provider for ${Jn(n)}!`);throw r.name="NullInjectorError",r}return t}}var eh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(eh||{}),Gs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gs||{}),Ra=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ra||{});function xM(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}function Gy(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];e.setAttribute(n,o,a,s)}else{const s=i,o=t[++r];dD(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),r++}}return r}function lD(e){return 3===e||4===e||6===e}function dD(e){return 64===e.charCodeAt(0)}function sd(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||fD(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function fD(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const pD="ng-template";function TM(e,n,t,r){let i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==xM(n[i+1].toLowerCase(),t,0))return!0}else if(Jy(e))return!1;if(i=n.indexOf(1,i),i>-1){let s;for(;++i<n.length&&"string"==typeof(s=n[i]);)if(s.toLowerCase()===t)return!0}return!1}function Jy(e){return 4===e.type&&e.value!==pD}function OM(e,n,t){return n===(4!==e.type||t?e.value:pD)}function PM(e,n,t){let r=4;const i=e.attrs,s=null!==i?function MM(e){for(let n=0;n<e.length;n++)if(lD(e[n]))return n;return e.length}(i):0;let o=!1;for(let a=0;a<n.length;a++){const p=n[a];if("number"!=typeof p){if(!o)if(4&r){if(r=2|1&r,""!==p&&!OM(e,p,t)||""===p&&1===n.length){if(Js(r))return!1;o=!0}}else if(8&r){if(null===i||!TM(e,i,p,t)){if(Js(r))return!1;o=!0}}else{const C=n[++a],x=FM(p,i,Jy(e),t);if(-1===x){if(Js(r))return!1;o=!0;continue}if(""!==C){let U;if(U=x>s?"":i[x+1].toLowerCase(),2&r&&C!==U){if(Js(r))return!1;o=!0}}}}else{if(!o&&!Js(r)&&!Js(p))return!1;if(o&&Js(p))continue;o=!1,r=p|1&r}}return Js(r)||o}function Js(e){return!(1&e)}function FM(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function NM(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function hD(e,n,t=!1){for(let r=0;r<n.length;r++)if(PM(e,n[r],t))return!0;return!1}function mD(e,n){return e?":not("+n.trim()+")":n}function kM(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const a=e[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Js(o)&&(n+=mD(s,i),i=""),r=o,s=s||!Js(r);t++}return""!==i&&(n+=mD(s,i)),n}function Ac(e){return tn(()=>{const n=yD(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===eh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gs.Emulated,styles:e.styles||Pn,_:null,schemas:e.schemas||null,tView:null,id:""};vD(t);const r=e.dependencies;return t.directiveDefs=nh(r,!1),t.pipeDefs=nh(r,!0),t.id=function HM(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function jM(e){return mn(e)||jr(e)}function UM(e){return null!==e}function th(e){return tn(()=>({type:e.type,bootstrap:e.bootstrap||Pn,declarations:e.declarations||Pn,imports:e.imports||Pn,exports:e.exports||Pn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gD(e,n){if(null==e)return ho;const t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let s,o,a=Ra.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),n?(t[s]=a!==Ra.None?[r,a]:r,n[s]=o):t[s]=r}return t}function Pi(e){return tn(()=>{const n=yD(e);return vD(n),n})}function Fi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function mn(e){return e[Ei]||null}function jr(e){return e[_s]||null}function ii(e){return e[Oi]||null}function bi(e,n){const t=e[As]||null;if(!t&&!0===n)throw new Error(`Type ${Jn(e)} does not have '\u0275mod' property.`);return t}function yD(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ho,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Pn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gD(e.inputs,n),outputs:gD(e.outputs),debugInfo:null}}function vD(e){e.features?.forEach(n=>n(e))}function nh(e,n){if(!e)return null;const t=n?ii:jM;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(UM)}function od(e){return{\u0275providers:e}}function zM(...e){return{\u0275providers:Zy(0,e),\u0275fromNgModule:!0}}function Zy(e,...n){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Sc(n,o=>{const a=o;rh(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&wD(i,s),t}function wD(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];qy(i,s=>{n(s,r)})}}function rh(e,n,t,r){if(!(e=jt(e)))return!1;let i=null,s=ot(e);const o=!s&&mn(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const p=e.ngModule;if(s=ot(p),!s)return!1;i=p}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const p="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const C of p)rh(C,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let C;r.add(i);try{Sc(s.imports,x=>{rh(x,n,t,r)&&(C||=[],C.push(x))})}finally{}void 0!==C&&wD(C,n)}if(!a){const C=Eu(i)||(()=>new i);n({provide:i,useFactory:C,deps:Pn},i),n({provide:Wy,useValue:i,multi:!0},i),n({provide:mo,useValue:()=>Gt(i),multi:!0},i)}const p=s.providers;if(null!=p&&!a){const C=e;qy(p,x=>{n(x,C)})}}}return i!==e&&void 0!==e.providers}function qy(e,n){for(let t of e)wi(t)&&(t=t.\u0275providers),Array.isArray(t)?qy(t,n):n(t)}const KM=cn({provide:String,useValue:cn});function Yy(e){return null!==e&&"object"==typeof e&&KM in e}function bu(e){return"function"==typeof e}const Xy=new Ct(""),ih={},GM={};let Qy;function sh(){return void 0===Qy&&(Qy=new Qp),Qy}class Zi{}class Cc extends Zi{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t0(n,o=>this.processProvider(o)),this.records.set(cD,Ic(void 0,this)),i.has("environment")&&this.records.set(Zi,Ic(void 0,this));const s=this.records.get(Xy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Wy,Pn,wn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=u(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),u(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Fa(this),r=Gi(void 0);try{return n()}finally{Fa(t),Gi(r)}}get(n,t=rd,r=wn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(tD))return n[tD](this);r=Jp(r);const s=Fa(this),o=Gi(void 0);try{if(!(r&wn.SkipSelf)){let p=this.records.get(n);if(void 0===p){const C=function XM(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ct}(n)&&pe(n);p=C&&this.injectableDefInScope(C)?Ic(e0(n),ih):null,this.records.set(n,p)}if(null!=p)return this.hydrate(n,p)}return(r&wn.Self?sh():this.parent).get(n,t=r&wn.Optional&&t===rd?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Gp]=a[Gp]||[]).unshift(Jn(n)),s)throw a;return function DM(e,n,t,r){const i=e[Gp];throw n[iD]&&i.unshift(n[iD]),e.message=function SM(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Jn(n);if(Array.isArray(n))i=n.map(Jn).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Jn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(yM,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Gp]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Gi(o),Fa(s)}}resolveInjectorInitializers(){const n=u(null),t=Fa(this),r=Gi(void 0);try{const s=this.get(mo,Pn,wn.Self);for(const o of s)o()}finally{Fa(t),Gi(r),u(n)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Jn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(n){let t=bu(n=jt(n))?n:jt(n&&n.provide);const r=function ZM(e){return Yy(e)?Ic(void 0,e.useValue):Ic(function DD(e,n,t){let r;if(bu(e)){const i=jt(e);return Eu(i)||e0(i)}if(Yy(e))r=()=>jt(e.useValue);else if(function bD(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Hy(e.deps||[]));else if(function ED(e){return!(!e||!e.useExisting)}(e))r=()=>Gt(jt(e.useExisting));else{const i=jt(e&&(e.useClass||e.provide));if(!function qM(e){return!!e.deps}(e))return Eu(i)||e0(i);r=()=>new i(...Hy(e.deps))}return r}(e),ih)}(n);if(!bu(n)&&!0===n.multi){let i=this.records.get(t);i||(i=Ic(void 0,ih,!0),i.factory=()=>Hy(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){const r=u(null);try{return t.value===ih&&(t.value=GM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function YM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{u(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=jt(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function e0(e){const n=pe(e),t=null!==n?n.factory:Eu(e);if(null!==t)return t;if(e instanceof Ct)throw new lt(204,!1);if(e instanceof Function)return function JM(e){if(e.length>0)throw new lt(204,!1);const t=function rt(e){return e&&(e[Et]||e[vn])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new lt(204,!1)}function Ic(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function t0(e,n){for(const t of e)Array.isArray(t)?t0(t,n):t&&wi(t)?t0(t.\u0275providers,n):n(t)}function Yo(e,n){e instanceof Cc&&e.assertNotDestroyed();const r=Fa(e),i=Gi(void 0);try{return n()}finally{Fa(r),Gi(i)}}function SD(){return void 0!==nD()||null!=function wM(){return Dc}()}const cr=0,Dt=1,zt=2,Tr=3,Zs=4,si=5,Ri=6,Tc=7,rr=8,Or=9,go=10,qt=11,ud=12,AD=13,Oc=14,lr=15,Du=16,Pc=17,Xo=18,Fc=19,CD=20,Na=21,ah=22,Cs=23,kt=25,s0=1,yo=7,Rc=9,br=10;var ch=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ch||{});function Vr(e){return Array.isArray(e)&&"object"==typeof e[s0]}function Di(e){return Array.isArray(e)&&!0===e[s0]}function o0(e){return!!(4&e.flags)}function Su(e){return e.componentOffset>-1}function lh(e){return!(1&~e.flags)}function qs(e){return!!e.template}function ld(e){return!!(512&e[zt])}class lN{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function PD(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function _u(){return FD}function FD(e){return e.type.prototype.ngOnChanges&&(e.setInput=fN),dN}function dN(){const e=MD(this),n=e?.current;if(n){const t=e.previous;if(t===ho)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function fN(e,n,t,r,i){const s=this.declaredInputs[r],o=MD(e)||function pN(e,n){return e[RD]=n}(e,{previous:ho,current:null}),a=o.current||(o.current={}),p=o.previous,C=p[s];a[s]=new lN(C&&C.currentValue,t,p===ho),PD(e,n,i,t)}_u.ngInherit=!0;const RD="__ngSimpleChanges__";function MD(e){return e[RD]||null}const vo=function(e,n,t){};function Fn(e){for(;Array.isArray(e);)e=e[cr];return e}function Mi(e,n){return Fn(n[e.index])}function fd(e,n){return e.data[n]}function is(e,n){const t=n[e];return Vr(t)?t:t[cr]}function d0(e){return!(128&~e[zt])}function Is(e,n){return null==n?null:e[n]}function kD(e){e[Pc]=0}function LD(e){1024&e[zt]||(e[zt]|=1024,d0(e)&&fh(e))}function dh(e){return!!(9216&e[zt]||e[Cs]?.dirty)}function f0(e){e[go].changeDetectionScheduler?.notify(8),64&e[zt]&&(e[zt]|=1024),dh(e)&&fh(e)}function fh(e){e[go].changeDetectionScheduler?.notify(0);let n=Qo(e);for(;null!==n&&!(8192&n[zt])&&(n[zt]|=8192,d0(n));)n=Qo(n)}function ph(e,n){if(!(256&~e[zt]))throw new lt(911,!1);null===e[Na]&&(e[Na]=[]),e[Na].push(n)}function Qo(e){const n=e[Tr];return Di(n)?n[Tr]:n}const Yt={lFrame:YD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let jD=!1;function UD(){return Yt.bindingsEnabled}function ft(){return Yt.lFrame.lView}function ln(){return Yt.lFrame.tView}function Wn(){let e=VD();for(;null!==e&&64===e.type;)e=e.parent;return e}function VD(){return Yt.lFrame.currentTNode}function Ys(e,n){const t=Yt.lFrame;t.currentTNode=e,t.isParent=n}function m0(){return Yt.lFrame.isParent}function KD(){return jD}function WD(e){jD=e}function Ni(){const e=Yt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Xs(){return Yt.lFrame.bindingIndex++}function TN(e,n){const t=Yt.lFrame;t.bindingIndex=t.bindingRootIndex=e,y0(n)}function y0(e){Yt.lFrame.currentDirectiveIndex=e}function mh(e){Yt.lFrame.currentQueryIndex=e}function PN(e){const n=e[Dt];return 2===n.type?n.declTNode:1===n.type?e[si]:null}function ZD(e,n,t){if(t&wn.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&wn.Host||(i=PN(s),null===i||(s=s[Oc],10&i.type))););if(null===i)return!1;n=i,e=s}const r=Yt.lFrame=qD();return r.currentTNode=n,r.lView=e,!0}function E0(e){const n=qD(),t=e[Dt];Yt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function qD(){const e=Yt.lFrame,n=null===e?null:e.child;return null===n?YD(e):n}function YD(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function XD(){const e=Yt.lFrame;return Yt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const QD=XD;function b0(){const e=XD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function oi(){return Yt.lFrame.selectedIndex}function Iu(e){Yt.lFrame.selectedIndex=e}function ir(){const e=Yt.lFrame;return fd(e.tView,e.selectedIndex)}let rS=!0;function hd(){return rS}function wo(e){rS=e}function gh(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:p,ngAfterViewChecked:C,ngOnDestroy:x}=s;o&&(e.contentHooks??=[]).push(-t,o),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),p&&(e.viewHooks??=[]).push(-t,p),C&&((e.viewHooks??=[]).push(t,C),(e.viewCheckHooks??=[]).push(t,C)),null!=x&&(e.destroyHooks??=[]).push(t,x)}}function yh(e,n,t){iS(e,n,3,t)}function vh(e,n,t,r){(3&e[zt])===t&&iS(e,n,t,r)}function D0(e,n){let t=e[zt];(3&t)===n&&(t&=16383,t+=1,e[zt]=t)}function iS(e,n,t,r){const s=r??-1,o=n.length-1;let a=0;for(let p=void 0!==r?65535&e[Pc]:0;p<o;p++)if("number"==typeof n[p+1]){if(a=n[p],null!=r&&a>=r)break}else n[p]<0&&(e[Pc]+=65536),(a<s||-1==s)&&(BN(e,t,n,p),e[Pc]=(4294901760&e[Pc])+p+2),p++}function sS(e,n){vo(4,e,n);const t=u(null);try{n.call(e)}finally{u(t),vo(5,e,n)}}function BN(e,n,t,r){const i=t[r]<0,s=t[r+1],a=e[i?-t[r]:t[r]];i?e[zt]>>14<e[Pc]>>16&&(3&e[zt])===n&&(e[zt]+=16384,sS(a,s)):sS(a,s)}const Mc=-1;class md{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}const _0={};class xu{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Jp(r);const i=this.injector.get(n,_0,r);return i!==_0||t===_0?i:this.parentInjector.get(n,t,r)}}function A0(e){return e!==Mc}function gd(e){return 32767&e}function yd(e,n){let t=function UN(e){return e>>16}(e),r=n;for(;t>0;)r=r[Oc],t--;return r}let C0=!0;function wh(e){const n=C0;return C0=e,n}const aS=255,uS=5;let HN=0;const Eo={};function Eh(e,n){const t=cS(e,n);if(-1!==t)return t;const r=n[Dt];r.firstCreatePass&&(e.injectorIndex=n.length,I0(r.data,e),I0(n,null),I0(r.blueprint,null));const i=bh(e,n),s=e.injectorIndex;if(A0(i)){const o=gd(i),a=yd(i,n),p=a[Dt].data;for(let C=0;C<8;C++)n[s+C]=a[o+C]|p[o+C]}return n[s+8]=i,s}function I0(e,n){e.push(0,0,0,0,0,0,0,0,n)}function cS(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function bh(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=gS(i),null===r)return Mc;if(t++,i=i[Oc],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Mc}function x0(e,n,t){!function zN(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(nd)&&(r=t[nd]),null==r&&(r=t[nd]=HN++);const i=r&aS;n.data[e+(i>>uS)]|=1<<i}(e,n,t)}function lS(e,n,t){if(t&wn.Optional||void 0!==e)return e;jy()}function dS(e,n,t,r){if(t&wn.Optional&&void 0===r&&(r=null),!(t&(wn.Self|wn.Host))){const i=e[Or],s=Gi(void 0);try{return i?i.get(n,r,t&wn.Optional):rD(n,r,t&wn.Optional)}finally{Gi(s)}}return lS(r,0,t)}function fS(e,n,t,r=wn.Default,i){if(null!==e){if(2048&n[zt]&&!(r&wn.Self)){const o=function ZN(e,n,t,r,i){let s=e,o=n;for(;null!==s&&null!==o&&2048&o[zt]&&!(512&o[zt]);){const a=pS(s,o,t,r|wn.Self,Eo);if(a!==Eo)return a;let p=s.parent;if(!p){const C=o[CD];if(C){const x=C.get(t,Eo,r);if(x!==Eo)return x}p=gS(o),o=o[Oc]}s=p}return i}(e,n,t,r,Eo);if(o!==Eo)return o}const s=pS(e,n,t,r,Eo);if(s!==Eo)return s}return dS(n,t,r,i)}function pS(e,n,t,r,i){const s=function GN(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(nd)?e[nd]:void 0;return"number"==typeof n?n>=0?n&aS:JN:n}(t);if("function"==typeof s){if(!ZD(n,e,r))return r&wn.Host?lS(i,0,r):dS(n,t,r,i);try{let o;if(o=s(r),null!=o||r&wn.Optional)return o;jy()}finally{QD()}}else if("number"==typeof s){let o=null,a=cS(e,n),p=Mc,C=r&wn.Host?n[lr][si]:null;for((-1===a||r&wn.SkipSelf)&&(p=-1===a?bh(e,n):n[a+8],p!==Mc&&mS(r,!1)?(o=n[Dt],a=gd(p),n=yd(p,n)):a=-1);-1!==a;){const x=n[Dt];if(hS(s,a,x.data)){const U=WN(a,n,t,o,r,C);if(U!==Eo)return U}p=n[a+8],p!==Mc&&mS(r,n[Dt].data[a+8]===C)&&hS(s,a,n)?(o=x,a=gd(p),n=yd(p,n)):a=-1}}return i}function WN(e,n,t,r,i,s){const o=n[Dt],a=o.data[e+8],x=function Dh(e,n,t,r,i){const s=e.providerIndexes,o=n.data,a=1048575&s,p=e.directiveStart,x=s>>20,ue=i?a+x:e.directiveEnd;for(let ce=r?a:a+x;ce<ue;ce++){const ge=o[ce];if(ce<p&&t===ge||ce>=p&&ge.type===t)return ce}if(i){const ce=o[p];if(ce&&qs(ce)&&ce.type===t)return p}return null}(a,o,t,null==r?Su(a)&&C0:r!=o&&!!(3&a.type),i&wn.Host&&s===a);return null!==x?Tu(n,o,x,a):Eo}function Tu(e,n,t,r){let i=e[t];const s=n.data;if(function kN(e){return e instanceof md}(i)){const o=i;o.resolving&&function hM(e,n){throw n&&n.join(" > "),new lt(-200,e)}(function Ln(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():nn(e)}(s[t]));const a=wh(o.canSeeViewProviders);o.resolving=!0;const C=o.injectImpl?Gi(o.injectImpl):null;ZD(e,r,wn.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function NN(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=FD(n);(t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o)}i&&(t.preOrderHooks??=[]).push(0-e,i),s&&((t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s))}(t,s[t],n)}finally{null!==C&&Gi(C),wh(a),o.resolving=!1,QD()}}return i}function hS(e,n,t){return!!(t[n+(e>>uS)]&1<<e)}function mS(e,n){return!(e&wn.Self||e&wn.Host&&n)}class Hr{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return fS(this._tNode,this._lView,n,Jp(r),t)}}function JN(){return new Hr(Wn(),ft())}function T0(e){return tn(()=>{const n=e.prototype.constructor,t=n[Wi]||O0(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Wi]||O0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function O0(e){return Mn(e)?()=>{const n=O0(jt(e));return n&&n()}:Eu(e)}function gS(e){const n=e[Dt],t=n.type;return 2===t?n.declTNode:1===t?e[si]:null}function bS(e,n=null,t=null,r){const i=DS(e,n,t,r);return i.resolveInjectorInitializers(),i}function DS(e,n=null,t=null,r,i=new Set){const s=[t||Pn,zM(e)];return r=r||("object"==typeof e?void 0:Jn(e)),new Cc(s,n||sh(),r||null,i)}class ai{static{this.THROW_IF_NOT_FOUND=rd}static{this.NULL=new Qp}static create(n,t){if(Array.isArray(n))return bS({name:""},t,n,"");{const r=n.name??"";return bS({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=H({token:ai,providedIn:"any",factory:()=>Gt(cD)})}static{this.__NG_ELEMENT_ID__=-1}}new Ct("").__NG_ELEMENT_ID__=e=>{const n=Wn();if(null===n)throw new lt(204,!1);if(2&n.type)return n.value;if(e&wn.Optional)return null;throw new lt(204,!1)};function F0(e){return e.ngOriginalError}const _S=!0;let wd=(()=>{class e{static{this.__NG_ELEMENT_ID__=s3}static{this.__NG_ENV_ID__=t=>t}}return e})();class i3 extends wd{constructor(n){super(),this._lView=n}onDestroy(n){return ph(this._lView,n),()=>function p0(e,n){if(null===e[Na])return;const t=e[Na].indexOf(n);-1!==t&&e[Na].splice(t,1)}(this._lView,n)}}function s3(){return new i3(ft())}let Ou=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Bi=class o3 extends ve{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,SD()&&(this.destroyRef=yt(wd,{optional:!0})??void 0,this.pendingTasks=yt(Ou,{optional:!0})??void 0)}emit(n){const t=u(null);try{super.next(n)}finally{u(t)}}subscribe(n,t,r){let i=n,s=t||(()=>null),o=r;if(n&&"object"==typeof n){const p=n;i=p.next?.bind(p),s=p.error?.bind(p),o=p.complete?.bind(p)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:i,error:s,complete:o});return n instanceof ee&&n.add(a),a}wrapInTimeout(n){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{n(t),void 0!==r&&this.pendingTasks?.remove(r)})}}};function _h(...e){}function AS(e){let n,t;function r(){e=_h;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function CS(e){return queueMicrotask(()=>e()),()=>{e=_h}}const R0="isAngularZone",Ah=R0+"_ID";let a3=0;class zn{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bi(!1),this.onMicrotaskEmpty=new Bi(!1),this.onStable=new Bi(!1),this.onError=new Bi(!1);const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=_S}=n;if(typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,function l3(e){const n=()=>{!function c3(e){function n(){AS(()=>{e.callbackScheduled=!1,N0(e),e.isCheckStableRunning=!0,M0(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),N0(e))}(e)},t=a3++;e._inner=e._inner.fork({name:"angular",properties:{[R0]:!0,[Ah]:t,[Ah+t]:!0},onInvokeTask:(r,i,s,o,a,p)=>{if(function d3(e){return TS(e,"__ignore_ng_zone__")}(p))return r.invokeTask(s,o,a,p);try{return IS(e),r.invokeTask(s,o,a,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),xS(e)}},onInvoke:(r,i,s,o,a,p,C)=>{try{return IS(e),r.invoke(s,o,a,p,C)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function f3(e){return TS(e,"__scheduler_tick__")}(p)&&n(),xS(e)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,N0(e),M0(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(R0)}static assertInAngularZone(){if(!zn.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(zn.isInAngularZone())throw new lt(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,u3,_h,_h);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const u3={};function M0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function N0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function IS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xS(e){e._nesting--,M0(e)}class B0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bi,this.onMicrotaskEmpty=new Bi,this.onStable=new Bi,this.onError=new Bi}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}function TS(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class bo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&F0(n);for(;t&&F0(t);)t=F0(t);return t||null}}const h3=new Ct("",{providedIn:"root",factory:()=>{const e=yt(zn),n=yt(bo);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function m3(){return kc(Wn(),ft())}function kc(e,n){return new Ba(Mi(e,n))}let Ba=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=m3}}return e})();function bd(e){return!(128&~e.flags)}const $0=new Map;let v3=0;function j0(e){$0.delete(e[Fc])}const Ch="__ngContext__";function Si(e,n){Vr(n)?(e[Ch]=n[Fc],function E3(e){$0.set(e[Fc],e)}(n)):e[Ch]=n}function US(e){return HS(e[ud])}function VS(e){return HS(e[Zs])}function HS(e){for(;null!==e&&!Di(e);)e=e[Zs];return e}let V0;function ka(){if(void 0!==V0)return V0;if(typeof document<"u")return document;throw new lt(210,!1)}const Sd=new Ct("",{providedIn:"root",factory:()=>k3}),k3="ng",YS=new Ct(""),La=new Ct("",{providedIn:"platform",factory:()=>"unknown"}),XS=new Ct("",{providedIn:"root",factory:()=>ka().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let QS=()=>null;function Z0(e,n,t=!1){return QS(e,n,t)}const a_=new Ct("",{providedIn:"root",factory:()=>!1});let Mh,Nh;function Uc(e){return function ev(){if(void 0===Mh&&(Mh=null,un.trustedTypes))try{Mh=un.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Mh}()?.createHTML(e)||e}function tv(){if(void 0===Nh&&(Nh=null,un.trustedTypes))try{Nh=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Nh}function l_(e){return tv()?.createHTML(e)||e}function f_(e){return tv()?.createScriptURL(e)||e}class Fu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lt})`}}class Y3 extends Fu{getTypeName(){return"HTML"}}class X3 extends Fu{getTypeName(){return"Style"}}class Q3 extends Fu{getTypeName(){return"Script"}}class eB extends Fu{getTypeName(){return"URL"}}class tB extends Fu{getTypeName(){return"ResourceURL"}}function ss(e){return e instanceof Fu?e.changingThisBreaksApplicationSecurity:e}function Do(e,n){const t=function nB(e){return e instanceof Fu&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Lt})`)}return t===n}class uB{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Uc(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}}class cB{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=Uc(n),t}}const dB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bh(e){return(e=String(e)).match(dB)?e:"unsafe:"+e}function na(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Td(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const h_=na("area,br,col,hr,img,wbr"),m_=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g_=na("rp,rt"),nv=Td(h_,Td(m_,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Td(g_,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Td(g_,m_)),rv=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),y_=Td(rv,na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fB=na("script,style,template");class pB{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0,i=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)i.push(t),t=gB(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=mB(t);if(s){t=s;break}t=i.pop()}return this.buf.join("")}startElement(n){const t=v_(n).toLowerCase();if(!nv.hasOwnProperty(t))return this.sanitizedSomething=!0,!fB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!y_.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let p=s.value;rv[a]&&(p=Bh(p)),this.buf.push(" ",o,'="',E_(p),'"')}return this.buf.push(">"),!0}endElement(n){const t=v_(n).toLowerCase();nv.hasOwnProperty(t)&&!h_.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(E_(n))}}function mB(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw w_(n);return n}function gB(e){const n=e.firstChild;if(n&&function hB(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw w_(n);return n}function v_(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function w_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const yB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vB=/([^\#-~ |!])/g;function E_(e){return e.replace(/&/g,"&amp;").replace(yB,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(vB,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kh;function b_(e,n){let t=null;try{kh=kh||function p_(e){const n=new cB(e);return function lB(){try{return!!(new window.DOMParser).parseFromString(Uc(""),"text/html")}catch{return!1}}()?new uB(n):n}(e);let r=n?String(n):"";t=kh.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=kh.getInertBodyElement(r)}while(r!==s);return Uc((new pB).sanitizeChildren(iv(t)||t))}finally{if(t){const r=iv(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function iv(e){return"content"in e&&function wB(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var xs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(xs||{});function D_(e){const n=Od();return n?l_(n.sanitize(xs.HTML,e)||""):Do(e,"HTML")?l_(ss(e)):b_(ka(),nn(e))}function sv(e){const n=Od();return n?n.sanitize(xs.URL,e)||"":Do(e,"URL")?ss(e):Bh(nn(e))}function S_(e){const n=Od();if(n)return f_(n.sanitize(xs.RESOURCE_URL,e)||"");if(Do(e,"ResourceURL"))return f_(ss(e));throw new lt(904,!1)}function Od(){const e=ft();return e&&e[go].sanitizer}function os(e){return e instanceof Function?e():e}var $a=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}($a||{});let uv;function cv(e,n){return uv(e,n)}function Hc(e,n,t,r,i){if(null!=r){let s,o=!1;Di(r)?s=r:Vr(r)&&(o=!0,r=r[cr]);const a=Fn(r);0===e&&null!==t?null==i?k_(n,t,a):Ru(n,t,a,i||null,!0):1===e&&null!==t?Ru(n,t,a,i||null,!0):2===e?function Fd(e,n,t){e.removeChild(null,n,t)}(n,a,o):3===e&&n.destroyNode(a),null!=s&&function GB(e,n,t,r,i){const s=t[yo];s!==Fn(t)&&Hc(n,e,r,s,i);for(let a=br;a<t.length;a++){const p=t[a];Hh(p[Dt],p,e,n,r,s)}}(n,e,s,t,i)}}function jh(e,n,t){return e.createElement(n,t)}function M_(e,n){n[go].changeDetectionScheduler?.notify(9),Hh(e,n,n[qt],2,null,null)}function N_(e,n){const t=e[Rc],r=n[Tr];(Vr(r)||n[lr]!==r[Tr][lr])&&(e[zt]|=ch.HasTransplantedViews),null===t?e[Rc]=[n]:t.push(n)}function fv(e,n){const t=e[Rc],r=t.indexOf(n);t.splice(r,1)}function Pd(e,n){if(e.length<=br)return;const t=br+n,r=e[t];if(r){const i=r[Du];null!==i&&i!==e&&fv(i,r),n>0&&(e[t-1][Zs]=r[Zs]);const s=Yp(e,br+n);!function $B(e,n){M_(e,n),n[cr]=null,n[si]=null}(r[Dt],r);const o=s[Xo];null!==o&&o.detachView(s[Dt]),r[Tr]=null,r[Zs]=null,r[zt]&=-129}return r}function Uh(e,n){if(!(256&n[zt])){const t=n[qt];t.destroyNode&&Hh(e,n,t,3,null,null),function UB(e){let n=e[ud];if(!n)return pv(e[Dt],e);for(;n;){let t=null;if(Vr(n))t=n[ud];else{const r=n[br];r&&(t=r)}if(!t){for(;n&&!n[Zs]&&n!==e;)Vr(n)&&pv(n[Dt],n),n=n[Tr];null===n&&(n=e),Vr(n)&&pv(n[Dt],n),t=n&&n[Zs]}n=t}}(n)}}function pv(e,n){if(256&n[zt])return;const t=u(null);try{n[zt]&=-129,n[zt]|=256,n[Cs]&&B(n[Cs]),function zB(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof md)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],p=s[o+1];vo(4,a,p);try{p.call(a)}finally{vo(5,a,p)}}else{vo(4,i,s);try{s.call(i)}finally{vo(5,i,s)}}}}}(e,n),function HB(e,n){const t=e.cleanup,r=n[Tc];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[Tc]=null);const i=n[Na];if(null!==i){n[Na]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,n),1===n[Dt].type&&n[qt].destroy();const r=n[Du];if(null!==r&&Di(n[Tr])){r!==n[Tr]&&fv(r,n);const i=n[Xo];null!==i&&i.detachView(e)}j0(n)}finally{u(t)}}function hv(e,n,t){return function B_(e,n,t){let r=n;for(;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[cr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Gs.None||s===Gs.Emulated)return null}return Mi(r,t)}}(e,n.parent,t)}function Ru(e,n,t,r,i){e.insertBefore(n,t,r,i)}function k_(e,n,t){e.appendChild(n,t)}function L_(e,n,t,r,i){null!==r?Ru(e,n,t,r,i):k_(e,n,t)}function mv(e,n){return e.parentNode(n)}let gv,U_=function j_(e,n,t){return 40&e.type?Mi(e,t):null};function Vh(e,n,t,r){const i=hv(e,r,n),s=n[qt],a=function $_(e,n,t){return U_(e,n,t)}(r.parent||n[si],r,n);if(null!=i)if(Array.isArray(t))for(let p=0;p<t.length;p++)L_(s,i,t[p],a,!1);else L_(s,i,t,a,!1);void 0!==gv&&gv(s,r,n,t,i)}function Mu(e,n){if(null!==n){const t=n.type;if(3&t)return Mi(n,e);if(4&t)return yv(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Mu(e,r);{const i=e[n.index];return Di(i)?yv(-1,i):Fn(i)}}if(128&t)return Mu(e,n.next);if(32&t)return cv(n,e)()||Fn(e[n.index]);{const r=H_(e,n);return null!==r?Array.isArray(r)?r[0]:Mu(Qo(e[lr]),r):Mu(e,n.next)}}return null}function H_(e,n){return null!==n?e[lr][si].projection[n.projection]:null}function yv(e,n){const t=br+e+1;if(t<n.length){const r=n[t],i=r[Dt].firstChild;if(null!==i)return Mu(r,i)}return n[yo]}function vv(e,n,t,r,i,s,o){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=r[t.index],p=t.type;if(o&&0===n&&(a&&Si(Fn(a),r),t.flags|=2),32&~t.flags)if(8&p)vv(e,n,t.child,r,i,s,!1),Hc(n,e,i,a,s);else if(32&p){const C=cv(t,r);let x;for(;x=C();)Hc(n,e,i,x,s);Hc(n,e,i,a,s)}else 16&p?K_(e,n,r,t,i,s):Hc(n,e,i,a,s);t=o?t.projectionNext:t.next}}function Hh(e,n,t,r,i,s){vv(t,r,e.firstChild,n,i,s,!1)}function K_(e,n,t,r,i,s){const o=t[lr],p=o[si].projection[r.projection];if(Array.isArray(p))for(let C=0;C<p.length;C++)Hc(n,e,i,p[C],s);else{let C=p;const x=o[Tr];bd(r)&&(C.flags|=128),vv(e,n,C,x,i,s,!0)}}function W_(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function G_(e,n,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Gy(e,n,r),null!==i&&W_(e,n,i),null!==s&&function ZB(e,n,t){e.setAttribute(n,"style",t)}(e,n,s)}const rn={};function zr(e=1){J_(ln(),ft(),oi()+e,!1)}function J_(e,n,t,r){if(!r)if(3&~n[zt]){const s=e.preOrderHooks;null!==s&&vh(n,s,0,t)}else{const s=e.preOrderCheckHooks;null!==s&&yh(n,s,t)}Iu(t)}function Jt(e,n=wn.Default){const t=ft();return null===t?Gt(e,n):fS(Wn(),t,jt(e),n)}function q_(e,n,t,r,i,s){const o=u(null);try{let a=null;i&Ra.SignalBased&&(a=n[r][y]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Ra.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(n,s)),null!==e.setInput?e.setInput(n,a,s,t,r):PD(n,a,r,s)}finally{u(o)}}function zh(e,n,t,r,i,s,o,a,p,C,x){const U=n.blueprint.slice();return U[cr]=i,U[zt]=204|r,(null!==C||e&&2048&e[zt])&&(U[zt]|=2048),kD(U),U[Tr]=U[Oc]=e,U[rr]=t,U[go]=o||e&&e[go],U[qt]=a||e&&e[qt],U[Or]=p||e&&e[Or]||null,U[si]=s,U[Fc]=function w3(){return v3++}(),U[Ri]=x,U[CD]=C,U[lr]=2==n.type?e[lr]:U,U}function Nu(e,n,t,r,i){let s=e.data[n];if(null===s)s=function wv(e,n,t,r,i){const s=VD(),o=m0(),p=e.data[n]=function rk(e,n,t,r,i,s){let o=n?n.injectorIndex:-1,a=0;return function Cu(){return null!==Yt.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=p),null!==s&&(o?null==s.child&&null!==p.parent&&(s.child=p):null===s.next&&(s.next=p,p.prev=s)),p}(e,n,t,r,i),function xN(){return Yt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function pd(){const e=Yt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ys(s,!0),s}function Rd(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Y_(e,n,t,r,i){const s=oi(),o=2&r;try{Iu(-1),o&&n.length>kt&&J_(e,n,kt,!1),vo(o?2:0,i),t(r,i)}finally{Iu(s),vo(o?3:1,i)}}function Ev(e,n,t){if(o0(n)){const r=u(null);try{const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{u(r)}}}function bv(e,n,t){UD()&&(function lk(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;Su(t)&&function yk(e,n,t){const r=Mi(n,e),i=X_(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Kh(e,zh(e,i,null,o,r,n,null,e[go].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Eh(t,n),Si(r,n);const o=t.initialInputs;for(let a=i;a<s;a++){const p=e.data[a],C=Tu(n,e,a,t);Si(C,n),null!==o&&vk(0,a-i,C,p,0,o),qs(p)&&(is(t.index,n)[rr]=Tu(n,e,a,t))}}(e,n,t,Mi(t,n)),!(64&~t.flags)&&rA(e,n,t))}function Dv(e,n,t=Mi){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(n,e):e[o];e[i++]=a}}}function X_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Sv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Sv(e,n,t,r,i,s,o,a,p,C,x){const U=kt+r,ue=U+i,ce=function YB(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:rn);return t}(U,ue),ge="function"==typeof C?C():C;return ce[Dt]={type:e,blueprint:ce,template:t,queries:null,viewQuery:a,declTNode:n,data:ce.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:p,consts:ge,incompleteFirstPass:!1,ssrId:x}}let Q_=()=>null;function eA(e,n,t,r,i){for(let s in n){if(!n.hasOwnProperty(s))continue;const o=n[s];if(void 0===o)continue;r??={};let a,p=Ra.None;Array.isArray(o)?(a=o[0],p=o[1]):a=o;let C=s;if(null!==i){if(!i.hasOwnProperty(s))continue;C=i[s]}0===e?tA(r,t,C,a,p):tA(r,t,C,a)}return r}function tA(e,n,t,r,i){let s;e.hasOwnProperty(t)?(s=e[t]).push(n,r):s=e[t]=[n,r],void 0!==i&&s.push(i)}function Yi(e,n,t,r,i,s,o,a){const p=Mi(n,t);let x,C=n.inputs;!a&&null!=C&&(x=C[r])?(xv(e,t,x,r,i),Su(n)&&function ok(e,n){const t=is(n,e);16&t[zt]||(t[zt]|=64)}(t,n.index)):3&n.type&&(r=function sk(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,s.setProperty(p,r,i))}function _v(e,n,t,r){if(UD()){const i=null===r?null:{"":-1},s=function fk(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(hD(n,o.selectors,!1))if(r||(r=[]),qs(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Av(e,n,a.length)}else r.unshift(o),Av(e,n,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&nA(e,n,t,o,i,a),i&&function pk(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new lt(-301,!1);r.push(n[i],s)}}}(t,r,i)}t.mergedAttrs=sd(t.mergedAttrs,t.attrs)}function nA(e,n,t,r,i,s){for(let C=0;C<r.length;C++)x0(Eh(t,n),e,r[C].type);!function mk(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let C=0;C<r.length;C++){const x=r[C];x.providersResolver&&x.providersResolver(x)}let o=!1,a=!1,p=Rd(e,n,r.length,null);for(let C=0;C<r.length;C++){const x=r[C];t.mergedAttrs=sd(t.mergedAttrs,x.hostAttrs),gk(e,t,n,p,x),hk(p,x,i),null!==x.contentQueries&&(t.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(t.flags|=64);const U=x.type.prototype;!o&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),o=!0),!a&&(U.ngOnChanges||U.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),p++}!function ik(e,n,t){const i=n.directiveEnd,s=e.data,o=n.attrs,a=[];let p=null,C=null;for(let x=n.directiveStart;x<i;x++){const U=s[x],ue=t?t.get(U):null,ge=ue?ue.outputs:null;p=eA(0,U.inputs,x,p,ue?ue.inputs:null),C=eA(1,U.outputs,x,C,ge);const Re=null===p||null===o||Jy(n)?null:wk(p,x,o);a.push(Re)}null!==p&&(p.hasOwnProperty("class")&&(n.flags|=8),p.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=p,n.outputs=C}(e,t,s)}function rA(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function ON(){return Yt.lFrame.currentDirectiveIndex}();try{Iu(s);for(let a=r;a<i;a++){const p=e.data[a],C=n[a];y0(a),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&dk(p,C)}}finally{Iu(-1),y0(o)}}function dk(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Av(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function hk(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;qs(n)&&(t[""]=e)}}function gk(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=Eu(i.type)),o=new md(s,qs(i),Jt);e.blueprint[r]=o,t[r]=o,function uk(e,n,t,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~n.index;(function ck(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(e,n,r,Rd(e,t,i.hostVars,rn),i)}function So(e,n,t,r,i,s){const o=Mi(e,n);!function Cv(e,n,t,r,i,s,o){if(null==s)e.removeAttribute(n,i,t);else{const a=null==o?nn(s):o(s,r||"",i);e.setAttribute(n,i,a,t)}}(n[qt],o,s,e.value,t,r,i)}function vk(e,n,t,r,i,s){const o=s[n];if(null!==o)for(let a=0;a<o.length;)q_(r,t,o[a++],o[a++],o[a++],o[a++])}function wk(e,n,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===n){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function iA(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function sA(e,n){const t=e.contentQueries;if(null!==t){const r=u(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=e.data[o];mh(t[i]),a.contentQueries(2,n[o],o)}}}finally{u(r)}}}function Kh(e,n){return e[ud]?e[AD][Zs]=n:e[ud]=n,e[AD]=n,n}function Iv(e,n,t){mh(0);const r=u(null);try{n(e,t)}finally{u(r)}}function Wh(e,n){const t=e[Or],r=t?t.get(bo,null):null;r&&r.handleError(n)}function xv(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],p=t[s++];q_(e.data[o],n[o],r,a,p,i)}}function ra(e,n,t){const r=function dd(e,n){return Fn(n[e])}(n,e);!function R_(e,n,t){e.setValue(n,t)}(e[qt],r,t)}function Ek(e,n){const t=is(n,e),r=t[Dt];!function bk(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[cr];null!==i&&null===t[Ri]&&(t[Ri]=Z0(i,t[Or])),Tv(r,t,t[rr])}function Tv(e,n,t){E0(n);try{const r=e.viewQuery;null!==r&&Iv(1,r,t);const i=e.template;null!==i&&Y_(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Xo]?.finishViewCreation(e),e.staticContentQueries&&sA(e,n),e.staticViewQueries&&Iv(2,e.viewQuery,t);const s=e.components;null!==s&&function Dk(e,n){for(let t=0;t<n.length;t++)Ek(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[zt]&=-5,b0()}}function zc(e,n,t,r){const i=u(null);try{const s=n.tView,p=zh(e,s,t,4096&e[zt]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);p[Du]=e[n.index];const x=e[Xo];return null!==x&&(p[Xo]=x.createEmbeddedView(s)),Tv(s,p,t),p}finally{u(i)}}function cA(e,n){const t=br+n;if(t<e.length)return e[t]}function Bu(e,n){return!n||null===n.firstChild||bd(e)}function Kc(e,n,t,r=!0){const i=n[Dt];if(function VB(e,n,t,r){const i=br+r,s=t.length;r>0&&(t[i-1][Zs]=n),r<s-br?(n[Zs]=t[i],oD(t,br+r,n)):(t.push(n),n[Zs]=null),n[Tr]=t;const o=n[Du];null!==o&&t!==o&&N_(o,n);const a=n[Xo];null!==a&&a.insertView(e),f0(n),n[zt]|=128}(i,n,e,t),r){const o=yv(t,e),a=n[qt],p=mv(a,e[yo]);null!==p&&function jB(e,n,t,r,i,s){r[cr]=i,r[si]=n,Hh(e,r,t,1,i,s)}(i,e[si],a,n,p,o)}const s=n[Ri];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Ov(e,n){const t=Pd(e,n);return void 0!==t&&Uh(t[Dt],t),t}function Md(e,n,t,r,i=!1){for(;null!==t;){if(128===t.type){t=i?t.projectionNext:t.next;continue}const s=n[t.index];null!==s&&r.push(Fn(s)),Di(s)&&lA(s,r);const o=t.type;if(8&o)Md(e,n,t.child,r);else if(32&o){const a=cv(t,n);let p;for(;p=a();)r.push(p)}else if(16&o){const a=H_(n,t);if(Array.isArray(a))r.push(...a);else{const p=Qo(n[lr]);Md(p[Dt],p,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function lA(e,n){for(let t=br;t<e.length;t++){const r=e[t],i=r[Dt].firstChild;null!==i&&Md(r[Dt],r,i,n)}e[yo]!==e[cr]&&n.push(e[yo])}let dA=[];const Ck={...h,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fh(e.lView)},consumerOnSignalRead(){this.lView[Cs]=this}},xk={...h,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Qo(e.lView);for(;n&&!fA(n[Dt]);)n=Qo(n);n&&LD(n)},consumerOnSignalRead(){this.lView[Cs]=this}};function fA(e){return 2!==e.type}const Tk=100;function Gh(e,n=!0,t=0){const r=e[go],i=r.rendererFactory;i.begin?.();try{!function Ok(e,n){const t=KD();try{WD(!0),Pv(e,n);let r=0;for(;dh(e);){if(r===Tk)throw new lt(103,!1);r++,Pv(e,1)}}finally{WD(t)}}(e,t)}catch(o){throw n&&Wh(e,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function Pk(e,n,t,r){const i=n[zt];if(!(256&~i))return;n[go].inlineEffectRunner?.flush(),E0(n);let a=!0,p=null,C=null;fA(e)?(C=function Sk(e){return e[Cs]??function _k(e){const n=dA.pop()??Object.create(Ck);return n.lView=e,n}(e)}(n),p=N(C)):null===function c(){return R}()?(a=!1,C=function Ik(e){const n=e[Cs]??Object.create(xk);return n.lView=e,n}(n),p=N(C)):n[Cs]&&(B(n[Cs]),n[Cs]=null);try{kD(n),function GD(e){return Yt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&Y_(e,n,t,2,r);const x=!(3&~i);if(x){const ce=e.preOrderCheckHooks;null!==ce&&yh(n,ce,null)}else{const ce=e.preOrderHooks;null!==ce&&vh(n,ce,0,null),D0(n,0)}if(function Fk(e){for(let n=US(e);null!==n;n=VS(n)){if(!(n[zt]&ch.HasTransplantedViews))continue;const t=n[Rc];for(let r=0;r<t.length;r++)LD(t[r])}}(n),hA(n,0),null!==e.contentQueries&&sA(e,n),x){const ce=e.contentCheckHooks;null!==ce&&yh(n,ce)}else{const ce=e.contentHooks;null!==ce&&vh(n,ce,1),D0(n,1)}!function qB(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Iu(~i);else{const s=i,o=t[++r],a=t[++r];TN(o,s),a(2,n[s])}}}finally{Iu(-1)}}(e,n);const U=e.components;null!==U&&gA(n,U,0);const ue=e.viewQuery;if(null!==ue&&Iv(2,ue,r),x){const ce=e.viewCheckHooks;null!==ce&&yh(n,ce)}else{const ce=e.viewHooks;null!==ce&&vh(n,ce,2),D0(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[ah]){for(const ce of n[ah])ce();n[ah]=null}n[zt]&=-73}catch(x){throw fh(n),x}finally{null!==C&&(function M(e,n){if(u(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Q(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)z(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(C,p),a&&function Ak(e){e.lView[Cs]!==e&&(e.lView=null,dA.push(e))}(C)),b0()}}function hA(e,n){for(let t=US(e);null!==t;t=VS(t))for(let r=br;r<t.length;r++)mA(t[r],n)}function Rk(e,n,t){mA(is(n,e),t)}function mA(e,n){d0(e)&&Pv(e,n)}function Pv(e,n){const r=e[Dt],i=e[zt],s=e[Cs];let o=!!(0===n&&16&i);if(o||=!!(64&i&&0===n),o||=!!(1024&i),o||=!(!s?.dirty||!k(s)),o||=!1,s&&(s.dirty=!1),e[zt]&=-9217,o)Pk(r,e,r.template,e[rr]);else if(8192&i){hA(e,1);const a=r.components;null!==a&&gA(e,a,1)}}function gA(e,n,t){for(let r=0;r<n.length;r++)Rk(e,n[r],t)}function Nd(e,n){const t=KD()?64:1088;for(e[go].changeDetectionScheduler?.notify(n);e;){e[zt]|=t;const r=Qo(e);if(ld(e)&&!r)return e;e=r}return null}class Bd{get rootNodes(){const n=this._lView,t=n[Dt];return Md(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(n){this._lView[rr]=n}get destroyed(){return!(256&~this._lView[zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Tr];if(Di(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Pd(n,r),Yp(t,r))}this._attachedToViewContainer=!1}Uh(this._lView[Dt],this._lView)}onDestroy(n){ph(this._lView,n)}markForCheck(){Nd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[zt]&=-129}reattach(){f0(this._lView),this._lView[zt]|=128}detectChanges(){this._lView[zt]|=1024,Gh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ld(this._lView),t=this._lView[Du];null!==t&&!n&&fv(t,this._lView),M_(this._lView[Dt],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=n;const t=ld(this._lView),r=this._lView[Du];null!==r&&!t&&N_(r,this._lView),f0(this._lView)}}let kA=()=>null;function Lu(e,n){return kA(e,n)}class Gc{}const zd=new Ct("",{providedIn:"root",factory:()=>!1}),LA=new Ct(""),Vv=new Ct("");class x5{}class $A{}class O5{resolveComponentFactory(n){throw function T5(e){const n=Error(`No component factory found for ${Jn(e)}.`);return n.ngComponent=e,n}(n)}}class em{static{this.NULL=new O5}}class Hv{}let tm=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function P5(){const e=ft(),t=is(Wn().index,e);return(Vr(t)?t:e)[qt]}()}}return e})(),F5=(()=>{class e{static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>null})}}return e})();function rm(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?i=Xr(i,a):2==s&&(r=Xr(r,a+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}class HA extends em{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=mn(n);return new Gd(t,this.ngModule)}}function zA(e,n){const t=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const i=e[r];if(void 0===i)continue;const s=Array.isArray(i),o=s?i[0]:i;t.push(n?{propName:o,templateName:r,isSignal:!!((s?i[1]:Ra.None)&Ra.SignalBased)}:{propName:o,templateName:r})}return t}class Gd extends $A{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=zA(n.inputs,!0);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return zA(this.componentDef.outputs,!1)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function LM(e){return e.map(kM).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){const s=u(null);try{let o=(i=i||this.ngModule)instanceof Zi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new xu(n,o):n,p=a.get(Hv,null);if(null===p)throw new lt(407,!1);const U={rendererFactory:p,sanitizer:a.get(F5,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(Gc,null)},ue=p.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",ge=r?function XB(e,n,t,r){const s=r.get(a_,!1)||t===Gs.ShadowDom,o=e.selectRootElement(n,s);return function QB(e){Q_(e)}(o),o}(ue,r,this.componentDef.encapsulation,a):jh(ue,ce,function N5(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ce));let Re=512;this.componentDef.signals?Re|=4096:this.componentDef.onPush||(Re|=16);let Ue=null;null!==ge&&(Ue=Z0(ge,a,!0));const We=Sv(0,null,null,1,0,null,null,null,null,null,null),He=zh(null,We,null,Re,null,null,U,ue,a,null,Ue);E0(He);let Je,Xe,et=null;try{const nt=this.componentDef;let st,mt=null;nt.findHostDirectiveDefs?(st=[],mt=new Map,nt.findHostDirectiveDefs(nt,st,mt),st.push(nt)):st=[nt];const St=function k5(e,n){const t=e[Dt],r=kt;return e[r]=n,Nu(t,r,2,"#host",null)}(He,ge);et=function L5(e,n,t,r,i,s,o){const a=i[Dt];!function $5(e,n,t,r){for(const i of e)n.mergedAttrs=sd(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(rm(n,n.mergedAttrs,!0),null!==t&&G_(r,t,n))}(r,e,n,o);let p=null;null!==n&&(p=Z0(n,i[Or]));const C=s.rendererFactory.createRenderer(n,t);let x=16;t.signals?x=4096:t.onPush&&(x=64);const U=zh(i,X_(t),null,x,i[e.index],e,s,C,null,null,p);return a.firstCreatePass&&Av(a,e,r.length-1),Kh(i,U),i[e.index]=U}(St,ge,nt,st,He,U,ue),Xe=fd(We,kt),ge&&function U5(e,n,t,r){if(r)Gy(e,t,["ng-version","18.2.8"]);else{const{attrs:i,classes:s}=function $M(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!Js(i))break;i=s}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Gy(e,t,i),s&&s.length>0&&W_(e,t,s.join(" "))}}(ue,nt,ge,r),void 0!==t&&function V5(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Xe,this.ngContentSelectors,t),Je=function j5(e,n,t,r,i,s){const o=Wn(),a=i[Dt],p=Mi(o,i);nA(a,i,o,t,null,r);for(let x=0;x<t.length;x++)Si(Tu(i,a,o.directiveStart+x,o),i);rA(a,i,o),p&&Si(p,i);const C=Tu(i,a,o.directiveStart+o.componentOffset,o);if(e[rr]=i[rr]=C,null!==s)for(const x of s)x(C,n);return Ev(a,o,i),C}(et,nt,st,mt,He,[H5]),Tv(We,He,null)}catch(nt){throw null!==et&&j0(et),j0(He),nt}finally{b0()}return new B5(this.componentType,Je,kc(Xe,He),He,Xe)}finally{u(s)}}}class B5 extends x5{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Bd(i,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const s=this._rootLView;xv(s[Dt],s,i,n,t),this.previousInputValues.set(n,t),Nd(is(this._tNode.index,s),1)}}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function H5(){const e=Wn();gh(ft()[Dt],e)}let Qs=(()=>{class e{static{this.__NG_ELEMENT_ID__=z5}}return e})();function z5(){return function GA(e,n){let t;const r=n[e.index];return Di(r)?t=r:(t=iA(r,n,null,e),n[e.index]=t,Kh(n,t)),JA(t,n,e,r),new KA(t,e,n)}(Wn(),ft())}const K5=Qs,KA=class extends K5{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return kc(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){const n=bh(this._hostTNode,this._hostLView);if(A0(n)){const t=yd(n,this._hostLView),r=gd(n);return new Hr(t[Dt].data[r+8],t)}return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=WA(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-br}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=Lu(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Bu(this._hostTNode,o)),a}createComponent(n,t,r,i,s){const o=n&&!function ad(e){return"function"==typeof e}(n);let a;if(o)a=t;else{const ge=t||{};a=ge.index,r=ge.injector,i=ge.projectableNodes,s=ge.environmentInjector||ge.ngModuleRef}const p=o?n:new Gd(mn(n)),C=r||this.parentInjector;if(!s&&null==p.ngModule){const Re=(o?C:this.parentInjector).get(Zi,null);Re&&(s=Re)}const x=mn(p.componentType??{}),U=Lu(this._lContainer,x?.id??null),ce=p.create(C,i,U?.firstChild??null,s);return this.insertImpl(ce.hostView,a,Bu(this._hostTNode,U)),ce}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const i=n._lView;if(function yN(e){return Di(e[Tr])}(i)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const p=i[Tr],C=new KA(p,p[si],p[Tr]);C.detach(C.indexOf(n))}}const s=this._adjustIndex(t),o=this._lContainer;return Kc(o,i,s,r),n.attachToViewContainerRef(),oD(Wv(o),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=WA(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Pd(this._lContainer,t);r&&(Yp(Wv(this._lContainer),t),Uh(r[Dt],r))}detach(n){const t=this._adjustIndex(n,-1),r=Pd(this._lContainer,t);return r&&null!=Yp(Wv(this._lContainer),t)?new Bd(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function WA(e){return e[8]}function Wv(e){return e[8]||(e[8]=[])}let JA=function qA(e,n,t,r){if(e[yo])return;let i;i=8&t.type?Fn(r):function W5(e,n){const t=e[qt],r=t.createComment(""),i=Mi(n,e);return Ru(t,mv(t,i),r,function KB(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[yo]=i},Gv=()=>!1;const iC=new Set;function ki(e){iC.has(e)||(iC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function SC(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}e.inputTransforms=t}class $u{}class _C{}class nw extends $u{constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HA(this);const s=bi(n);this._bootstrapComponents=os(s.bootstrap),this._r3Injector=DS(n,t,[{provide:$u,useValue:this},{provide:em,useValue:this.componentFactoryResolver},...r],Jn(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class rw extends _C{constructor(n){super(),this.moduleType=n}create(n){return new nw(this.moduleType,n,[])}}class AC extends $u{constructor(n){super(),this.componentFactoryResolver=new HA(this),this.instance=null;const t=new Cc([...n.providers,{provide:$u,useValue:this},{provide:em,useValue:this.componentFactoryResolver}],n.parent||sh(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function om(e,n,t=null){return new AC({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}function _o(e,n,t){return e[n]=t}function Dr(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function qd(e,n,t,r,i,s,o,a,p,C){const x=t+kt,U=n.firstCreatePass?function x6(e,n,t,r,i,s,o,a,p){const C=n.consts,x=Nu(n,e,4,o||null,a||null);_v(n,t,x,Is(C,p)),gh(n,x);const U=x.tView=Sv(2,x,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,C,null);return null!==n.queries&&(n.queries.template(n,x),U.queries=n.queries.embeddedTView(x)),x}(x,n,e,r,i,s,o,a,p):n.data[x];Ys(U,!1);const ue=CC(n,e,U,t);hd()&&Vh(n,e,ue,U),Si(ue,e);const ce=iA(ue,e,ue,U);return e[x]=ce,Kh(e,ce),function ZA(e,n,t){return Gv(e,n,t)}(ce,U,e),lh(U)&&bv(n,e,U),null!=p&&Dv(e,U,C),U}function Uu(e,n,t,r,i,s,o,a){const p=ft(),C=ln();return qd(p,C,e,n,t,r,i,Is(C.consts,s),o,a),Uu}let CC=function IC(e,n,t,r){return wo(!0),n[qt].createComment("")};var Yc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Yc||{});let RC=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Qd{constructor(){this.ngZone=yt(zn),this.scheduler=yt(Gc),this.errorHandler=yt(bo,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Yc.EarlyRead,Yc.Write,Yc.MixedReadWrite,Yc.Read]}execute(){this.executing=!0;for(const n of Qd.PHASES)for(const t of this.sequences)if(!t.erroredOrDestroyed&&t.hooks[n])try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[n](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=H({token:Qd,providedIn:"root",factory:()=>new Qd})}}class F6{constructor(n,t,r,i){this.impl=n,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function fm(e,n){!n?.injector&&function n0(e){if(!SD())throw new lt(-203,!1)}();const t=n?.injector??yt(ai);return function as(e){return"browser"===(e??yt(ai)).get(La)}(t)?(ki("NgAfterNextRender"),function MC(e,n,t,r){const i=n.get(RC);i.impl??=n.get(Qd);const s=t?.phase??Yc.MixedReadWrite,o=!0!==t?.manualCleanup?n.get(wd):null,a=new F6(i.impl,function M6(e,n){if(e instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[n]=e,t}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,s),r,o);return i.impl.register(a),a}(e,t,n,!0)):NC}const NC={destroy(){}};function mw(e,n,t,r){const i=ft();return Dr(i,Xs(),n)&&(ln(),So(ir(),i,e,n,t,r)),mw}function il(e,n,t,r){return Dr(e,Xs(),t)?n+nn(t)+r:rn}function pl(e,n,t){const r=ft();return Dr(r,Xs(),n)&&Yi(ln(),ir(),r,e,n,r[qt],t,!1),pl}function ww(e,n,t,r,i){const o=i?"class":"style";xv(e,t,n.inputs[o],o,r)}class H4{destroy(n){}updateValue(n,t){}swap(n,t){const r=Math.min(n,t),i=Math.max(n,t),s=this.detach(i);if(i-r>1){const o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(n,t){this.attach(t,this.detach(n))}}function bw(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function Dw(e,n,t,r){return!(void 0===n||!n.has(r)||(e.attach(t,n.get(r)),n.delete(r),0))}function D2(e,n,t,r,i){if(Dw(e,n,r,t(r,i)))e.updateValue(r,i);else{const s=e.create(r,i);e.attach(r,s)}}function S2(e,n,t,r){const i=new Set;for(let s=n;s<=t;s++)i.add(r(s,e.at(s)));return i}class _2{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const t=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}}function hl(e,n){ki("NgControlFlow");const t=ft(),r=Xs(),i=t[r]!==rn?t[r]:-1,s=-1!==i?ym(t,kt+i):void 0;if(Dr(t,r,e)){const a=u(null);try{if(void 0!==s&&Ov(s,0),-1!==e){const p=kt+e,C=ym(t,p),x=Cw(t[Dt],p),U=Lu(C,x.tView.ssrId);Kc(C,zc(t,x,n,{dehydratedView:U}),0,Bu(x,U))}}finally{u(a)}}else if(void 0!==s){const a=cA(s,0);void 0!==a&&(a[rr]=n)}}class K4{constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-br}}function Sw(e,n){return n}class G4{constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}}function _w(e,n,t,r,i,s,o,a,p,C,x,U,ue){ki("NgControlFlow");const ce=ft(),ge=ln(),Re=void 0!==p,Ue=ft(),We=a?o.bind(Ue[lr][rr]):o,He=new G4(Re,We);Ue[kt+e]=He,qd(ce,ge,e+1,n,t,r,i,Is(ge.consts,s)),Re&&qd(ce,ge,e+2,p,C,x,U,Is(ge.consts,ue))}class J4 extends H4{constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-br}at(n){return this.getLView(n)[rr].$implicit}attach(n,t){const r=t[Ri];this.needsIndexUpdate||=n!==this.length,Kc(this.lContainer,t,n,Bu(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function Z4(e,n){return Pd(e,n)}(this.lContainer,n)}create(n,t){const r=Lu(this.lContainer,this.templateTNode.tView.ssrId),i=zc(this.hostLView,this.templateTNode,new K4(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){Uh(n[Dt],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[rr].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[rr].$index=n}getLView(n){return function q4(e,n){return cA(e,n)}(this.lContainer,n)}}function Aw(e){const n=u(null),t=oi();try{const r=ft(),i=r[Dt],s=r[t],o=t+1,a=ym(r,o);if(void 0===s.liveCollection){const C=Cw(i,o);s.liveCollection=new J4(a,r,C)}else s.liveCollection.reset();const p=s.liveCollection;if(function z4(e,n,t){let r,i,s=0,o=e.length-1;if(Array.isArray(n)){let p=n.length-1;for(;s<=o&&s<=p;){const C=e.at(s),x=n[s],U=bw(s,C,s,x,t);if(0!==U){U<0&&e.updateValue(s,x),s++;continue}const ue=e.at(o),ce=n[p],ge=bw(o,ue,p,ce,t);if(0!==ge){ge<0&&e.updateValue(o,ce),o--,p--;continue}const Re=t(s,C),Ue=t(o,ue),We=t(s,x);if(Object.is(We,Ue)){const He=t(p,ce);Object.is(He,Re)?(e.swap(s,o),e.updateValue(o,ce),p--,o--):e.move(o,s),e.updateValue(s,x),s++}else if(r??=new _2,i??=S2(e,s,o,t),Dw(e,r,s,We))e.updateValue(s,x),s++,o++;else if(i.has(We))r.set(Re,e.detach(s)),o--;else{const He=e.create(s,n[s]);e.attach(s,He),s++,o++}}for(;s<=p;)D2(e,r,t,s,n[s]),s++}else if(null!=n){const p=n[Symbol.iterator]();let C=p.next();for(;!C.done&&s<=o;){const x=e.at(s),U=C.value,ue=bw(s,x,s,U,t);if(0!==ue)ue<0&&e.updateValue(s,U),s++,C=p.next();else{r??=new _2,i??=S2(e,s,o,t);const ce=t(s,U);if(Dw(e,r,s,ce))e.updateValue(s,U),s++,o++,C=p.next();else if(i.has(ce)){const ge=t(s,x);r.set(ge,e.detach(s)),o--}else e.attach(s,e.create(s,U)),s++,o++,C=p.next()}}for(;!C.done;)D2(e,r,t,e.length,C.value),C=p.next()}for(;s<=o;)e.destroy(e.detach(o--));r?.forEach(p=>{e.destroy(p)})}(p,e,s.trackByFn),p.updateIndexes(),s.hasEmptyBlock){const C=Xs(),x=0===p.length;if(Dr(r,C,x)){const U=t+2,ue=ym(r,U);if(x){const ce=Cw(i,U),ge=Lu(ue,ce.tView.ssrId);Kc(ue,zc(r,ce,void 0,{dehydratedView:ge}),0,Bu(ce,ge))}else Ov(ue,0)}}}finally{u(n)}}function ym(e,n){return e[n]}function Cw(e,n){return fd(e,n)}function Gn(e,n,t,r){const i=ft(),s=ln(),o=kt+e,a=i[qt],p=s.firstCreatePass?function Y4(e,n,t,r,i,s){const o=n.consts,p=Nu(n,e,2,r,Is(o,i));return _v(n,t,p,Is(o,s)),null!==p.attrs&&rm(p,p.attrs,!1),null!==p.mergedAttrs&&rm(p,p.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,p),p}(o,s,i,n,t,r):s.data[o],C=A2(s,i,p,a,n,e);i[o]=C;const x=lh(p);return Ys(p,!0),G_(a,C,p),!function Zc(e){return!(32&~e.flags)}(p)&&hd()&&Vh(s,i,C,p),0===function vN(){return Yt.lFrame.elementDepthCount}()&&Si(C,i),function wN(){Yt.lFrame.elementDepthCount++}(),x&&(bv(s,i,p),Ev(s,p,i)),null!==r&&Dv(i,p),Gn}function Zn(){let e=Wn();m0()?function g0(){Yt.lFrame.isParent=!1}():(e=e.parent,Ys(e,!1));const n=e;(function bN(e){return Yt.skipHydrationRootTNode===e})(n)&&function AN(){Yt.skipHydrationRootTNode=null}(),function EN(){Yt.lFrame.elementDepthCount--}();const t=ln();return t.firstCreatePass&&(gh(t,e),o0(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function $N(e){return!!(8&e.flags)}(n)&&ww(t,n,ft(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function jN(e){return!!(16&e.flags)}(n)&&ww(t,n,ft(),n.stylesWithoutHost,!1),Zn}function sa(e,n,t,r){return Gn(e,n,t,r),Zn(),sa}let A2=(e,n,t,r,i,s)=>(wo(!0),jh(r,i,function nS(){return Yt.lFrame.currentNamespace}()));const vm="en-US";let F2=vm,q2=(e,n,t)=>{};function Pw(e,n,t,r){const i=ft(),s=ln(),o=Wn();return function Fw(e,n,t,r,i,s,o){const a=lh(r),C=e.firstCreatePass&&function aA(e){return e.cleanup??=[]}(e),x=n[rr],U=function oA(e){return e[Tc]??=[]}(n);let ue=!0;if(3&r.type||o){const Re=Mi(r,n),Ue=o?o(Re):Re,We=U.length,He=o?Xe=>o(Fn(Xe[r.index])):r.index;let Je=null;if(!o&&a&&(Je=function JL(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=n[Tc],p=i[s+2];return a.length>p?a[p]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=s,Je.__ngLastListenerFn__=s,ue=!1;else{s=eI(r,n,x,s),q2(Re,i,s);const Xe=t.listen(Ue,i,s);U.push(s,Xe),C&&C.push(i,He,We,We+1)}}else s=eI(r,n,x,s);const ce=r.outputs;let ge;if(ue&&null!==ce&&(ge=ce[i])){const Re=ge.length;if(Re)for(let Ue=0;Ue<Re;Ue+=2){const et=n[ge[Ue]][ge[Ue+1]].subscribe(s),nt=U.length;U.push(s,et),C&&C.push(i,r.index,nt,-(nt+1))}}}(s,i,i[qt],o,e,n,r),Pw}function Q2(e,n,t,r){const i=u(null);try{return vo(6,n,t),!1!==t(r)}catch(s){return Wh(e,s),!1}finally{vo(7,n,t),u(i)}}function eI(e,n,t,r){return function i(s){if(s===Function)return r;Nd(e.componentOffset>-1?is(e.index,n):n,5);let a=Q2(n,t,r,s),p=i.__ngNextListenerFn__;for(;p;)a=Q2(n,t,p,s)&&a,p=p.__ngNextListenerFn__;return a}}function cf(e=1){return function FN(e){return(Yt.lFrame.contextLView=function $D(e,n){for(;e>0;)n=n[Oc],e--;return n}(e,Yt.lFrame.contextLView))[rr]}(e)}function Dm(e,n,t,r,i){const s=ft(),o=il(s,n,t,r);return o!==rn&&Yi(ln(),ir(),s,e,o,s[qt],i,!1),Dm}function Pr(e,n=""){const t=ft(),r=ln(),i=e+kt,s=r.firstCreatePass?Nu(r,i,1,n,null):r.data[i],o=DI(r,t,s,n,e);t[i]=o,hd()&&Vh(r,t,o,s),Ys(s,!1)}let DI=(e,n,t,r,i)=>(wo(!0),function lv(e,n){return e.createText(n)}(n[qt],r));function oa(e){return gl("",e,""),oa}function gl(e,n,t){const r=ft(),i=il(r,e,n,t);return i!==rn&&ra(r,oi(),i),gl}let S$=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Zy(0,t.type),i=r.length>0?om([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(Gt(Zi))})}}return e})();function yl(e){ki("NgStandalone"),e.getStandaloneInjector=n=>n.get(S$).getOrCreateStandaloneInjector(e)}function Lw(e,n,t,r){return $I(ft(),Ni(),e,n,t,r)}function $I(e,n,t,r,i,s){const o=n+t;return Dr(e,o,i)?_o(e,o+1,s?r.call(s,i):r(i)):function lf(e,n){const t=e[n];return t===rn?void 0:t}(e,o+1)}function KI(e,n,t){const r=e+kt,i=ft(),s=function Au(e,n){return e[n]}(i,r);return function df(e,n){return e[Dt].data[n].pure}(i,r)?$I(i,Ni(),n,s.transform,t,s):s.transform(t)}let ax=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const fx=new Ct("");function Tm(e){return!!e&&"function"==typeof e.then}function px(e){return!!e&&"function"==typeof e.subscribe}const Gw=new Ct("");let hx=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=yt(Gw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Tm(s))t.push(s);else if(px(s)){const o=new Promise((a,p)=>{s.subscribe({complete:a,error:p})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const hf=new Ct("");let Io=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yt(h3),this.afterRenderManager=yt(RC),this.zonelessEnabled=yt(zd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ve,this.afterTick=new ve,this.componentTypes=[],this.components=[],this.isStable=yt(Ou).hasPendingTasks.pipe(vt(t=>!t)),this._injector=yt(Zi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof $A;if(!this._injector.get(hx).done)throw!i&&function Ma(e){const n=mn(e)||jr(e)||ii(e);return null!==n&&n.standalone}(t),new lt(405,!1);let o;o=i?t:this._injector.get(em).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Mj(e){return e.isBoundToModule}(o)?void 0:this._injector.get($u),C=o.create(ai.NULL,[],r||o.selector,a),x=C.location.nativeElement,U=C.injector.get(fx,null);return U?.registerApplication(x),C.onDestroy(()=>{this.detachView(C.hostView),Om(this.components,C),U?.unregisterApplication(x)}),this._loadComponent(C),C}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new lt(101,!1);const t=u(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,u(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Hv,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)kj(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else t?.begin?.(),t?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>dh(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Om(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(hf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Om(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new lt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Om(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function kj(e,n,t,r){(t||dh(e))&&Gh(e,n,t&&!r?0:1)}class Lj{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let vx=(()=>{class e{compileModuleSync(t){return new rw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=os(bi(t).declarations).reduce((o,a)=>{const p=mn(a);return p&&o.push(new Gd(p)),o},[]);return new Lj(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Uj=(()=>{class e{constructor(){this.zone=yt(zn),this.changeDetectionScheduler=yt(Gc),this.applicationRef=yt(Io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Vj=new Ct("",{factory:()=>!1});function Jw({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new zn({...Zw(),scheduleInRootZone:t}),[{provide:zn,useFactory:e},{provide:mo,multi:!0,useFactory:()=>{const r=yt(Uj,{optional:!0});return()=>r.initialize()}},{provide:mo,multi:!0,useFactory:()=>{const r=yt(zj);return()=>{r.initialize()}}},!0===n?{provide:LA,useValue:!0}:[],{provide:Vv,useValue:t??_S}]}function Zw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let zj=(()=>{class e{constructor(){this.subscription=new ee,this.initialized=!1,this.zone=yt(zn),this.pendingTasks=yt(Ou)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{zn.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{zn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mf=(()=>{class e{constructor(){this.appRef=yt(Io),this.taskService=yt(Ou),this.ngZone=yt(zn),this.zonelessEnabled=yt(zd),this.disableScheduling=yt(LA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ee,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ah):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(yt(Vv,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof B0||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?CS:AS;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ah+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const za=new Ct("",{providedIn:"root",factory:()=>yt(za,wn.Optional|wn.SkipSelf)||function Kj(){return typeof $localize<"u"&&$localize.locale||vm}()}),Fm=new Ct("");function Rm(e){return!e.moduleRef}let Ka=null;let Mm=(()=>{class e{static{this.__NG_ELEMENT_ID__=t9}}return e})();function t9(e){return function n9(e,n,t){if(Su(e)&&!t){const r=is(e.index,n);return new Bd(r,r)}return 175&e.type?new Bd(n[lr],n):null}(Wn(),ft(),!(16&~e))}function A9(e){try{const{rootComponent:n,appProviders:t,platformProviders:r}=e,i=function e9(e=[]){if(Ka)return Ka;const n=function Cx(e=[],n){return ai.create({name:n,providers:[{provide:Xy,useValue:"platform"},{provide:Fm,useValue:new Set([()=>Ka=null])},...e]})}(e);return Ka=n,function mx(){!function Ee(e){Ie=e}(()=>{throw new lt(600,!1)})}(),function Ix(e){e.get(YS,null)?.forEach(t=>t())}(n),n}(r),s=[Jw({}),{provide:Gc,useExisting:mf},...t||[]];return function Sx(e){const n=Rm(e)?e.r3Injector:e.moduleRef.injector,t=n.get(zn);return t.run(()=>{Rm(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=n.get(bo,null);let i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Rm(e)){const s=()=>n.destroy(),o=e.platformInjector.get(Fm);o.add(s),n.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{const s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(Fm);o.add(s),e.moduleRef.onDestroy(()=>{Om(e.allPlatformModules,e.moduleRef),i.unsubscribe(),o.delete(s)})}return function Bj(e,n,t){try{const r=t();return Tm(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(r,t,()=>{const s=n.get(hx);return s.runInitializers(),s.donePromise.then(()=>{if(function lL(e){"string"==typeof e&&(F2=e.toLowerCase().replace(/_/g,"-"))}(n.get(za,vm)||vm),Rm(e)){const a=n.get(Io);return void 0!==e.rootComponent&&a.bootstrap(e.rootComponent),a}return function Yj(e,n){const t=e.injector.get(Io);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new lt(-403,!1);e.instance.ngDoBootstrap(t)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new AC({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}}function sE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let aT=null;function El(){return aT}class Q9{}const cs=new Ct("");let oE=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>yt(t7),providedIn:"platform"})}}return e})();const e7=new Ct("");let t7=(()=>{class e extends oE{constructor(){super(),this._doc=yt(cs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return El().getBaseHref(this._doc)}onPopState(t){const r=El().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=El().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function aE(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function uT(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function aa(e){return e&&"?"!==e[0]?"?"+e:e}let Wu=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>yt(lT),providedIn:"root"})}}return e})();const cT=new Ct("");let lT=(()=>{class e extends Wu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??yt(cs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return aE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+aa(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+aa(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+aa(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(Gt(oE),Gt(cT,8))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),n7=(()=>{class e extends Wu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=aE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+aa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+aa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(Gt(oE),Gt(cT,8))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),wf=(()=>{class e{constructor(t){this._subject=new Bi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function s7(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(uT(dT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+aa(r))}normalize(t){return e.stripTrailingSlash(function i7(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,dT(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+aa(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+aa(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=aa}static{this.joinWithSlash=aE}static{this.stripTrailingSlash=uT}static{this.\u0275fac=function(r){return new(r||e)(Gt(Wu))}}static{this.\u0275prov=H({token:e,factory:()=>function r7(){return new wf(Gt(Wu))}(),providedIn:"root"})}}return e})();function dT(e){return e.replace(/\/index.html$/,"")}let DE=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=th({type:e})}static{this.\u0275inj=Pe({})}}return e})();const CT="browser";function IT(e){return"server"===e}let DU=(()=>{class e{static{this.\u0275prov=H({token:e,providedIn:"root",factory:()=>function bU(e){return e===CT}(yt(La))?new SU(yt(cs),window):new AU})}}return e})();class SU{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const t=function _U(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class AU{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class eV extends Q9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class CE extends eV{static makeCurrent(){!function X9(e){aT??=e}(new CE)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function tV(){return Sf=Sf||document.querySelector("base"),Sf?Sf.getAttribute("href"):null}();return null==t?null:function nV(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Sf=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function H7(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let Sf=null,iV=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const IE=new Ct("");let LT=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new lt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(Gt(IE),Gt(zn))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class $T{constructor(n){this._doc=n}}const xE="ng-app-id";let jT=(()=>{class e{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=IT(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${xE}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(xE),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(xE,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Gt(cs),Gt(Sd),Gt(XS,8),Gt(La))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();const TE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},OE=/%COMP%/g,uV=new Ct("",{providedIn:"root",factory:()=>!0});function VT(e,n){return n.map(t=>t.replace(OE,e))}let HT=(()=>{class e{constructor(t,r,i,s,o,a,p,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=p,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=IT(a),this.defaultRenderer=new PE(t,o,p,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gs.ShadowDom&&(r={...r,encapsulation:Gs.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof KT?i.applyToHost(t):i instanceof FE&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,p=this.eventManager,C=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,U=this.platformIsServer;switch(r.encapsulation){case Gs.Emulated:s=new KT(p,C,r,this.appId,x,o,a,U);break;case Gs.ShadowDom:return new fV(p,C,t,r,o,a,this.nonce,U);default:s=new FE(p,C,r,x,o,a,U)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Gt(LT),Gt(jT),Gt(Sd),Gt(uV),Gt(cs),Gt(La),Gt(zn),Gt(XS))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();class PE{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(TE[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(zT(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(zT(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new lt(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=TE[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=TE[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&($a.DashCase|$a.Important)?n.style.setProperty(t,r,i&$a.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&$a.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=El().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function zT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class fV extends PE{constructor(n,t,r,i,s,o,a,p){super(n,s,o,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=VT(i.id,i.styles);for(const x of C){const U=document.createElement("style");a&&U.setAttribute("nonce",a),U.textContent=x,this.shadowRoot.appendChild(U)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class FE extends PE{constructor(n,t,r,i,s,o,a,p){super(n,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=p?VT(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class KT extends FE{constructor(n,t,r,i,s,o,a,p){const C=i+"-"+r.id;super(n,t,r,s,o,a,p,C),this.contentAttr=function cV(e){return"_ngcontent-%COMP%".replace(OE,e)}(C),this.hostAttr=function lV(e){return"_nghost-%COMP%".replace(OE,e)}(C)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}const WT=["alt","control","meta","shift"],hV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function GT(e){return{appProviders:[...SV,...e?.providers??[]],platformProviders:bV}}const bV=[{provide:La,useValue:CT},{provide:YS,useValue:function vV(){CE.makeCurrent()},multi:!0},{provide:cs,useFactory:function EV(){return function B3(e){V0=e}(document),document},deps:[]}],SV=[{provide:Xy,useValue:"root"},{provide:bo,useFactory:function wV(){return new bo},deps:[]},{provide:IE,useClass:(()=>{class e extends $T{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Gt(cs))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[cs,zn,La]},{provide:IE,useClass:(()=>{class e extends $T{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>El().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WT.forEach(C=>{const x=r.indexOf(C);x>-1&&(r.splice(x,1),o+=C+".")}),o+=s,0!=r.length||0===s.length)return null;const p={};return p.domEventName=i,p.fullKey=o,p}static matchEventFullKeyCode(t,r){let i=hV[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WT.forEach(o=>{o!==i&&(0,mV[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(Gt(cs))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[cs]},HT,jT,LT,{provide:Hv,useExisting:HT},{provide:class CU{},useClass:iV,deps:[]},[]];let _V=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(Gt(cs))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ig=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:function(r){let i=null;return i=r?new(r||e):Gt(xV),i},providedIn:"root"})}}return e})(),xV=(()=>{class e extends ig{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case xs.NONE:return r;case xs.HTML:return Do(r,"HTML")?ss(r):b_(this._doc,String(r)).toString();case xs.STYLE:return Do(r,"Style")?ss(r):r;case xs.SCRIPT:if(Do(r,"Script"))return ss(r);throw new lt(5200,!1);case xs.URL:return Do(r,"URL")?ss(r):Bh(String(r));case xs.RESOURCE_URL:if(Do(r,"ResourceURL"))return ss(r);throw new lt(5201,!1);default:throw new lt(5202,!1)}}bypassSecurityTrustHtml(t){return function rB(e){return new Y3(e)}(t)}bypassSecurityTrustStyle(t){return function iB(e){return new X3(e)}(t)}bypassSecurityTrustScript(t){return function sB(e){return new Q3(e)}(t)}bypassSecurityTrustUrl(t){return function oB(e){return new eB(e)}(t)}bypassSecurityTrustResourceUrl(t){return function aB(e){return new tB(e)}(t)}static{this.\u0275fac=function(r){return new(r||e)(Gt(cs))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Wa(e){return this instanceof Wa?(this.v=e,this):new Wa(e)}function QT(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function BE(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,p){!function i(s,o,a,p){Promise.resolve(p).then(function(C){s({value:C,done:a})},o)}(a,p,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const eO=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function tO(e){return Ae(e?.then)}function nO(e){return Ae(e[_n])}function rO(e){return Symbol.asyncIterator&&Ae(e?.[Symbol.asyncIterator])}function iO(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sO=function nH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function oO(e){return Ae(e?.[sO])}function aO(e){return function XT(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(ce){return function(ge){return Promise.resolve(ge).then(ce,U)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(ce,ge){r[ce]&&(i[ce]=function(Re){return new Promise(function(Ue,We){s.push([ce,Re,Ue,We])>1||p(ce,Re)})},ge&&(i[ce]=ge(i[ce])))}function p(ce,ge){try{!function C(ce){ce.value instanceof Wa?Promise.resolve(ce.value.v).then(x,U):ue(s[0][2],ce)}(r[ce](ge))}catch(Re){ue(s[0][3],Re)}}function x(ce){p("next",ce)}function U(ce){p("throw",ce)}function ue(ce,ge){ce(ge),s.shift(),s.length&&p(s[0][0],s[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Wa(t.read());if(i)return yield Wa(void 0);yield yield Wa(r)}}finally{t.releaseLock()}})}function uO(e){return Ae(e?.getReader)}function la(e){if(e instanceof be)return e;if(null!=e){if(nO(e))return function rH(e){return new be(n=>{const t=e[_n]();if(Ae(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(eO(e))return function iH(e){return new be(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(tO(e))return function sH(e){return new be(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ut)})}(e);if(rO(e))return cO(e);if(oO(e))return function oH(e){return new be(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(uO(e))return function aH(e){return cO(aO(e))}(e)}throw iO(e)}function cO(e){return new be(n=>{(function uH(e,n){var t,r,i,s;return function qT(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=QT(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function da(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function lO(e,n=0){return Ve((t,r)=>{t.subscribe(tt(r,i=>da(r,e,()=>r.next(i),n),()=>da(r,e,()=>r.complete(),n),i=>da(r,e,()=>r.error(i),n)))})}function dO(e,n=0){return Ve((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function fO(e,n){if(!e)throw new Error("Iterable cannot be null");return new be(t=>{da(t,n,()=>{const r=e[Symbol.asyncIterator]();da(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ui(e,n){return n?function hH(e,n){if(null!=e){if(nO(e))return function cH(e,n){return la(e).pipe(dO(n),lO(n))}(e,n);if(eO(e))return function dH(e,n){return new be(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(tO(e))return function lH(e,n){return la(e).pipe(dO(n),lO(n))}(e,n);if(rO(e))return fO(e,n);if(oO(e))return function fH(e,n){return new be(t=>{let r;return da(t,n,()=>{r=e[sO](),da(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(e,n);if(uO(e))return function pH(e,n){return fO(aO(e),n)}(e,n)}throw iO(e)}(e,n):la(e)}function kE(e){return e[e.length-1]}function og(e){return function mH(e){return e&&Ae(e.schedule)}(kE(e))?e.pop():void 0}function Qt(...e){return ui(e,og(e))}const{isArray:yH}=Array,{getPrototypeOf:vH,prototype:wH,keys:EH}=Object;const{isArray:SH}=Array;function LE(...e){const n=og(e),t=function gH(e){return Ae(kE(e))?e.pop():void 0}(e),{args:r,keys:i}=function bH(e){if(1===e.length){const n=e[0];if(yH(n))return{args:n,keys:null};if(function DH(e){return e&&"object"==typeof e&&vH(e)===wH}(n)){const t=EH(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return ui([],n);const s=new be(function IH(e,n,t=An){return r=>{pO(n,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let p=0;p<i;p++)pO(n,()=>{const C=ui(e[p],n);let x=!1;C.subscribe(tt(r,U=>{s[p]=U,x||(x=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>function CH(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,o):An));return t?s.pipe(function AH(e){return vt(n=>function _H(e,n){return SH(n)?e(...n):e(n)}(e,n))}(t)):s}function pO(e,n,t){e?da(t,e,n):n()}const ag=je(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _i(e,n,t=1/0){return Ae(n)?_i((r,i)=>vt((s,o)=>n(r,s,i,o))(la(e(r,i))),t):("number"==typeof n&&(t=n),Ve((r,i)=>function xH(e,n,t,r,i,s,o,a){const p=[];let C=0,x=0,U=!1;const ue=()=>{U&&!p.length&&!C&&n.complete()},ce=Re=>C<r?ge(Re):p.push(Re),ge=Re=>{s&&n.next(Re),C++;let Ue=!1;la(t(Re,x++)).subscribe(tt(n,We=>{i?.(We),s?ce(We):n.next(We)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(C--;p.length&&C<r;){const We=p.shift();o?da(n,o,()=>ge(We)):ge(We)}ue()}catch(We){n.error(We)}}))};return e.subscribe(tt(n,ce,()=>{U=!0,ue()})),()=>{a?.()}}(r,i,e,t)))}function _f(e=1/0){return _i(An,e)}function $E(...e){return function TH(){return _f(1)}()(ui(e,og(e)))}function hO(e){return new be(n=>{la(e()).subscribe(n)})}function ug(e,n){const t=Ae(e)?e:()=>e,r=i=>i.error(t());return new be(n?i=>n.schedule(r,0,i):r)}const xo=new be(e=>e.complete());function jE(){return Ve((e,n)=>{let t=null;e._refCount++;const r=tt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class mO extends be{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_e(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ee;const t=this.getSubject();n.add(this.source.subscribe(tt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ee.EMPTY)}return n}refCount(){return jE()(this)}}function To(e,n){return Ve((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(tt(r,p=>{i?.unsubscribe();let C=0;const x=s++;la(e(p,x)).subscribe(i=tt(r,U=>r.next(n?n(p,U,x,C++):U),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Sl(e){return e<=0?()=>xo:Ve((n,t)=>{let r=0;n.subscribe(tt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Ga(e,n){return Ve((t,r)=>{let i=0;t.subscribe(tt(r,s=>e.call(n,s,i++)&&r.next(s)))})}function cg(e){return Ve((n,t)=>{let r=!1;n.subscribe(tt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function gO(e=FH){return Ve((n,t)=>{let r=!1;n.subscribe(tt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function FH(){return new ag}function Ju(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ga((i,s)=>e(i,s,r)):An,Sl(1),t?cg(n):gO(()=>new ag))}function Af(e,n){return Ae(n)?_i(e,n,1):_i(e,1)}function Ui(e,n,t){const r=Ae(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ve((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(tt(s,p=>{var C;null===(C=r.next)||void 0===C||C.call(r,p),s.next(p)},()=>{var p;a=!1,null===(p=r.complete)||void 0===p||p.call(r),s.complete()},p=>{var C;a=!1,null===(C=r.error)||void 0===C||C.call(r,p),s.error(p)},()=>{var p,C;a&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(C=r.finalize)||void 0===C||C.call(r)}))}):An}function _l(e){return Ve((n,t)=>{let s,r=null,i=!1;r=n.subscribe(tt(t,void 0,void 0,o=>{s=la(e(o,_l(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function UE(e){return e<=0?()=>xo:Ve((n,t)=>{let r=[];n.subscribe(tt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function VE(e){return Ve((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const an="primary",Cf=Symbol("RouteTitle");class LH{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Al(e){return new LH(e)}function $H(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(":"===o[0])i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Oo(e,n){const t=e?HE(e):void 0,r=n?HE(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!yO(e[i],n[i]))return!1;return!0}function HE(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function yO(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function vO(e){return e.length>0?e[e.length-1]:null}function Ja(e){return function TV(e){return!!e&&(e instanceof be||Ae(e.lift)&&Ae(e.subscribe))}(e)?e:Tm(e)?ui(Promise.resolve(e)):Qt(e)}const UH={exact:function bO(e,n,t){if(!qu(e.segments,n.segments)||!lg(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!bO(e.children[r],n.children[r],t))return!1;return!0},subset:DO},wO={exact:function VH(e,n){return Oo(e,n)},subset:function HH(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>yO(e[t],n[t]))},ignored:()=>!0};function EO(e,n,t){return UH[t.paths](e.root,n.root,t.matrixParams)&&wO[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function DO(e,n,t){return SO(e,n,n.segments,t)}function SO(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!qu(i,t)||n.hasChildren()||!lg(i,t,r))}if(e.segments.length===t.length){if(!qu(e.segments,t)||!lg(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!DO(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(qu(e.segments,i)&&lg(e.segments,i,r)&&e.children[an])&&SO(e.children[an],n,s,r)}}function lg(e,n,t){return n.every((r,i)=>wO[t](e[i].parameters,r.parameters))}class Zu{constructor(n=new qn([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Al(this.queryParams),this._queryParamMap}toString(){return WH.serialize(this)}}class qn{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fg(this)}}class If{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Al(this.parameters),this._parameterMap}toString(){return CO(this)}}function qu(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Cl=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>new dg,providedIn:"root"})}}return e})();class dg{parse(n){const t=new rz(n);return new Zu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${xf(n.root,!0)}`,r=function ZH(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${pg(t)}=${pg(i)}`).join("&"):`${pg(t)}=${pg(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function GH(e){return encodeURI(e)}(n.fragment)}`:""}`}}const WH=new dg;function fg(e){return e.segments.map(n=>CO(n)).join("/")}function xf(e,n){if(!e.hasChildren())return fg(e);if(n){const t=e.children[an]?xf(e.children[an],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==an&&r.push(`${i}:${xf(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function KH(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===an&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==an&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===an?[xf(e.children[an],!1)]:[`${i}:${xf(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[an]?`${fg(e)}/${t[0]}`:`${fg(e)}/(${t.join("//")})`}}function _O(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pg(e){return _O(e).replace(/%3B/gi,";")}function zE(e){return _O(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hg(e){return decodeURIComponent(e)}function AO(e){return hg(e.replace(/\+/g,"%20"))}function CO(e){return`${zE(e.path)}${function JH(e){return Object.entries(e).map(([n,t])=>`;${zE(n)}=${zE(t)}`).join("")}(e.parameters)}`}const qH=/^[^\/()?;#]+/;function KE(e){const n=e.match(qH);return n?n[0]:""}const YH=/^[^\/()?;=#]+/,QH=/^[^=?&#]+/,tz=/^[^&#]+/;class rz{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[an]=new qn(n,t)),r}parseSegment(){const n=KE(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new lt(4009,!1);return this.capture(n),new If(hg(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function XH(e){const n=e.match(YH);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=KE(this.remaining);i&&(r=i,this.capture(r))}n[hg(t)]=hg(r)}parseQueryParam(n){const t=function ez(e){const n=e.match(QH);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function nz(e){const n=e.match(tz);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=AO(t),s=AO(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=KE(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new lt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=an);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[an]:new qn([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new lt(4011,!1)}}function IO(e){return e.segments.length>0?new qn([],{[an]:e}):e}function xO(e){const n={};for(const[r,i]of Object.entries(e.children)){const s=xO(i);if(r===an&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))n[o]=a;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function iz(e){if(1===e.numberOfChildren&&e.children[an]){const n=e.children[an];return new qn(e.segments.concat(n.segments),n.children)}return e}(new qn(e.segments,n))}function Yu(e){return e instanceof Zu}function TO(e){let n;const i=IO(function t(s){const o={};for(const p of s.children){const C=t(p);o[p.outlet]=C}const a=new qn(s.url,o);return s===e&&(n=a),a}(e.root));return n??i}function OO(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return WE(i,i,i,t,r);const s=function oz(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new FO(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([p,C])=>{a[p]="string"==typeof C?C.split("/"):C}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,p)=>{0==p&&"."===a||(0==p&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new FO(t,n,r)}(n);if(s.toRoot())return WE(i,i,new qn([],{}),t,r);const o=function az(e,n,t){if(e.isAbsolute)return new gg(n,!0,0);if(!t)return new gg(n,!1,NaN);if(null===t.parent)return new gg(t,!0,0);const r=mg(e.commands[0])?0:1;return function uz(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new lt(4005,!1);i=r.segments.length}return new gg(r,!1,i-s)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?Of(o.segmentGroup,o.index,s.commands):RO(o.segmentGroup,o.index,s.commands);return WE(i,o.segmentGroup,a,t,r)}function mg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Tf(e){return"object"==typeof e&&null!=e&&e.outlets}function WE(e,n,t,r,i){let o,s={};r&&Object.entries(r).forEach(([p,C])=>{s[p]=Array.isArray(C)?C.map(x=>`${x}`):`${C}`}),o=e===n?t:PO(e,n,t);const a=IO(xO(o));return new Zu(a,s,i)}function PO(e,n,t){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===n?t:PO(s,n,t)}),new qn(e.segments,r)}class FO{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&mg(r[0]))throw new lt(4003,!1);const i=r.find(Tf);if(i&&i!==vO(r))throw new lt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gg{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function RO(e,n,t){if(e??=new qn([],{}),0===e.segments.length&&e.hasChildren())return Of(e,n,t);const r=function lz(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],a=t[r];if(Tf(a))break;const p=`${a}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&C&&"object"==typeof C&&void 0===C.outlets){if(!NO(p,C,o))return s;r+=2}else{if(!NO(p,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new qn(e.segments.slice(0,r.pathIndex),{});return s.children[an]=new qn(e.segments.slice(r.pathIndex),e.children),Of(s,0,i)}return r.match&&0===i.length?new qn(e.segments,{}):r.match&&!e.hasChildren()?GE(e,n,t):r.match?Of(e,0,i):GE(e,n,t)}function Of(e,n,t){if(0===t.length)return new qn(e.segments,{});{const r=function cz(e){return Tf(e[0])?e[0].outlets:{[an]:e}}(t),i={};if(Object.keys(r).some(s=>s!==an)&&e.children[an]&&1===e.numberOfChildren&&0===e.children[an].segments.length){const s=Of(e.children[an],n,t);return new qn(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=RO(e.children[s],n,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new qn(e.segments,i)}}function GE(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(Tf(s)){const p=dz(s.outlets);return new qn(r,p)}if(0===i&&mg(t[0])){r.push(new If(e.segments[n].path,MO(t[0]))),i++;continue}const o=Tf(s)?s.outlets[an]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&mg(a)?(r.push(new If(o,MO(a))),i+=2):(r.push(new If(o,{})),i++)}return new qn(r,{})}function dz(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=GE(new qn([],{}),0,r))}),n}function MO(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function NO(e,n,t){return e==t.path&&Oo(n,t.parameters)}const Pf="imperative";var xn=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(xn||{});class Po{constructor(n,t){this.id=n,this.url=t}}class yg extends Po{constructor(n,t,r="imperative",i=null){super(n,t),this.type=xn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fa extends Po{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=xn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ds=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ds||{}),vg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(vg||{});class Xu extends Po{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=xn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Il extends Po{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=xn.NavigationSkipped}}class JE extends Po{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=xn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BO extends Po{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fz extends Po{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pz extends Po{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=xn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hz extends Po{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mz extends Po{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gz{constructor(n){this.route=n,this.type=xn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yz{constructor(n){this.route=n,this.type=xn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vz{constructor(n){this.snapshot=n,this.type=xn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wz{constructor(n){this.snapshot=n,this.type=xn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ez{constructor(n){this.snapshot=n,this.type=xn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bz{constructor(n){this.snapshot=n,this.type=xn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kO{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=xn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ZE{}class wg{constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}}function io(e){return e.outlet||an}function Ff(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Iz{get injector(){return Ff(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Rf(this.rootInjector),this.attachRef=null}}let Rf=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Iz(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)(Gt(Zi))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class LO{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=qE(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=qE(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=YE(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return YE(n,this._root).map(t=>t.value)}}function qE(e,n){if(e===n.value)return n;for(const t of n.children){const r=qE(e,t);if(r)return r}return null}function YE(e,n){if(e===n.value)return[n];for(const t of n.children){const r=YE(e,t);if(r.length)return r.unshift(n),r}return[]}class so{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function xl(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class $O extends LO{constructor(n,t){super(n),this.snapshot=t,XE(this,n)}toString(){return this.snapshot.toString()}}function jO(e){const n=function xz(e){const s=new bg([],{},{},"",{},an,e,null,{});return new UO("",new so(s,[]))}(e),t=new xe([new If("",{})]),r=new xe({}),i=new xe({}),s=new xe({}),o=new xe(""),a=new pa(t,r,s,o,i,an,e,n.root);return a.snapshot=n.root,new $O(new so(a,[]),n)}class pa{constructor(n,t,r,i,s,o,a,p){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(vt(C=>C[Cf]))??Qt(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(vt(n=>Al(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(vt(n=>Al(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Eg(e,n,t="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===n||"always"!==t&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...i?.data,...e._resolvedData}},i&&HO(i)&&(r.resolve[Cf]=i.title),r}class bg{get title(){return this.data?.[Cf]}constructor(n,t,r,i,s,o,a,p,C){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=p,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Al(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Al(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UO extends LO{constructor(n,t){super(t),this.url=n,XE(this,t)}toString(){return VO(this._root)}}function XE(e,n){n.value._routerState=e,n.children.forEach(t=>XE(e,t))}function VO(e){const n=e.children.length>0?` { ${e.children.map(VO).join(", ")} } `:"";return`${e.value}${n}`}function QE(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Oo(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Oo(n.params,t.params)||e.paramsSubject.next(t.params),function jH(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Oo(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Oo(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function eb(e,n){const t=Oo(e.params,n.params)&&function zH(e,n){return qu(e,n)&&e.every((t,r)=>Oo(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||eb(e.parent,n.parent))}function HO(e){return"string"==typeof e.title||null===e.title}let tb=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=an,this.activateEvents=new Bi,this.deactivateEvents=new Bi,this.attachEvents=new Bi,this.detachEvents=new Bi,this.parentContexts=yt(Rf),this.location=yt(Qs),this.changeDetector=yt(Mm),this.inputBinder=yt(Dg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new lt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new lt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new lt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new lt(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,p=new nb(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:p,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Pi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_u]})}}return e})();class nb{__ngOutletInjector(n){return new nb(this.route,this.childContexts,n)}constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===pa?this.route:n===Rf?this.childContexts:this.parent.get(n,t)}}const Dg=new Ct("");let zO=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=LE([r.queryParams,r.params,r.data]).pipe(To(([s,o,a],p)=>(a={...s,...o,...a},0===p?Qt(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function Y9(e){const n=mn(e);if(!n)return null;const t=new Gd(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();function Mf(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function Oz(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Mf(e,r,i);return Mf(e,r)})}(e,n,t);return new so(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>Mf(e,a)),o}}const r=function Pz(e){return new pa(new xe(e.url),new xe(e.params),new xe(e.queryParams),new xe(e.fragment),new xe(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>Mf(e,s));return new so(r,i)}}class rb{constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}}const KO="ngNavigationCancelingError";function Sg(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Yu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=WO(!1,ds.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function WO(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[KO]=!0,t.cancellationCode=n,t}function GO(e){return!!e&&e[KO]}class Mz{constructor(n,t,r,i,s){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),QE(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=xl(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=xl(n);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=xl(n);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=xl(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bz(s.value.snapshot))}),n.children.length&&this.forwardEvent(new wz(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(QE(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),QE(a.route.value),this.activateChildRoutes(n,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}else this.activateChildRoutes(n,null,r)}}class JO{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class _g{constructor(n,t){this.component=n,this.route=t}}function Nz(e,n,t){const r=e._root;return Nf(r,n?n._root:null,t,[r.value])}function Tl(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function De(e){return null!==pe(e)}(e)?n.get(e):e:r}function Nf(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xl(n);return e.children.forEach(o=>{(function kz(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const p=function Lz(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!qu(e.url,n.url);case"pathParamsOrQueryParamsChange":return!qu(e.url,n.url)||!Oo(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eb(e,n)||!Oo(e.queryParams,n.queryParams);default:return!eb(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new JO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Nf(e,n,s.component?a?a.children:null:t,r,i),p&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _g(a.outlet.component,o))}else o&&Bf(n,a,i),i.canActivateChecks.push(new JO(r)),Nf(e,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Bf(a,t.getContext(o),i)),i}function Bf(e,n,t){const r=xl(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Bf(o,i.component?n?n.children.getContext(s):null:n,t)}),t.canDeactivateChecks.push(new _g(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function kf(e){return"function"==typeof e}function ZO(e){return e instanceof ag||"EmptyError"===e?.name}const Ag=Symbol("INITIAL_VALUE");function Ol(){return To(e=>LE(e.map(n=>n.pipe(Sl(1),function PH(...e){const n=og(e);return Ve((t,r)=>{(n?$E(e,t,n):$E(e,t)).subscribe(r)})}(Ag)))).pipe(vt(n=>{for(const t of n)if(!0!==t){if(t===Ag)return Ag;if(!1===t||Kz(t))return t}return!0}),Ga(n=>n!==Ag),Sl(1)))}function Kz(e){return Yu(e)||e instanceof rb}function qO(e){return function Hn(...e){return Y(e)}(Ui(n=>{if("boolean"!=typeof n)throw Sg(0,n)}),vt(n=>!0===n))}class ib{constructor(n){this.segmentGroup=n||null}}class Cg extends Error{constructor(n){super(),this.urlTree=n}}function Pl(e){return ug(new ib(e))}class iK{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qt(r);if(i.numberOfChildren>1||!i.children[an])return ug(new lt(4e3,!1));i=i.children[an]}}applyRedirectCommands(n,t,r,i,s){if("string"!=typeof t){const a=t,{queryParams:p,fragment:C,routeConfig:x,url:U,outlet:ue,params:ce,data:ge,title:Re}=i,Ue=Yo(s,()=>a({params:ce,data:ge,queryParams:p,fragment:C,routeConfig:x,url:U,outlet:ue,title:Re}));if(Ue instanceof Zu)throw new Cg(Ue);t=Ue}const o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if("/"===t[0])throw new Cg(o);return o}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Zu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,s])=>{if("string"==typeof s&&":"===s[0]){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,p])=>{o[a]=this.createSegmentGroup(n,p,r,i)}),new qn(s,o)}createSegments(n,t,r,i){return t.map(s=>":"===s.path[0]?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new lt(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const sb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sK(e,n,t,r,i){const s=YO(e,n,t);return s.matched?(r=function Dz(e,n){return e.providers&&!e._injector&&(e._injector=om(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function tK(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?Qt(i.map(o=>{const a=Tl(o,e);return Ja(function zz(e){return e&&kf(e.canMatch)}(a)?a.canMatch(n,t):Yo(e,()=>a(n,t)))})).pipe(Ol(),qO()):Qt(!0)}(r,n,t).pipe(vt(o=>!0===o?s:{...sb}))):Qt(s)}function YO(e,n,t){if("**"===n.path)return function oK(e){return{matched:!0,parameters:e.length>0?vO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...sb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||$H)(t,e,n);if(!i)return{...sb};const s={};Object.entries(i.posParams??{}).forEach(([a,p])=>{s[a]=p.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function XO(e,n,t,r){return t.length>0&&function cK(e,n,t){return t.some(r=>Ig(e,n,r)&&io(r)!==an)}(e,t,r)?{segmentGroup:new qn(n,uK(r,new qn(t,e.children))),slicedSegments:[]}:0===t.length&&function lK(e,n,t){return t.some(r=>Ig(e,n,r))}(e,t,r)?{segmentGroup:new qn(e.segments,aK(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new qn(e.segments,e.children),slicedSegments:t}}function aK(e,n,t,r){const i={};for(const s of t)if(Ig(e,n,s)&&!r[io(s)]){const o=new qn([],{});i[io(s)]=o}return{...r,...i}}function uK(e,n){const t={};t[an]=n;for(const r of e)if(""===r.path&&io(r)!==an){const i=new qn([],{});t[io(r)]=i}return t}function Ig(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class fK{}class mK{constructor(n,t,r,i,s,o,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new iK(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new lt(4002,`'${n.segmentGroup}'`)}recognize(){const n=XO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(vt(({children:t,rootSnapshot:r})=>{const i=new so(r,t),s=new UO("",i),o=function sz(e,n,t=null,r=null){return OO(TO(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(n){const t=new bg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),an,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,an,t).pipe(vt(r=>({children:r,rootSnapshot:t})),_l(r=>{if(r instanceof Cg)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ib?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r,s):this.processSegment(n,t,r,r.segments,i,!0,s).pipe(vt(o=>o instanceof so?[o]:[]))}processChildren(n,t,r,i){const s=[];for(const o of Object.keys(r.children))"primary"===o?s.unshift(o):s.push(o);return ui(s).pipe(Af(o=>{const a=r.children[o],p=function Cz(e,n){const t=e.filter(r=>io(r)===n);return t.push(...e.filter(r=>io(r)!==n)),t}(t,o);return this.processSegmentGroup(n,p,a,o,i)}),function MH(e,n){return Ve(function RH(e,n,t,r,i){return(s,o)=>{let a=t,p=n,C=0;s.subscribe(tt(o,x=>{const U=C++;p=a?e(p,x,U):(a=!0,x),r&&o.next(p)},i&&(()=>{a&&o.next(p),o.complete()})))}}(e,n,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),cg(null),function NH(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ga((i,s)=>e(i,s,r)):An,UE(1),t?cg(n):gO(()=>new ag))}(),_i(o=>{if(null===o)return Pl(r);const a=QO(o);return function gK(e){e.sort((n,t)=>n.value.outlet===an?-1:t.value.outlet===an?1:n.value.outlet.localeCompare(t.value.outlet))}(a),Qt(a)}))}processSegment(n,t,r,i,s,o,a){return ui(t).pipe(Af(p=>this.processSegmentAgainstRoute(p._injector??n,t,p,r,i,s,o,a).pipe(_l(C=>{if(C instanceof ib)return Qt(null);throw C}))),Ju(p=>!!p),_l(p=>{if(ZO(p))return function dK(e,n,t){return 0===n.length&&!e.children[t]}(r,i,s)?Qt(new fK):Pl(r);throw p}))}processSegmentAgainstRoute(n,t,r,i,s,o,a,p){return io(r)===o||o!==an&&Ig(i,s,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,s,o,p):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,s,o,p):Pl(i):Pl(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o,a){const{matched:p,parameters:C,consumedSegments:x,positionalParamSegments:U,remainingSegments:ue}=YO(t,i,s);if(!p)return Pl(t);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ce=new bg(s,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eP(i),io(i),i.component??i._loadedComponent??null,i,tP(i)),ge=Eg(ce,a,this.paramsInheritanceStrategy);ce.params=Object.freeze(ge.params),ce.data=Object.freeze(ge.data);const Re=this.applyRedirects.applyRedirectCommands(x,i.redirectTo,U,ce,n);return this.applyRedirects.lineralizeSegments(i,Re).pipe(_i(Ue=>this.processSegment(n,r,t,Ue.concat(ue),o,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,s,o){const a=sK(t,r,i,n);return"**"===r.path&&(t.children={}),a.pipe(To(p=>p.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(To(({routes:C})=>{const x=r._loadedInjector??n,{parameters:U,consumedSegments:ue,remainingSegments:ce}=p,ge=new bg(ue,U,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,eP(r),io(r),r.component??r._loadedComponent??null,r,tP(r)),Re=Eg(ge,o,this.paramsInheritanceStrategy);ge.params=Object.freeze(Re.params),ge.data=Object.freeze(Re.data);const{segmentGroup:Ue,slicedSegments:We}=XO(t,ue,ce,C);if(0===We.length&&Ue.hasChildren())return this.processChildren(x,C,Ue,ge).pipe(vt(Je=>new so(ge,Je)));if(0===C.length&&0===We.length)return Qt(new so(ge,[]));const He=io(r)===s;return this.processSegment(x,C,Ue,We,He?an:s,!0,ge).pipe(vt(Je=>new so(ge,Je instanceof so?[Je]:[])))})):Pl(t)))}getChildConfig(n,t,r){return t.children?Qt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?Qt({routes:t._loadedRoutes,injector:t._loadedInjector}):function eK(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?Qt(!0):Qt(i.map(o=>{const a=Tl(o,e);return Ja(function jz(e){return e&&kf(e.canLoad)}(a)?a.canLoad(n,t):Yo(e,()=>a(n,t)))})).pipe(Ol(),qO())}(n,t,r).pipe(_i(i=>i?this.configLoader.loadChildren(n,t).pipe(Ui(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function rK(){return ug(WO(!1,ds.GuardRejected))}())):Qt({routes:[],injector:n})}}function yK(e){const n=e.value.routeConfig;return n&&""===n.path}function QO(e){const n=[],t=new Set;for(const r of e){if(!yK(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=QO(r.children);n.push(new so(r.value,i))}return n.filter(r=>!t.has(r))}function eP(e){return e.data||{}}function tP(e){return e.resolve||{}}function nP(e){const n=e.children.map(t=>nP(t)).flat();return[e,...n]}function ob(e){return To(n=>{const t=e(n);return t?ui(t).pipe(vt(()=>n)):Qt(n)})}let rP=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===an);return r}getResolvedTitleForRoute(t){return t.data[Cf]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>yt(SK),providedIn:"root"})}}return e})(),SK=(()=>{class e extends rP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(Gt(_V))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Fl=new Ct("",{providedIn:"root",factory:()=>({})});let iP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ac({type:e,selectors:[["ng-component"]],standalone:!0,features:[yl],decls:1,vars:0,template:function(r,i){1&r&&sa(0,"router-outlet")},dependencies:[tb],encapsulation:2})}}return e})();function ab(e){const n=e.children&&e.children.map(ab),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==an&&(t.component=iP),t}const Rl=new Ct("");let ub=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=yt(vx)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ja(t.loadComponent()).pipe(vt(sP),Ui(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),VE(()=>{this.componentLoaders.delete(t)})),i=new mO(r,()=>new ve).pipe(jE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Qt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function _K(e,n,t,r){return Ja(e.loadChildren()).pipe(vt(sP),_i(i=>i instanceof _C||Array.isArray(i)?Qt(i):ui(n.compileModuleAsync(i))),vt(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Rl,[],{optional:!0,self:!0}).flat()),{routes:o.map(ab),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(VE(()=>{this.childrenLoaders.delete(r)})),o=new mO(s,()=>new ve).pipe(jE());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sP(e){return function AK(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let cb=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>yt(CK),providedIn:"root"})}}return e})(),CK=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const oP=new Ct(""),aP=new Ct("");function IK(e,n,t){const r=e.get(aP),i=e.get(cs);return e.get(zn).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(C=>setTimeout(C));let s;const o=new Promise(C=>{s=C}),a=i.startViewTransition(()=>(s(),function xK(e){return new Promise(n=>{fm({read:()=>setTimeout(n)},{injector:e})})}(e))),{onViewTransitionCreated:p}=r;return p&&Yo(e,()=>p({transition:a,from:n,to:t})),o})}const uP=new Ct("");let xg=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=yt(ub),this.environmentInjector=yt(Zi),this.urlSerializer=yt(Cl),this.rootContexts=yt(Rf),this.location=yt(wf),this.inputBindingEnabled=null!==yt(Dg,{optional:!0}),this.titleStrategy=yt(rP),this.options=yt(Fl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=yt(cb),this.createViewTransition=yt(oP,{optional:!0}),this.navigationErrorHandler=yt(uP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Qt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new yz(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gz(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Pf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ga(s=>0!==s.id),vt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),To(s=>{let o=!1,a=!1;return Qt(s).pipe(To(p=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ds.SupersededByNewNavigation),xo;this.currentTransition=s,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:"string"==typeof p.extras.browserUrl?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const C=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!C&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const U="";return this.events.next(new Il(p.id,this.urlSerializer.serialize(p.rawUrl),U,vg.IgnoredSameUrlNavigation)),p.resolve(!1),xo}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Qt(p).pipe(To(U=>{const ue=this.transitions?.getValue();return this.events.next(new yg(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),ue!==this.transitions?.getValue()?xo:Promise.resolve(U)}),function vK(e,n,t,r,i,s){return _i(o=>function pK(e,n,t,r,i,s,o="emptyOnly"){return new mK(e,n,t,r,i,o,s).recognize()}(e,n,t,r,o.extractedUrl,i,s).pipe(vt(({state:a,tree:p})=>({...o,targetSnapshot:a,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ui(U=>{s.targetSnapshot=U.targetSnapshot,s.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects};const ue=new BO(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(ue)}));if(C&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:U,extractedUrl:ue,source:ce,restoredState:ge,extras:Re}=p,Ue=new yg(U,this.urlSerializer.serialize(ue),ce,ge);this.events.next(Ue);const We=jO(this.rootComponentType).snapshot;return this.currentTransition=s={...p,targetSnapshot:We,urlAfterRedirects:ue,extras:{...Re,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ue,Qt(s)}{const U="";return this.events.next(new Il(p.id,this.urlSerializer.serialize(p.extractedUrl),U,vg.IgnoredByUrlHandlingStrategy)),p.resolve(!1),xo}}),Ui(p=>{const C=new fz(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(C)}),vt(p=>(this.currentTransition=s={...p,guards:Nz(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},s)),function Wz(e,n){return _i(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Qt({...t,guardsResult:!0}):function Gz(e,n,t,r){return ui(e).pipe(_i(i=>function Qz(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?Qt(s.map(a=>{const p=Ff(n)??i,C=Tl(a,p);return Ja(function Hz(e){return e&&kf(e.canDeactivate)}(C)?C.canDeactivate(e,n,t,r):Yo(p,()=>C(e,n,t,r))).pipe(Ju())})).pipe(Ol()):Qt(!0)}(i.component,i.route,t,n,r)),Ju(i=>!0!==i,!0))}(o,r,i,e).pipe(_i(a=>a&&function $z(e){return"boolean"==typeof e}(a)?function Jz(e,n,t,r){return ui(n).pipe(Af(i=>$E(function qz(e,n){return null!==e&&n&&n(new vz(e)),Qt(!0)}(i.route.parent,r),function Zz(e,n){return null!==e&&n&&n(new Ez(e)),Qt(!0)}(i.route,r),function Xz(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function Bz(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>hO(()=>Qt(o.guards.map(p=>{const C=Ff(o.node)??t,x=Tl(p,C);return Ja(function Vz(e){return e&&kf(e.canActivateChild)}(x)?x.canActivateChild(r,e):Yo(C,()=>x(r,e))).pipe(Ju())})).pipe(Ol())));return Qt(s).pipe(Ol())}(e,i.path,t),function Yz(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Qt(!0);const i=r.map(s=>hO(()=>{const o=Ff(n)??t,a=Tl(s,o);return Ja(function Uz(e){return e&&kf(e.canActivate)}(a)?a.canActivate(n,e):Yo(o,()=>a(n,e))).pipe(Ju())}));return Qt(i).pipe(Ol())}(e,i.route,t))),Ju(i=>!0!==i,!0))}(r,s,e,n):Qt(a)),vt(a=>({...t,guardsResult:a})))})}(this.environmentInjector,p=>this.events.next(p)),Ui(p=>{if(s.guardsResult=p.guardsResult,p.guardsResult&&"boolean"!=typeof p.guardsResult)throw Sg(0,p.guardsResult);const C=new pz(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(C)}),Ga(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",ds.GuardRejected),!1)),ob(p=>{if(p.guards.canActivateChecks.length)return Qt(p).pipe(Ui(C=>{const x=new hz(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(x)}),To(C=>{let x=!1;return Qt(C).pipe(function wK(e,n){return _i(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qt(t);const s=new Set(i.map(p=>p.route)),o=new Set;for(const p of s)if(!o.has(p))for(const C of nP(p))o.add(C);let a=0;return ui(o).pipe(Af(p=>s.has(p)?function EK(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!HO(i)&&(s[Cf]=i.title),function bK(e,n,t,r){const i=HE(e);if(0===i.length)return Qt({});const s={};return ui(i).pipe(_i(o=>function DK(e,n,t,r){const i=Ff(n)??r,s=Tl(e,i);return Ja(s.resolve?s.resolve(n,t):Yo(i,()=>s(n,t)))}(e[o],n,t,r).pipe(Ju(),Ui(a=>{if(a instanceof rb)throw Sg(new dg,a);s[o]=a}))),UE(1),function BH(e){return vt(()=>e)}(s),_l(o=>ZO(o)?xo:ug(o)))}(s,e,n,r).pipe(vt(o=>(e._resolvedData=o,e.data=Eg(e,e.parent,t).resolve,null)))}(p,r,e,n):(p.data=Eg(p,p.parent,e).resolve,Qt(void 0))),Ui(()=>a++),UE(1),_i(p=>a===o.size?Qt(t):xo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ui({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(C,"",ds.NoDataFromResolver)}}))}),Ui(C=>{const x=new mz(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(x)}))}),ob(p=>{const C=x=>{const U=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&U.push(this.configLoader.loadComponent(x.routeConfig).pipe(Ui(ue=>{x.component=ue}),vt(()=>{})));for(const ue of x.children)U.push(...C(ue));return U};return LE(C(p.targetSnapshot.root)).pipe(cg(null),Sl(1))}),ob(()=>this.afterPreactivation()),To(()=>{const{currentSnapshot:p,targetSnapshot:C}=s,x=this.createViewTransition?.(this.environmentInjector,p.root,C.root);return x?ui(x).pipe(vt(()=>s)):Qt(s)}),vt(p=>{const C=function Tz(e,n,t){const r=Mf(e,n._root,t?t._root:void 0);return new $O(r,n)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=s={...p,targetRouterState:C},this.currentNavigation.targetRouterState=C,s}),Ui(()=>{this.events.next(new ZE)}),((e,n,t,r)=>vt(i=>(new Mz(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Sl(1),Ui({next:p=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fa(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{o=!0}}),function kH(e){return Ve((n,t)=>{la(e).subscribe(tt(t,()=>t.complete(),qe)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(Ui(p=>{throw p}))),VE(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",ds.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),_l(p=>{if(a=!0,GO(p))this.events.next(new Xu(s.id,this.urlSerializer.serialize(s.extractedUrl),p.message,p.cancellationCode)),function Fz(e){return GO(e)&&Yu(e.url)}(p)?this.events.next(new wg(p.url,p.navigationBehaviorOptions)):s.resolve(!1);else{const C=new JE(s.id,this.urlSerializer.serialize(s.extractedUrl),p,s.targetSnapshot??void 0);try{const x=Yo(this.environmentInjector,()=>this.navigationErrorHandler?.(C));if(x instanceof rb){const{message:U,cancellationCode:ue}=Sg(0,x);this.events.next(new Xu(s.id,this.urlSerializer.serialize(s.extractedUrl),U,ue)),this.events.next(new wg(x.redirectTo,x.navigationBehaviorOptions))}else{this.events.next(C);const U=t.errorHandler(p);s.resolve(!!U)}}catch(x){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(x)}}return xo}))}))}cancelNavigationTransition(t,r,i){const s=new Xu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function TK(e){return e!==Pf}let OK=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>yt(FK),providedIn:"root"})}}return e})();class PK{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let FK=(()=>{class e extends PK{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=T0(e)))(i||e)}})()}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:()=>yt(RK),providedIn:"root"})}}return e})(),RK=(()=>{class e extends cP{constructor(){super(...arguments),this.location=yt(wf),this.urlSerializer=yt(Cl),this.options=yt(Fl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=yt(cb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof yg)this.stateMemento=this.createStateMemento();else if(t instanceof Il)this.rawUrlTree=r.initialUrl;else if(t instanceof BO){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof ZE?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Xu&&(t.code===ds.GuardRejected||t.code===ds.NoDataFromResolver)?this.restoreHistory(r):t instanceof JE?this.restoreHistory(r,!0):t instanceof fa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=t instanceof Zu?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=T0(e)))(i||e)}})()}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Lf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Lf||{});function lP(e,n){e.events.pipe(Ga(t=>t instanceof fa||t instanceof Xu||t instanceof JE||t instanceof Il),vt(t=>t instanceof fa||t instanceof Il?Lf.COMPLETE:t instanceof Xu&&(t.code===ds.Redirect||t.code===ds.SupersededByNewNavigation)?Lf.REDIRECTING:Lf.FAILED),Ga(t=>t!==Lf.REDIRECTING),Sl(1)).subscribe(()=>{n()})}function MK(e){throw e}const NK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=yt(ax),this.stateManager=yt(cP),this.options=yt(Fl,{optional:!0})||{},this.pendingTasks=yt(Ou),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=yt(xg),this.urlSerializer=yt(Cl),this.location=yt(wf),this.urlHandlingStrategy=yt(cb),this._events=new ve,this.errorHandler=this.options.errorHandler||MK,this.navigated=!1,this.routeReuseStrategy=yt(OK),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=yt(Rl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!yt(Dg,{optional:!0}),this.eventsSubscription=new ee,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Xu&&r.code!==ds.Redirect&&r.code!==ds.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fa)this.navigated=!0;else if(r instanceof wg){const o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),p={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||TK(i.source),...o};this.scheduleNavigation(a,Pf,null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function LK(e){return!(e instanceof ZE||e instanceof wg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ab),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:p}=r,C=p?this.currentUrlTree.fragment:o;let U,x=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":x={...this.currentUrlTree.queryParams,...s};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=s||null}null!==x&&(x=this.removeEmptyProps(x));try{U=TO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),U=this.currentUrlTree.root}return OO(U,t,x,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Yu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Pf,null,r)}navigate(t,r={skipLocationChange:!1}){return function kK(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new lt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...NK}:!1===r?{...BK}:r,Yu(t))return EO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return EO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,p,C;o?(a=o.resolve,p=o.reject,C=o.promise):C=new Promise((U,ue)=>{a=U,p=ue});const x=this.pendingTasks.add();return lP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:p,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(U=>Promise.reject(U))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ml=(()=>{class e{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new ve,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const p=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof fa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Yu(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function __(e,n,t){return function _B(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?S_:sv}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.routerLinkInput?null:Yu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(Jt(Fo),Jt(pa),function vd(e){return function KN(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(lD(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(Wn(),e)}("tabindex"),Jt(tm),Jt(Ba),Jt(Wu))}}static{this.\u0275dir=Pi({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Pw("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&mw("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",sE],skipLocationChange:[2,"skipLocationChange","skipLocationChange",sE],replaceUrl:[2,"replaceUrl","replaceUrl",sE],routerLink:"routerLink"},standalone:!0,features:[SC,_u]})}}return e})();class dP{}let UK=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ga(t=>t instanceof fa),Af(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=om(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ui(i).pipe(_f())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Qt(null);const s=i.pipe(_i(o=>null===o?Qt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?ui([s,this.loader.loadComponent(r)]).pipe(_f()):s})}static{this.\u0275fac=function(r){return new(r||e)(Gt(Fo),Gt(vx),Gt(Zi),Gt(dP),Gt(ub))}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const lb=new Ct("");let fP=(()=>{class e{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Il&&t.code===vg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof kO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new kO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function Z_(){throw new Error("invalid")}()}}static{this.\u0275prov=H({token:e,factory:e.\u0275fac})}}return e})();function pP(e){return e.routerState.root}function Ro(e,n){return{\u0275kind:e,\u0275providers:n}}function hP(){const e=yt(ai);return n=>{const t=e.get(Io);if(n!==t.components[0])return;const r=e.get(Fo),i=e.get(mP);1===e.get(db)&&r.initialNavigation(),e.get(gP,null,wn.Optional)?.setUpPreloading(),e.get(lb,null,wn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mP=new Ct("",{factory:()=>new ve}),db=new Ct("",{providedIn:"root",factory:()=>1}),gP=new Ct("");function WK(e){return Ro(0,[{provide:gP,useExisting:UK},{provide:dP,useExisting:e}])}function JK(e){return Ro(9,[{provide:oP,useValue:IK},{provide:aP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const yP=new Ct("ROUTER_FORROOT_GUARD"),ZK=[wf,{provide:Cl,useClass:dg},Fo,Rf,{provide:pa,useFactory:pP,deps:[Fo]},ub,[]];let Tg=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[ZK,[],{provide:Rl,multi:!0,useValue:t},{provide:yP,useFactory:QK,deps:[[Fo,new Zp,new qp]]},{provide:Fl,useValue:r||{}},r?.useHash?{provide:Wu,useClass:n7}:{provide:Wu,useClass:lT},{provide:lb,useFactory:()=>{const e=yt(DU),n=yt(zn),t=yt(Fl),r=yt(xg),i=yt(Cl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new fP(i,r,e,n,t)}},r?.preloadingStrategy?WK(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?eW(r):[],r?.bindToComponentInputs?Ro(8,[zO,{provide:Dg,useExisting:zO}]).\u0275providers:[],r?.enableViewTransitions?JK().\u0275providers:[],[{provide:vP,useFactory:hP},{provide:hf,multi:!0,useExisting:vP}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Rl,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(Gt(yP,8))}}static{this.\u0275mod=th({type:e})}static{this.\u0275inj=Pe({})}}return e})();function QK(e){return"guarded"}function eW(e){return["disabled"===e.initialNavigation?Ro(3,[{provide:Gw,multi:!0,useFactory:()=>{const n=yt(Fo);return()=>{n.setUpLocationChangeListener()}}},{provide:db,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ro(2,[{provide:db,useValue:0},{provide:Gw,multi:!0,deps:[ai],useFactory:n=>{const t=n.get(e7,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Fo),s=n.get(mP);lP(i,()=>{r(!0)}),n.get(xg).afterPreactivation=()=>(r(!0),s.closed?Qt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const vP=new Ct("");var Og=d(467);let fb=(()=>{class e{groups={};loaded=!1;complete=!1;constructor(){}flattenGroups(){const t=new Set;for(const r in this.groups)this.groups.hasOwnProperty(r)&&this.groups[r].forEach(i=>t.add(i));return Array.from(t)}isUniqueRecordId(t){return this.flattenGroups().map(s=>s.id).filter(s=>s===t).length<=1}entry(t){if(!this.isUniqueRecordId(t))throw new Error(`Record ID ${t} is not unique.`);return this.flattenGroups().find(i=>i.id===t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();d(2191),new Uint8Array(0);class uW{name;prefix;baseEncode;constructor(n,t,r){this.name=n,this.prefix=t,this.baseEncode=r}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class cW{name;prefix;baseDecode;prefixCodePoint;constructor(n,t,r){if(this.name=n,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(n){if("string"==typeof n){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(n){return wP(this,n)}}class lW{decoders;constructor(n){this.decoders=n}or(n){return wP(this,n)}decode(n){const r=this.decoders[n[0]];if(null!=r)return r.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function wP(e,n){return new lW({...e.decoders??{[e.prefix]:e},...n.decoders??{[n.prefix]:n}})}class dW{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(n,t,r,i){this.name=n,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new uW(n,t,r),this.decoder=new cW(n,t,i)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}function EP({name:e,prefix:n,encode:t,decode:r}){return new dW(e,n,t,r)}function bP({name:e,prefix:n,alphabet:t}){const{encode:r,decode:i}=function iW(e,n){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=i}var a=e.length,p=e.charAt(0),C=Math.log(a)/Math.log(256),x=Math.log(256)/Math.log(a);function ue(ge){if("string"!=typeof ge)throw new TypeError("Expected String");if(0===ge.length)return new Uint8Array;var Re=0;if(" "!==ge[Re]){for(var Ue=0,We=0;ge[Re]===p;)Ue++,Re++;for(var He=(ge.length-Re)*C+1>>>0,Je=new Uint8Array(He);ge[Re];){var Xe=t[ge.charCodeAt(Re)];if(255===Xe)return;for(var et=0,nt=He-1;(0!==Xe||et<We)&&-1!==nt;nt--,et++)Je[nt]=(Xe+=a*Je[nt]>>>0)%256>>>0,Xe=Xe/256>>>0;if(0!==Xe)throw new Error("Non-zero carry");We=et,Re++}if(" "!==ge[Re]){for(var st=He-We;st!==He&&0===Je[st];)st++;for(var mt=new Uint8Array(Ue+(He-st)),St=Ue;st!==He;)mt[St++]=Je[st++];return mt}}}return{encode:function U(ge){if(ge instanceof Uint8Array||(ArrayBuffer.isView(ge)?ge=new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength):Array.isArray(ge)&&(ge=Uint8Array.from(ge))),!(ge instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===ge.length)return"";for(var Re=0,Ue=0,We=0,He=ge.length;We!==He&&0===ge[We];)We++,Re++;for(var Je=(He-We)*x+1>>>0,Xe=new Uint8Array(Je);We!==He;){for(var et=ge[We],nt=0,st=Je-1;(0!==et||nt<Ue)&&-1!==st;st--,nt++)Xe[st]=(et+=256*Xe[st]>>>0)%a>>>0,et=et/a>>>0;if(0!==et)throw new Error("Non-zero carry");Ue=nt,We++}for(var mt=Je-Ue;mt!==Je&&0===Xe[mt];)mt++;for(var St=p.repeat(Re);mt<Je;++mt)St+=e.charAt(Xe[mt]);return St},decodeUnsafe:ue,decode:function ce(ge){var Re=ue(ge);if(Re)return Re;throw new Error(`Non-${n} character`)}}}(t,e);return EP({prefix:n,name:e,encode:r,decode:s=>function pb(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}(i(s))})}function fs({name:e,prefix:n,bitsPerChar:t,alphabet:r}){return EP({prefix:n,name:e,encode:i=>function pW(e,n,t){const r="="===n[n.length-1],i=(1<<t)-1;let s="",o=0,a=0;for(let p=0;p<e.length;++p)for(a=a<<8|e[p],o+=8;o>t;)o-=t,s+=n[i&a>>o];if(0!==o&&(s+=n[i&a<<t-o]),r)for(;s.length*t&7;)s+="=";return s}(i,r,t),decode:i=>function fW(e,n,t,r){const i={};for(let x=0;x<n.length;++x)i[n[x]]=x;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*t/8|0);let a=0,p=0,C=0;for(let x=0;x<s;++x){const U=i[e[x]];if(void 0===U)throw new SyntaxError(`Non-${r} character`);p=p<<t|U,a+=t,a>=8&&(a-=8,o[C++]=255&p>>a)}if(a>=t||255&p<<8-a)throw new SyntaxError("Unexpected end of data");return o}(i,r,t,e)})}fs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),fs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),fs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const DP=fs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Fs=bP({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ha=(bP({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),fs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function hb(e){const t=Object.prototype.toString.call(e).match(/\s([a-zA-Z0-9]+)/),[r,i]=t;return i}fs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var $f=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})},SP=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(a,p){!function i(s,o,a,p){Promise.resolve(p).then(function(C){s({value:C,done:a})},o)}(a,p,(o=e[s](o)).done,o.value)})}}};const Fg=new TextEncoder,Qu=new TextDecoder;class Tt{constructor(n,t){this.data=n,this.format=t}static arrayBuffer(n){return new Tt(n,"ArrayBuffer")}static asyncIterable(n){if(!function mW(e){return"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator]}(n))throw new TypeError("Input must be of type AsyncIterable.");return new Tt(n,"AsyncIterable")}static base32Z(n){return new Tt(n,"Base32Z")}static base58Btc(n){return new Tt(n,"Base58Btc")}static base64Url(n){return new Tt(n,"Base64Url")}static bufferSource(n){return new Tt(n,"BufferSource")}static hex(n){if("string"!=typeof n)throw new TypeError("Hex input must be a string.");if(n.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new Tt(n,"Hex")}static multibase(n){return new Tt(n,"Multibase")}static object(n){return new Tt(n,"Object")}static string(n){return new Tt(n,"String")}static uint8Array(n){return new Tt(n,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Fs.baseDecode(this.data).buffer;case"Base64Url":return ha.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===hb(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function hW(e){return 0!==e.byteOffset||e.byteLength!==e.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return $f(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return DP.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const n=new Uint8Array(this.data);return Fs.baseEncode(n)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Fs.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const n=new Uint8Array(this.data);return ha.baseEncode(n)}case"BufferSource":{const n=this.toUint8Array();return ha.baseEncode(n)}case"Object":{const n=JSON.stringify(this.data),t=Fg.encode(n);return ha.baseEncode(t)}case"String":{const n=Fg.encode(this.data);return ha.baseEncode(n)}case"Uint8Array":return ha.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return $f(this,void 0,void 0,function*(){var n,t,r;if("AsyncIterable"===this.format){const p=[];try{for(var a,s=!0,o=SP(this.data);!(n=(a=yield o.next()).done);s=!0)s=!1,p.push(a.value)}catch(x){t={error:x}}finally{try{!s&&!n&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return new Blob(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const n=Array.from({length:256},(t,r)=>r.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const t=this.toUint8Array();return Tt.uint8Array(t).toHex()}case"Base64Url":{const t=this.toUint8Array();return Tt.uint8Array(t).toHex()}case"Uint8Array":{let t="";for(let r=0;r<this.data.length;r++)t+=n[this.data[r]];return t}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const n=ha.baseDecode(this.data),t=Qu.decode(n);return JSON.parse(t)}case"String":return JSON.parse(this.data);case"Uint8Array":{const n=Qu.decode(this.data);return JSON.parse(n)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return $f(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const n=yield this.toStringAsync();return JSON.parse(n)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Qu.decode(this.data);case"Base64Url":{const n=ha.baseDecode(this.data);return Qu.decode(n)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return $f(this,void 0,void 0,function*(){var n,t,r,i;if("AsyncIterable"===this.format){let p="";try{for(var a,s=!0,o=SP(this.data);!(n=(a=yield o.next()).done);s=!0)s=!1,p+="string"==typeof(i=a.value)?i:Qu.decode(i,{stream:!0})}catch(C){t={error:C}}finally{try{!s&&!n&&(r=o.return)&&(yield r.call(o))}finally{if(t)throw t.error}}return p+=Qu.decode(void 0,{stream:!1}),p}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return DP.baseDecode(this.data);case"Base58Btc":return Fs.baseDecode(this.data);case"Base64Url":return ha.baseDecode(this.data);case"BufferSource":{const n=hb(this.data);if("Uint8Array"===n)return this.data;if("ArrayBuffer"===n)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const n=new Uint8Array(this.data.length/2);for(let t=0;t<this.data.length;t+=2){const r=parseInt(this.data.substring(t,t+2),16);if(isNaN(r))throw new TypeError("Input is not a valid hexadecimal string.");n[t/2]=r}return n}case"Object":{const n=JSON.stringify(this.data);return Fg.encode(n)}case"String":return Fg.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return $f(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const n=yield this.toArrayBufferAsync();return new Uint8Array(n)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Rg=function(e){return e.Debug="debug",e.Silent="silent",e}(Rg||{});const yW=new class gW{constructor(){this.logLevel=Rg.Silent}setLogLevel(n){this.logLevel=n}log(n){this.info(n)}info(n){this.logLevel!==Rg.Silent&&console.info(n)}error(n){this.logLevel!==Rg.Silent&&console.error(n)}};typeof window<"u"&&(window.web5logger=yW);var _P=128,EW=-128,bW=Math.pow(2,31),SW=128,CP=127,_W=Math.pow(2,7),AW=Math.pow(2,14),CW=Math.pow(2,21),IW=Math.pow(2,28),xW=Math.pow(2,35),TW=Math.pow(2,42),OW=Math.pow(2,49),PW=Math.pow(2,56),FW=Math.pow(2,63);const Mg={encode:function AP(e,n,t){n=n||[];for(var r=t=t||0;e>=bW;)n[t++]=255&e|_P,e/=128;for(;e&EW;)n[t++]=255&e|_P,e>>>=7;return n[t]=0|e,AP.bytes=t-r+1,n},decode:function mb(e,r){var o,t=0,i=0,s=r=r||0,a=e.length;do{if(s>=a)throw mb.bytes=0,new RangeError("Could not decode varint");o=e[s++],t+=i<28?(o&CP)<<i:(o&CP)*Math.pow(2,i),i+=7}while(o>=SW);return mb.bytes=s-r,t},encodingLength:function(e){return e<_W?1:e<AW?2:e<CW?3:e<IW?4:e<xW?5:e<TW?6:e<OW?7:e<PW?8:e<FW?9:10}};function jf(e,n=0){return[Mg.decode(e,n),Mg.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Mr{static addPrefix(n){var t;let{code:r,data:i,name:s}=n;if(!(s?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(r=Mr.codeToName.has(r)?r:Mr.nameToCode.get(s),void 0===r)throw new Error(`Unsupported multicodec: ${null!==(t=n.name)&&void 0!==t?t:n.code}`);const o=function Vf(e){return Mg.encodingLength(e)}(r),a=new Uint8Array(o+i.byteLength);return a.set(i,o),function Uf(e,n,t=0){return Mg.encode(e,n,t),n}(r,a),a}static getCodeFromData(n){const{prefixedData:t}=n,[r,i]=jf(t);return r}static getCodeFromName(n){const{name:t}=n,r=Mr.nameToCode.get(t);if(void 0===r)throw new Error(`Unsupported multicodec: ${t}`);return r}static getNameFromCode(n){const{code:t}=n,r=Mr.codeToName.get(t);if(void 0===r)throw new Error(`Unsupported multicodec: ${t}`);return r}static registerCodec(n){Mr.codeToName.set(n.code,n.name),Mr.nameToCode.set(n.name,n.code)}static removePrefix(n){const{prefixedData:t}=n,[r,i]=jf(t),s=Mr.codeToName.get(r);if(void 0===s)throw new Error(`Unsupported multicodec: ${r}`);return{code:r,data:t.slice(i),name:s}}}function TP(e){Object.keys(e).forEach(n=>{void 0===e[n]?delete e[n]:"object"==typeof e[n]&&TP(e[n])})}Mr.codeToName=new Map,Mr.nameToCode=new Map,Mr.registerCodec({code:237,name:"ed25519-pub"}),Mr.registerCodec({code:4864,name:"ed25519-priv"}),Mr.registerCodec({code:236,name:"x25519-pub"}),Mr.registerCodec({code:4866,name:"x25519-priv"}),Mr.registerCodec({code:231,name:"secp256k1-pub"}),Mr.registerCodec({code:4865,name:"secp256k1-priv"}),d(4626);var Rs=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class GW{constructor(){this.store=new Map}clear(){return Rs(this,void 0,void 0,function*(){this.store.clear()})}close(){return Rs(this,void 0,void 0,function*(){})}delete(n){return Rs(this,void 0,void 0,function*(){return this.store.delete(n)})}get(n){return Rs(this,void 0,void 0,function*(){return this.store.get(n)})}has(n){return Rs(this,void 0,void 0,function*(){return this.store.has(n)})}list(){return Rs(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(n,t){return Rs(this,void 0,void 0,function*(){this.store.set(n,t)})}}function Eb(e,...n){if(!function qW(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(n.length>0&&!n.includes(e.length))throw new Error(`Uint8Array expected of length ${n}, not of length=${e.length}`)}function bb(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}d(5424);const Ng="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Db=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),No=(e,n)=>e<<32-n|e>>>n;function Bg(e){return"string"==typeof e&&(e=function tG(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Eb(e),e}new Uint8Array(new Uint32Array([287454020]).buffer);class nG{clone(){return this._cloneInto()}}function iG(e){const n=r=>e().update(Bg(r)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}const aG=(e,n,t)=>e&n^~e&t,uG=(e,n,t)=>e&n^e&t^n&t;class cG extends nG{constructor(n,t,r,i){super(),this.blockLen=n,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=Db(this.buffer)}update(n){bb(this);const{view:t,buffer:r,blockLen:i}=this,s=(n=Bg(n)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)r.set(n.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const p=Db(n);for(;i<=s-o;o+=i)this.process(p,o)}}return this.length+=n.length,this.roundClean(),this}digestInto(n){bb(this),function OP(e,n){Eb(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(n,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let U=o;U<i;U++)t[U]=0;(function oG(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),C=r?0:4;e.setUint32(n+(r?4:0),o,r),e.setUint32(n+C,a,r)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);const a=Db(n),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const C=p/4,x=this.get();if(C>x.length)throw new Error("_sha2: outputLen bigger than state");for(let U=0;U<C;U++)a.setUint32(4*U,x[U],s)}digest(){const{buffer:n,outputLen:t}=this;this.digestInto(n);const r=n.slice(0,t);return this.destroy(),r}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return n.length=i,n.pos=a,n.finished=s,n.destroyed=o,i%t&&n.buffer.set(r),n}}const lG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Za=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qa=new Uint32Array(64);class FP extends cG{constructor(){super(64,32,8,!1),this.A=0|Za[0],this.B=0|Za[1],this.C=0|Za[2],this.D=0|Za[3],this.E=0|Za[4],this.F=0|Za[5],this.G=0|Za[6],this.H=0|Za[7]}get(){const{A:n,B:t,C:r,D:i,E:s,F:o,G:a,H:p}=this;return[n,t,r,i,s,o,a,p]}set(n,t,r,i,s,o,a,p){this.A=0|n,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|o,this.G=0|a,this.H=0|p}process(n,t){for(let U=0;U<16;U++,t+=4)qa[U]=n.getUint32(t,!1);for(let U=16;U<64;U++){const ue=qa[U-15],ce=qa[U-2],ge=No(ue,7)^No(ue,18)^ue>>>3,Re=No(ce,17)^No(ce,19)^ce>>>10;qa[U]=Re+qa[U-7]+ge+qa[U-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:p,G:C,H:x}=this;for(let U=0;U<64;U++){const ce=x+(No(a,6)^No(a,11)^No(a,25))+aG(a,p,C)+lG[U]+qa[U]|0,Re=(No(r,2)^No(r,13)^No(r,22))+uG(r,i,s)|0;x=C,C=p,p=a,a=o+ce|0,o=s,s=i,i=r,r=ce+Re|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,p=p+this.F|0,C=C+this.G|0,x=x+this.H|0,this.set(r,i,s,o,a,p,C,x)}roundClean(){qa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Jf=iG(()=>new FP);class RP{static digest(n){return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})}(this,arguments,void 0,function*({data:t}){return Jf(t)})}}class _b{}function Ab(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Cb(e,...n){if(!function mG(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function Zf(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}const Ib="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function xb(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}const Tb=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Bo=(e,n)=>e<<32-n|e>>>n;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function kP(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function qf(e){if("string"==typeof e&&(e=kP(e)),!xb(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function LP(...e){let n=0;for(let r=0;r<e.length;r++){const i=e[r];if(!xb(i))throw new Error("Uint8Array expected");n+=i.length}const t=new Uint8Array(n);for(let r=0,i=0;r<e.length;r++){const s=e[r];t.set(s,i),i+=s.length}return t}class $P{clone(){return this._cloneInto()}}function jP(e){const n=r=>e().update(qf(r)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}function Pb(e=32){if(Ib&&"function"==typeof Ib.getRandomValues)return Ib.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class UP extends $P{constructor(n,t,r,i){super(),this.blockLen=n,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=Tb(this.buffer)}update(n){Zf(this);const{view:t,buffer:r,blockLen:i}=this,s=(n=qf(n)).length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a!==i)r.set(n.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const p=Tb(n);for(;i<=s-o;o+=i)this.process(p,o)}}return this.length+=n.length,this.roundClean(),this}digestInto(n){Zf(this),function NP(e,n){Cb(e);const t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}(n,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let U=o;U<i;U++)t[U]=0;(function wG(e,n,t,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(n,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),C=r?0:4;e.setUint32(n+(r?4:0),o,r),e.setUint32(n+C,a,r)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);const a=Tb(n),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const C=p/4,x=this.get();if(C>x.length)throw new Error("_sha2: outputLen bigger than state");for(let U=0;U<C;U++)a.setUint32(4*U,x[U],s)}digest(){const{buffer:n,outputLen:t}=this;this.digestInto(n);const r=n.slice(0,t);return this.destroy(),r}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return n.length=i,n.pos=a,n.finished=s,n.destroyed=o,i%t&&n.buffer.set(r),n}}const EG=(e,n,t)=>e&n^~e&t,bG=(e,n,t)=>e&n^e&t^n&t,DG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ya=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xa=new Uint32Array(64);class VP extends UP{constructor(){super(64,32,8,!1),this.A=0|Ya[0],this.B=0|Ya[1],this.C=0|Ya[2],this.D=0|Ya[3],this.E=0|Ya[4],this.F=0|Ya[5],this.G=0|Ya[6],this.H=0|Ya[7]}get(){const{A:n,B:t,C:r,D:i,E:s,F:o,G:a,H:p}=this;return[n,t,r,i,s,o,a,p]}set(n,t,r,i,s,o,a,p){this.A=0|n,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|o,this.G=0|a,this.H=0|p}process(n,t){for(let U=0;U<16;U++,t+=4)Xa[U]=n.getUint32(t,!1);for(let U=16;U<64;U++){const ue=Xa[U-15],ce=Xa[U-2],ge=Bo(ue,7)^Bo(ue,18)^ue>>>3,Re=Bo(ce,17)^Bo(ce,19)^ce>>>10;Xa[U]=Re+Xa[U-7]+ge+Xa[U-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:p,G:C,H:x}=this;for(let U=0;U<64;U++){const ce=x+(Bo(a,6)^Bo(a,11)^Bo(a,25))+EG(a,p,C)+DG[U]+Xa[U]|0,Re=(Bo(r,2)^Bo(r,13)^Bo(r,22))+bG(r,i,s)|0;x=C,C=p,p=a,a=o+ce|0,o=s,s=i,i=r,r=ce+Re|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,p=p+this.F|0,C=C+this.G|0,x=x+this.H|0,this.set(r,i,s,o,a,p,C,x)}roundClean(){Xa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const HP=jP(()=>new VP),kg=(BigInt(0),BigInt(1)),SG=BigInt(2);function ko(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}const _G=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));function ec(e){if(!ko(e))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=_G[e[t]];return n}function KP(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const ya={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function WP(e){return e>=ya._0&&e<=ya._9?e-ya._0:e>=ya._A&&e<=ya._F?e-(ya._A-10):e>=ya._a&&e<=ya._f?e-(ya._a-10):void 0}function Nl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const n=e.length,t=n/2;if(n%2)throw new Error("padded hex string expected, got unpadded hex of length "+n);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const o=WP(e.charCodeAt(s)),a=WP(e.charCodeAt(s+1));if(void 0===o||void 0===a)throw new Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);r[i]=16*o+a}return r}function tc(e){return KP(ec(e))}function Qa(e){if(!ko(e))throw new Error("Uint8Array expected");return KP(ec(Uint8Array.from(e).reverse()))}function Lo(e,n){return Nl(e.toString(16).padStart(2*n,"0"))}function Bl(e,n){return Lo(e,n).reverse()}function Ar(e,n,t){let r;if("string"==typeof n)try{r=Nl(n)}catch(s){throw new Error(`${e} must be valid hex string, got "${n}". Cause: ${s}`)}else{if(!ko(n))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(n)}const i=r.length;if("number"==typeof t&&i!==t)throw new Error(`${e} expected ${t} bytes, got ${i}`);return r}function nc(...e){let n=0;for(let i=0;i<e.length;i++){const s=e[i];if(!ko(s))throw new Error("Uint8Array expected");n+=s.length}let t=new Uint8Array(n),r=0;for(let i=0;i<e.length;i++){const s=e[i];t.set(s,r),r+=s.length}return t}const Fb=e=>(SG<<BigInt(e-1))-kg,Rb=e=>new Uint8Array(e),GP=e=>Uint8Array.from(e);function JP(e,n,t){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof n||n<2)throw new Error("qByteLen must be a number");if("function"!=typeof t)throw new Error("hmacFn must be a function");let r=Rb(e),i=Rb(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...U)=>t(i,r,...U),p=(U=Rb())=>{i=a(GP([0]),U),r=a(),0!==U.length&&(i=a(GP([1]),U),r=a())},C=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let U=0;const ue=[];for(;U<n;){r=a();const ce=r.slice();ue.push(ce),U+=r.length}return nc(...ue)};return(U,ue)=>{let ce;for(o(),p(U);!(ce=ue(C()));)p();return o(),ce}}const CG={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||ko(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,n)=>n.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function rc(e,n,t={}){const r=(i,s,o)=>{const a=CG[s];if("function"!=typeof a)throw new Error(`Invalid validator "${s}", expected function`);const p=e[i];if(!(o&&void 0===p||a(p,e)))throw new Error(`Invalid param ${String(i)}=${p} (${typeof p}), expected ${s}`)};for(const[i,s]of Object.entries(n))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return e}const Gr=BigInt(0),er=BigInt(1),eu=BigInt(2),IG=BigInt(3),Mb=BigInt(4),ZP=BigInt(5),qP=BigInt(8);function tr(e,n){const t=e%n;return t>=Gr?t:n+t}function YP(e,n,t){if(t<=Gr||n<Gr)throw new Error("Expected power/modulo > 0");if(t===er)return Gr;let r=er;for(;n>Gr;)n&er&&(r=r*e%t),e=e*e%t,n>>=er;return r}function pr(e,n,t){let r=e;for(;n-- >Gr;)r*=r,r%=t;return r}function Lg(e,n){if(e===Gr||n<=Gr)throw new Error(`invert: expected positive integers, got n=${e} mod=${n}`);let t=tr(e,n),r=n,i=Gr,s=er,o=er,a=Gr;for(;t!==Gr;){const C=r/t,x=r%t,U=i-o*C,ue=s-a*C;r=t,t=x,i=o,s=a,o=U,a=ue}if(r!==er)throw new Error("invert: does not exist");return tr(i,n)}BigInt(9),BigInt(16);const RG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Nb(e,n){const t=void 0!==n?n:e.toString(2).length;return{nBitLength:t,nByteLength:Math.ceil(t/8)}}function Bb(e,n,t=!1,r={}){if(e<=Gr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=Nb(e,n);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=function PG(e){if(e%Mb===IG){const n=(e+er)/Mb;return function(r,i){const s=r.pow(i,n);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(e%qP===ZP){const n=(e-ZP)/qP;return function(r,i){const s=r.mul(i,eu),o=r.pow(s,n),a=r.mul(i,o),p=r.mul(r.mul(a,eu),o),C=r.mul(a,r.sub(p,r.ONE));if(!r.eql(r.sqr(C),i))throw new Error("Cannot find square root");return C}}return function OG(e){const n=(e-er)/eu;let t,r,i;for(t=e-er,r=0;t%eu===Gr;t/=eu,r++);for(i=eu;i<e&&YP(i,n,e)!==e-er;i++);if(1===r){const o=(e+er)/Mb;return function(p,C){const x=p.pow(C,o);if(!p.eql(p.sqr(x),C))throw new Error("Cannot find square root");return x}}const s=(t+er)/eu;return function(a,p){if(a.pow(p,n)===a.neg(a.ONE))throw new Error("Cannot find square root");let C=r,x=a.pow(a.mul(a.ONE,i),t),U=a.pow(p,s),ue=a.pow(p,t);for(;!a.eql(ue,a.ONE);){if(a.eql(ue,a.ZERO))return a.ZERO;let ce=1;for(let Re=a.sqr(ue);ce<C&&!a.eql(Re,a.ONE);ce++)Re=a.sqr(Re);const ge=a.pow(x,er<<BigInt(C-ce-1));x=a.sqr(ge),U=a.mul(U,ge),ue=a.mul(ue,x),C=ce}return U}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Fb(i),ZERO:Gr,ONE:er,create:p=>tr(p,e),isValid:p=>{if("bigint"!=typeof p)throw new Error("Invalid field element: expected bigint, got "+typeof p);return Gr<=p&&p<e},is0:p=>p===Gr,isOdd:p=>(p&er)===er,neg:p=>tr(-p,e),eql:(p,C)=>p===C,sqr:p=>tr(p*p,e),add:(p,C)=>tr(p+C,e),sub:(p,C)=>tr(p-C,e),mul:(p,C)=>tr(p*C,e),pow:(p,C)=>function NG(e,n,t){if(t<Gr)throw new Error("Expected power > 0");if(t===Gr)return e.ONE;if(t===er)return n;let r=e.ONE,i=n;for(;t>Gr;)t&er&&(r=e.mul(r,i)),i=e.sqr(i),t>>=er;return r}(a,p,C),div:(p,C)=>tr(p*Lg(C,e),e),sqrN:p=>p*p,addN:(p,C)=>p+C,subN:(p,C)=>p-C,mulN:(p,C)=>p*C,inv:p=>Lg(p,e),sqrt:r.sqrt||(p=>o(a,p)),invertBatch:p=>function BG(e,n){const t=new Array(n.length),r=n.reduce((s,o,a)=>e.is0(o)?s:(t[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return n.reduceRight((s,o,a)=>e.is0(o)?s:(t[a]=e.mul(s,t[a]),e.mul(s,o)),i),t}(a,p),cmov:(p,C,x)=>x?C:p,toBytes:p=>t?Bl(p,s):Lo(p,s),fromBytes:p=>{if(p.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${p.length}`);return t?Qa(p):tc(p)}});return Object.freeze(a)}function XP(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const n=e.toString(2).length;return Math.ceil(n/8)}function QP(e){const n=XP(e);return n+Math.ceil(n/2)}class eF extends $P{constructor(n,t){super(),this.finished=!1,this.destroyed=!1,function MP(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ab(e.outputLen),Ab(e.blockLen)}(n);const r=qf(t);if(this.iHash=n.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?n.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=n.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(n){return Zf(this),this.iHash.update(n),this}digestInto(n){Zf(this),Cb(n,this.outputLen),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){const n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return n.finished=i,n.destroyed=s,n.blockLen=o,n.outputLen=a,n.oHash=t._cloneInto(n.oHash),n.iHash=r._cloneInto(n.iHash),n}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tF=(e,n,t)=>new eF(e,n).update(t).digest();tF.create=(e,n)=>new eF(e,n);const $G=BigInt(0),kb=BigInt(1);function nF(e,n){const t=(i,s)=>{const o=s.negate();return i?o:s},r=i=>({windows:Math.ceil(n/i)+1,windowSize:2**(i-1)});return{constTimeNegate:t,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>$G;)s&kb&&(o=o.add(a)),a=a.double(),s>>=kb;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),p=[];let C=i,x=C;for(let U=0;U<o;U++){x=C,p.push(x);for(let ue=1;ue<a;ue++)x=x.add(C),p.push(x);C=x.double()}return p},wNAF(i,s,o){const{windows:a,windowSize:p}=r(i);let C=e.ZERO,x=e.BASE;const U=BigInt(2**i-1),ue=2**i,ce=BigInt(i);for(let ge=0;ge<a;ge++){const Re=ge*p;let Ue=Number(o&U);o>>=ce,Ue>p&&(Ue-=ue,o+=kb);const We=Re,He=Re+Math.abs(Ue)-1,Xe=Ue<0;0===Ue?x=x.add(t(ge%2!=0,s[We])):C=C.add(t(Xe,s[He]))}return{p:C,f:x}},wNAFCached(i,s,o,a){const p=i._WINDOW_SIZE||1;let C=s.get(i);return C||(C=this.precomputeWindow(i,p),1!==p&&s.set(i,a(C))),this.wNAF(p,C,o)}}}function Lb(e){return function MG(e){rc(e,RG.reduce((r,i)=>(r[i]="function",r),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),rc(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Nb(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:UG,aT:VG}=b,ic={Err:class extends Error{constructor(n=""){super(n)}},_parseInt(e){const{Err:n}=ic;if(e.length<2||2!==e[0])throw new n("Invalid signature integer tag");const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new n("Invalid signature integer: wrong length");if(128&r[0])throw new n("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new n("Invalid signature integer: unnecessary leading zero");return{d:UG(r),l:e.subarray(t+2)}},toSig(e){const{Err:n}=ic,t="string"==typeof e?VG(e):e;if(!ko(t))throw new Error("ui8a expected");let r=t.length;if(r<2||48!=t[0])throw new n("Invalid signature tag");if(t[1]!==r-2)throw new n("Invalid signature: incorrect length");const{d:i,l:s}=ic._parseInt(t.subarray(2)),{d:o,l:a}=ic._parseInt(s);if(a.length)throw new n("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const n=C=>8&Number.parseInt(C[0],16)?"00"+C:C,t=C=>{const x=C.toString(16);return 1&x.length?`0${x}`:x},r=n(t(e.s)),i=n(t(e.r)),s=r.length/2,o=i.length/2,a=t(s),p=t(o);return`30${t(o+s+4)}02${p}${i}02${a}${r}`}},oo=BigInt(0),mr=BigInt(1),$g=(BigInt(2),BigInt(3));function KG(e){const n=function zG(e){const n=Lb(e);return rc(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}(e),{Fp:t,n:r}=n,i=t.BYTES+1,s=2*t.BYTES+1;function a(_t){return tr(_t,r)}function p(_t){return Lg(_t,r)}const{ProjectivePoint:C,normPrivateKeyToScalar:x,weierstrassEquation:U,isWithinCurveOrder:ue}=function HG(e){const n=function jG(e){const n=Lb(e);rc(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=n;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof t||"bigint"!=typeof t.beta||"function"!=typeof t.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}(e),{Fp:t}=n,r=n.toBytes||((ge,Re,Ue)=>{const We=Re.toAffine();return nc(Uint8Array.from([4]),t.toBytes(We.x),t.toBytes(We.y))}),i=n.fromBytes||(ge=>{const Re=ge.subarray(1);return{x:t.fromBytes(Re.subarray(0,t.BYTES)),y:t.fromBytes(Re.subarray(t.BYTES,2*t.BYTES))}});function s(ge){const{a:Re,b:Ue}=n,We=t.sqr(ge),He=t.mul(We,ge);return t.add(t.add(He,t.mul(ge,Re)),Ue)}if(!t.eql(t.sqr(n.Gy),s(n.Gx)))throw new Error("bad generator point: equation left != right");function o(ge){return"bigint"==typeof ge&&oo<ge&&ge<n.n}function a(ge){if(!o(ge))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(ge){const{allowedPrivateKeyLengths:Re,nByteLength:Ue,wrapPrivateKey:We,n:He}=n;if(Re&&"bigint"!=typeof ge){if(ko(ge)&&(ge=ec(ge)),"string"!=typeof ge||!Re.includes(ge.length))throw new Error("Invalid key");ge=ge.padStart(2*Ue,"0")}let Je;try{Je="bigint"==typeof ge?ge:tc(Ar("private key",ge,Ue))}catch{throw new Error(`private key must be ${Ue} bytes, hex or bigint, not ${typeof ge}`)}return We&&(Je=tr(Je,He)),a(Je),Je}const C=new Map;function x(ge){if(!(ge instanceof U))throw new Error("ProjectivePoint expected")}class U{constructor(Re,Ue,We){if(this.px=Re,this.py=Ue,this.pz=We,null==Re||!t.isValid(Re))throw new Error("x required");if(null==Ue||!t.isValid(Ue))throw new Error("y required");if(null==We||!t.isValid(We))throw new Error("z required")}static fromAffine(Re){const{x:Ue,y:We}=Re||{};if(!Re||!t.isValid(Ue)||!t.isValid(We))throw new Error("invalid affine point");if(Re instanceof U)throw new Error("projective point not allowed");const He=Je=>t.eql(Je,t.ZERO);return He(Ue)&&He(We)?U.ZERO:new U(Ue,We,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Re){const Ue=t.invertBatch(Re.map(We=>We.pz));return Re.map((We,He)=>We.toAffine(Ue[He])).map(U.fromAffine)}static fromHex(Re){const Ue=U.fromAffine(i(Ar("pointHex",Re)));return Ue.assertValidity(),Ue}static fromPrivateKey(Re){return U.BASE.multiply(p(Re))}_setWindowSize(Re){this._WINDOW_SIZE=Re,C.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Re,y:Ue}=this.toAffine();if(!t.isValid(Re)||!t.isValid(Ue))throw new Error("bad point: x or y not FE");const We=t.sqr(Ue),He=s(Re);if(!t.eql(We,He))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Re}=this.toAffine();if(t.isOdd)return!t.isOdd(Re);throw new Error("Field doesn't support isOdd")}equals(Re){x(Re);const{px:Ue,py:We,pz:He}=this,{px:Je,py:Xe,pz:et}=Re,nt=t.eql(t.mul(Ue,et),t.mul(Je,He)),st=t.eql(t.mul(We,et),t.mul(Xe,He));return nt&&st}negate(){return new U(this.px,t.neg(this.py),this.pz)}double(){const{a:Re,b:Ue}=n,We=t.mul(Ue,$g),{px:He,py:Je,pz:Xe}=this;let et=t.ZERO,nt=t.ZERO,st=t.ZERO,mt=t.mul(He,He),St=t.mul(Je,Je),bt=t.mul(Xe,Xe),At=t.mul(He,Je);return At=t.add(At,At),st=t.mul(He,Xe),st=t.add(st,st),et=t.mul(Re,st),nt=t.mul(We,bt),nt=t.add(et,nt),et=t.sub(St,nt),nt=t.add(St,nt),nt=t.mul(et,nt),et=t.mul(At,et),st=t.mul(We,st),bt=t.mul(Re,bt),At=t.sub(mt,bt),At=t.mul(Re,At),At=t.add(At,st),st=t.add(mt,mt),mt=t.add(st,mt),mt=t.add(mt,bt),mt=t.mul(mt,At),nt=t.add(nt,mt),bt=t.mul(Je,Xe),bt=t.add(bt,bt),mt=t.mul(bt,At),et=t.sub(et,mt),st=t.mul(bt,St),st=t.add(st,st),st=t.add(st,st),new U(et,nt,st)}add(Re){x(Re);const{px:Ue,py:We,pz:He}=this,{px:Je,py:Xe,pz:et}=Re;let nt=t.ZERO,st=t.ZERO,mt=t.ZERO;const St=n.a,bt=t.mul(n.b,$g);let At=t.mul(Ue,Je),bn=t.mul(We,Xe),gn=t.mul(He,et),Zr=t.add(Ue,We),_t=t.add(Je,Xe);Zr=t.mul(Zr,_t),_t=t.add(At,bn),Zr=t.sub(Zr,_t),_t=t.add(Ue,He);let Rt=t.add(Je,et);return _t=t.mul(_t,Rt),Rt=t.add(At,gn),_t=t.sub(_t,Rt),Rt=t.add(We,He),nt=t.add(Xe,et),Rt=t.mul(Rt,nt),nt=t.add(bn,gn),Rt=t.sub(Rt,nt),mt=t.mul(St,_t),nt=t.mul(bt,gn),mt=t.add(nt,mt),nt=t.sub(bn,mt),mt=t.add(bn,mt),st=t.mul(nt,mt),bn=t.add(At,At),bn=t.add(bn,At),gn=t.mul(St,gn),_t=t.mul(bt,_t),bn=t.add(bn,gn),gn=t.sub(At,gn),gn=t.mul(St,gn),_t=t.add(_t,gn),At=t.mul(bn,_t),st=t.add(st,At),At=t.mul(Rt,_t),nt=t.mul(Zr,nt),nt=t.sub(nt,At),At=t.mul(Zr,bn),mt=t.mul(Rt,mt),mt=t.add(mt,At),new U(nt,st,mt)}subtract(Re){return this.add(Re.negate())}is0(){return this.equals(U.ZERO)}wNAF(Re){return ce.wNAFCached(this,C,Re,Ue=>{const We=t.invertBatch(Ue.map(He=>He.pz));return Ue.map((He,Je)=>He.toAffine(We[Je])).map(U.fromAffine)})}multiplyUnsafe(Re){const Ue=U.ZERO;if(Re===oo)return Ue;if(a(Re),Re===mr)return this;const{endo:We}=n;if(!We)return ce.unsafeLadder(this,Re);let{k1neg:He,k1:Je,k2neg:Xe,k2:et}=We.splitScalar(Re),nt=Ue,st=Ue,mt=this;for(;Je>oo||et>oo;)Je&mr&&(nt=nt.add(mt)),et&mr&&(st=st.add(mt)),mt=mt.double(),Je>>=mr,et>>=mr;return He&&(nt=nt.negate()),Xe&&(st=st.negate()),st=new U(t.mul(st.px,We.beta),st.py,st.pz),nt.add(st)}multiply(Re){a(Re);let We,He,Ue=Re;const{endo:Je}=n;if(Je){const{k1neg:Xe,k1:et,k2neg:nt,k2:st}=Je.splitScalar(Ue);let{p:mt,f:St}=this.wNAF(et),{p:bt,f:At}=this.wNAF(st);mt=ce.constTimeNegate(Xe,mt),bt=ce.constTimeNegate(nt,bt),bt=new U(t.mul(bt.px,Je.beta),bt.py,bt.pz),We=mt.add(bt),He=St.add(At)}else{const{p:Xe,f:et}=this.wNAF(Ue);We=Xe,He=et}return U.normalizeZ([We,He])[0]}multiplyAndAddUnsafe(Re,Ue,We){const He=U.BASE,Je=(et,nt)=>nt!==oo&&nt!==mr&&et.equals(He)?et.multiply(nt):et.multiplyUnsafe(nt),Xe=Je(this,Ue).add(Je(Re,We));return Xe.is0()?void 0:Xe}toAffine(Re){const{px:Ue,py:We,pz:He}=this,Je=this.is0();null==Re&&(Re=Je?t.ONE:t.inv(He));const Xe=t.mul(Ue,Re),et=t.mul(We,Re),nt=t.mul(He,Re);if(Je)return{x:t.ZERO,y:t.ZERO};if(!t.eql(nt,t.ONE))throw new Error("invZ was invalid");return{x:Xe,y:et}}isTorsionFree(){const{h:Re,isTorsionFree:Ue}=n;if(Re===mr)return!0;if(Ue)return Ue(U,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Re,clearCofactor:Ue}=n;return Re===mr?this:Ue?Ue(U,this):this.multiplyUnsafe(n.h)}toRawBytes(Re=!0){return this.assertValidity(),r(U,this,Re)}toHex(Re=!0){return ec(this.toRawBytes(Re))}}U.BASE=new U(n.Gx,n.Gy,t.ONE),U.ZERO=new U(t.ZERO,t.ONE,t.ZERO);const ue=n.nBitLength,ce=nF(U,n.endo?Math.ceil(ue/2):ue);return{CURVE:n,ProjectivePoint:U,normPrivateKeyToScalar:p,weierstrassEquation:s,isWithinCurveOrder:o}}({...n,toBytes(_t,Rt,sn){const It=Rt.toAffine(),wt=t.toBytes(It.x),Pt=nc;return sn?Pt(Uint8Array.from([Rt.hasEvenY()?2:3]),wt):Pt(Uint8Array.from([4]),wt,t.toBytes(It.y))},fromBytes(_t){const Rt=_t.length,sn=_t[0],It=_t.subarray(1);if(Rt!==i||2!==sn&&3!==sn){if(Rt===s&&4===sn)return{x:t.fromBytes(It.subarray(0,t.BYTES)),y:t.fromBytes(It.subarray(t.BYTES,2*t.BYTES))};throw new Error(`Point of length ${Rt} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const wt=tc(It);if(!function o(_t){return oo<_t&&_t<t.ORDER}(wt))throw new Error("Point is not on curve");const Pt=U(wt);let Ht=t.sqrt(Pt);return!(1&~sn)!=((Ht&mr)===mr)&&(Ht=t.neg(Ht)),{x:wt,y:Ht}}}}),ce=_t=>ec(Lo(_t,n.nByteLength));function ge(_t){return _t>r>>mr}const Ue=(_t,Rt,sn)=>tc(_t.slice(Rt,sn));class We{constructor(Rt,sn,It){this.r=Rt,this.s=sn,this.recovery=It,this.assertValidity()}static fromCompact(Rt){const sn=n.nByteLength;return Rt=Ar("compactSignature",Rt,2*sn),new We(Ue(Rt,0,sn),Ue(Rt,sn,2*sn))}static fromDER(Rt){const{r:sn,s:It}=ic.toSig(Ar("DER",Rt));return new We(sn,It)}assertValidity(){if(!ue(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!ue(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Rt){return new We(this.r,this.s,Rt)}recoverPublicKey(Rt){const{r:sn,s:It,recovery:wt}=this,Pt=st(Ar("msgHash",Rt));if(null==wt||![0,1,2,3].includes(wt))throw new Error("recovery id invalid");const Ht=2===wt||3===wt?sn+n.n:sn;if(Ht>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const pn=C.fromHex((1&wt?"03":"02")+ce(Ht)),En=p(Ht),Nn=a(-Pt*En),Dn=a(It*En),On=C.BASE.multiplyAndAddUnsafe(pn,Nn,Dn);if(!On)throw new Error("point at infinify");return On.assertValidity(),On}hasHighS(){return ge(this.s)}normalizeS(){return this.hasHighS()?new We(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Nl(this.toDERHex())}toDERHex(){return ic.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Nl(this.toCompactHex())}toCompactHex(){return ce(this.r)+ce(this.s)}}const He={isValidPrivateKey(_t){try{return x(_t),!0}catch{return!1}},normPrivateKeyToScalar:x,randomPrivateKey:()=>{const _t=QP(n.n);return function LG(e,n,t=!1){const r=e.length,i=XP(n),s=QP(n);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=tr(t?tc(e):Qa(e),n-er)+er;return t?Bl(a,i):Lo(a,i)}(n.randomBytes(_t),n.n)},precompute:(_t=8,Rt=C.BASE)=>(Rt._setWindowSize(_t),Rt.multiply(BigInt(3)),Rt)};function Xe(_t){const Rt=ko(_t),sn="string"==typeof _t,It=(Rt||sn)&&_t.length;return Rt?It===i||It===s:sn?It===2*i||It===2*s:_t instanceof C}const nt=n.bits2int||function(_t){const Rt=tc(_t),sn=8*_t.length-n.nBitLength;return sn>0?Rt>>BigInt(sn):Rt},st=n.bits2int_modN||function(_t){return a(nt(_t))},mt=Fb(n.nBitLength);function St(_t){if("bigint"!=typeof _t)throw new Error("bigint expected");if(!(oo<=_t&&_t<mt))throw new Error(`bigint expected < 2^${n.nBitLength}`);return Lo(_t,n.nByteLength)}const At={lowS:n.lowS,prehash:!1},bn={lowS:n.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function Je(_t,Rt=!0){return C.fromPrivateKey(_t).toRawBytes(Rt)},getSharedSecret:function et(_t,Rt,sn=!0){if(Xe(_t))throw new Error("first arg must be private key");if(!Xe(Rt))throw new Error("second arg must be public key");return C.fromHex(Rt).multiply(x(_t)).toRawBytes(sn)},sign:function gn(_t,Rt,sn=At){const{seed:It,k2sig:wt}=function bt(_t,Rt,sn=At){if(["recovered","canonical"].some(vr=>vr in sn))throw new Error("sign() legacy options not supported");const{hash:It,randomBytes:wt}=n;let{lowS:Pt,prehash:Ht,extraEntropy:en}=sn;null==Pt&&(Pt=!0),_t=Ar("msgHash",_t),Ht&&(_t=Ar("prehashed msgHash",It(_t)));const pn=st(_t),En=x(Rt),Nn=[St(En),St(pn)];if(null!=en){const vr=!0===en?wt(t.BYTES):en;Nn.push(Ar("extraEntropy",vr))}const Dn=nc(...Nn),On=pn;return{seed:Dn,k2sig:function kr(vr){const mi=nt(vr);if(!ue(mi))return;const gi=p(mi),qr=C.BASE.multiply(mi).toAffine(),Ai=a(qr.x);if(Ai===oo)return;const Ta=a(gi*a(On+Ai*En));if(Ta===oo)return;let wc=(qr.x===Ai?0:2)|Number(qr.y&mr),Wp=Ta;return Pt&&ge(Ta)&&(Wp=function Re(_t){return ge(_t)?a(-_t):_t}(Ta),wc^=1),new We(Ai,Wp,wc)}}}(_t,Rt,sn);return JP(n.hash.outputLen,n.nByteLength,n.hmac)(It,wt)},verify:function Zr(_t,Rt,sn,It=bn){const wt=_t;if(Rt=Ar("msgHash",Rt),sn=Ar("publicKey",sn),"strict"in It)throw new Error("options.strict was renamed to lowS");const{lowS:Pt,prehash:Ht}=It;let en,pn;try{if("string"==typeof wt||ko(wt))try{en=We.fromDER(wt)}catch(qr){if(!(qr instanceof ic.Err))throw qr;en=We.fromCompact(wt)}else{if("object"!=typeof wt||"bigint"!=typeof wt.r||"bigint"!=typeof wt.s)throw new Error("PARSE");{const{r:qr,s:Ai}=wt;en=new We(qr,Ai)}}pn=C.fromHex(sn)}catch(qr){if("PARSE"===qr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Pt&&en.hasHighS())return!1;Ht&&(Rt=n.hash(Rt));const{r:En,s:Nn}=en,Dn=st(Rt),On=p(Nn),kr=a(Dn*On),vr=a(En*On),mi=C.BASE.multiplyAndAddUnsafe(pn,kr,vr)?.toAffine();return!!mi&&a(mi.x)===En},ProjectivePoint:C,Signature:We,utils:He}}function GG(e){return{hash:e,hmac:(n,...t)=>tF(e,n,LP(...t)),randomBytes:Pb}}function iF(e,n){const t=r=>KG({...e,...GG(r)});return Object.freeze({...t(n),create:t})}BigInt(4);const jg=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ug=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sF=BigInt(1),Vg=BigInt(2),oF=(e,n)=>(e+n/Vg)/n;const $b=Bb(jg,void 0,void 0,{sqrt:function aF(e){const n=jg,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),p=BigInt(88),C=e*e*e%n,x=C*C*e%n,U=pr(x,t,n)*x%n,ue=pr(U,t,n)*x%n,ce=pr(ue,Vg,n)*C%n,ge=pr(ce,i,n)*ce%n,Re=pr(ge,s,n)*ge%n,Ue=pr(Re,a,n)*Re%n,We=pr(Ue,p,n)*Ue%n,He=pr(We,a,n)*Re%n,Je=pr(He,t,n)*x%n,Xe=pr(Je,o,n)*ge%n,et=pr(Xe,r,n)*C%n,nt=pr(et,Vg,n);if(!$b.eql($b.sqr(nt),e))throw new Error("Cannot find square root");return nt}}),Qi=iF({a:BigInt(0),b:BigInt(7),Fp:$b,n:Ug,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const n=Ug,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sF*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=oF(s*e,n),p=oF(-r*e,n);let C=tr(e-a*t-p*i,n),x=tr(-a*r-p*s,n);const U=C>o,ue=x>o;if(U&&(C=n-C),ue&&(x=n-x),C>o||x>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:U,k1:C,k2neg:ue,k2:x}}}},HP);BigInt(0);const fF="urn:jwk:";function Kn(e){return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})}(this,arguments,void 0,function*({jwk:n}){const t=n.kty;let r;if("EC"===t)r={crv:n.crv,kty:n.kty,x:n.x,y:n.y};else if("oct"===t)r={k:n.k,kty:n.kty};else if("OKP"===t)r={crv:n.crv,kty:n.kty,x:n.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);r={e:n.e,kty:n.kty,n:n.n}}TP(r);const i=function XG(e){const n=r=>{if(null!==r&&"object"==typeof r&&!Array.isArray(r)){const i=Object.keys(r).sort(),s={};for(const o of i)s[o]=n(r[o]);return s}return r},t=n(e);return JSON.stringify(t)}(r),s=Tt.string(i).toUint8Array(),o=yield RP.digest({data:s});return Tt.uint8Array(o).toBase64Url()})}function sc(e){return!(!e||"object"!=typeof e||!("kty"in e&&"crv"in e&&"x"in e&&"d"in e)||"EC"!==e.kty||"string"!=typeof e.d||"string"!=typeof e.x)}function Kb(e){return!(!e||"object"!=typeof e||!("kty"in e&&"crv"in e&&"x"in e)||"d"in e||"EC"!==e.kty||"string"!=typeof e.x)}function oc(e){return!(!e||"object"!=typeof e||!("kty"in e&&"crv"in e&&"x"in e&&"d"in e)||"OKP"!==e.kty||"string"!=typeof e.d||"string"!=typeof e.x)}function Wb(e){return!(!e||"object"!=typeof e||"d"in e||!("kty"in e&&"crv"in e&&"x"in e)||"OKP"!==e.kty||"string"!=typeof e.x)}var li=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class hr{static adjustSignatureToLowS(n){return li(this,arguments,void 0,function*({signature:t}){const r=Qi.Signature.fromCompact(t);return r.hasHighS()?r.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey(n){return li(this,arguments,void 0,function*({privateKeyBytes:t}){const r=yield hr.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:Tt.uint8Array(t).toBase64Url(),x:Tt.uint8Array(r.x).toBase64Url(),y:Tt.uint8Array(r.y).toBase64Url()};return i.kid=yield Kn({jwk:i}),i})}static bytesToPublicKey(n){return li(this,arguments,void 0,function*({publicKeyBytes:t}){const r=yield hr.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:Tt.uint8Array(r.x).toBase64Url(),y:Tt.uint8Array(r.y).toBase64Url()};return i.kid=yield Kn({jwk:i}),i})}static compressPublicKey(n){return li(this,arguments,void 0,function*({publicKeyBytes:t}){return Qi.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey(n){return li(this,arguments,void 0,function*({key:t}){const r=yield hr.privateKeyToBytes({privateKey:t}),i=yield hr.getCurvePoint({keyBytes:r}),s={kty:"EC",crv:"secp256k1",x:Tt.uint8Array(i.x).toBase64Url(),y:Tt.uint8Array(i.y).toBase64Url()};return s.kid=yield Kn({jwk:s}),s})}static convertDerToCompactSignature(n){return li(this,arguments,void 0,function*({derSignature:t}){return Qi.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey(n){return li(this,arguments,void 0,function*({publicKeyBytes:t}){return Qi.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return li(this,void 0,void 0,function*(){const n=Qi.utils.randomPrivateKey(),t=yield hr.bytesToPrivateKey({privateKeyBytes:n});return t.kid=yield Kn({jwk:t}),t})}static getPublicKey(n){return li(this,arguments,void 0,function*({key:t}){var r;if(!sc(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(t,["d"]);return null!==(r=s.kid)&&void 0!==r||(s.kid=yield Kn({jwk:s})),s})}static privateKeyToBytes(n){return li(this,arguments,void 0,function*({privateKey:t}){if(!sc(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return Tt.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(n){return li(this,arguments,void 0,function*({publicKey:t}){if(!Kb(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const r=new Uint8Array([4]),i=Tt.base64Url(t.x).toUint8Array(),s=Tt.base64Url(t.y).toUint8Array();return new Uint8Array([...r,...i,...s])})}static sharedSecret(n){return li(this,arguments,void 0,function*({privateKeyA:t,publicKeyB:r}){if("x"in t&&"x"in r&&t.x===r.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield hr.privateKeyToBytes({privateKey:t}),s=yield hr.publicKeyToBytes({publicKey:r});return Qi.getSharedSecret(i,s,!0).slice(1)})}static sign(n){return li(this,arguments,void 0,function*({data:t,key:r}){const i=yield hr.privateKeyToBytes({privateKey:r}),s=Jf(t);return Qi.sign(s,i).toCompactRawBytes()})}static validatePrivateKey(n){return li(this,arguments,void 0,function*({privateKeyBytes:t}){return Qi.utils.isValidPrivateKey(t)})}static validatePublicKey(n){return li(this,arguments,void 0,function*({publicKeyBytes:t}){try{Qi.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify(n){return li(this,arguments,void 0,function*({key:t,signature:r,data:i}){const s=yield hr.publicKeyToBytes({publicKey:t}),o=Jf(i);return Qi.verify(r,o,s,{lowS:!1})})}static getCurvePoint(n){return li(this,arguments,void 0,function*({keyBytes:t}){32===t.byteLength&&(t=Qi.getPublicKey(t));const r=Qi.ProjectivePoint.fromHex(t);return{x:Lo(r.x,32),y:Lo(r.y,32)}})}}const pF=Bb(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Ms=iF({a:pF.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:pF,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},HP);var di=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class gr{static adjustSignatureToLowS(n){return di(this,arguments,void 0,function*({signature:t}){const r=Ms.Signature.fromCompact(t);return r.hasHighS()?r.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey(n){return di(this,arguments,void 0,function*({privateKeyBytes:t}){const r=yield gr.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:Tt.uint8Array(t).toBase64Url(),x:Tt.uint8Array(r.x).toBase64Url(),y:Tt.uint8Array(r.y).toBase64Url()};return i.kid=yield Kn({jwk:i}),i})}static bytesToPublicKey(n){return di(this,arguments,void 0,function*({publicKeyBytes:t}){const r=yield gr.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:Tt.uint8Array(r.x).toBase64Url(),y:Tt.uint8Array(r.y).toBase64Url()};return i.kid=yield Kn({jwk:i}),i})}static compressPublicKey(n){return di(this,arguments,void 0,function*({publicKeyBytes:t}){return Ms.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey(n){return di(this,arguments,void 0,function*({key:t}){const r=yield gr.privateKeyToBytes({privateKey:t}),i=yield gr.getCurvePoint({keyBytes:r}),s={kty:"EC",crv:"P-256",x:Tt.uint8Array(i.x).toBase64Url(),y:Tt.uint8Array(i.y).toBase64Url()};return s.kid=yield Kn({jwk:s}),s})}static convertDerToCompactSignature(n){return di(this,arguments,void 0,function*({derSignature:t}){return Ms.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey(n){return di(this,arguments,void 0,function*({publicKeyBytes:t}){return Ms.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return di(this,void 0,void 0,function*(){const n=Ms.utils.randomPrivateKey(),t=yield gr.bytesToPrivateKey({privateKeyBytes:n});return t.kid=yield Kn({jwk:t}),t})}static getPublicKey(n){return di(this,arguments,void 0,function*({key:t}){var r;if(!sc(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(t,["d"]);return null!==(r=s.kid)&&void 0!==r||(s.kid=yield Kn({jwk:s})),s})}static privateKeyToBytes(n){return di(this,arguments,void 0,function*({privateKey:t}){if(!sc(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return Tt.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(n){return di(this,arguments,void 0,function*({publicKey:t}){if(!Kb(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const r=new Uint8Array([4]),i=Tt.base64Url(t.x).toUint8Array(),s=Tt.base64Url(t.y).toUint8Array();return new Uint8Array([...r,...i,...s])})}static sharedSecret(n){return di(this,arguments,void 0,function*({privateKeyA:t,publicKeyB:r}){if("x"in t&&"x"in r&&t.x===r.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield gr.privateKeyToBytes({privateKey:t}),s=yield gr.publicKeyToBytes({publicKey:r});return Ms.getSharedSecret(i,s,!0).slice(1)})}static sign(n){return di(this,arguments,void 0,function*({data:t,key:r}){const i=yield gr.privateKeyToBytes({privateKey:r}),s=Jf(t);return Ms.sign(s,i).toCompactRawBytes()})}static validatePrivateKey(n){return di(this,arguments,void 0,function*({privateKeyBytes:t}){return Ms.utils.isValidPrivateKey(t)})}static validatePublicKey(n){return di(this,arguments,void 0,function*({publicKeyBytes:t}){try{Ms.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify(n){return di(this,arguments,void 0,function*({key:t,signature:r,data:i}){const s=yield gr.publicKeyToBytes({publicKey:t}),o=Jf(i);return Ms.verify(r,o,s,{lowS:!1})})}static getCurvePoint(n){return di(this,arguments,void 0,function*({keyBytes:t}){32===t.byteLength&&(t=Ms.getPublicKey(t));const r=Ms.ProjectivePoint.fromHex(t);return{x:Lo(r.x,32),y:Lo(r.y,32)}})}}var Xf=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class hF extends _b{computePublicKey(n){return Xf(this,arguments,void 0,function*({key:t}){if(!sc(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const r=yield hr.computePublicKey({key:t});return r.alg="ES256K",r}case"P-256":{const r=yield gr.computePublicKey({key:t});return r.alg="ES256",r}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey(n){return Xf(this,arguments,void 0,function*({algorithm:t}){switch(t){case"ES256K":case"secp256k1":{const r=yield hr.generateKey();return r.alg="ES256K",r}case"ES256":case"secp256r1":{const r=yield gr.generateKey();return r.alg="ES256",r}}})}getPublicKey(n){return Xf(this,arguments,void 0,function*({key:t}){if(!sc(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const r=yield hr.getPublicKey({key:t});return r.alg="ES256K",r}case"P-256":{const r=yield gr.getPublicKey({key:t});return r.alg="ES256",r}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign(n){return Xf(this,arguments,void 0,function*({key:t,data:r}){if(!sc(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield hr.sign({key:t,data:r});case"P-256":return yield gr.sign({key:t,data:r});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify(n){return Xf(this,arguments,void 0,function*({key:t,signature:r,data:i}){if(!Kb(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield hr.verify({key:t,signature:r,data:i});case"P-256":return yield gr.verify({key:t,signature:r,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const zg=BigInt(2**32-1),Gb=BigInt(32);function mF(e,n=!1){return n?{h:Number(e&zg),l:Number(e>>Gb&zg)}:{h:0|Number(e>>Gb&zg),l:0|Number(e&zg)}}const dn_split=function sJ(e,n=!1){let t=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=mF(e[i],n);[t[i],r[i]]=[s,o]}return[t,r]},dn_shrSH=(e,n,t)=>e>>>t,dn_shrSL=(e,n,t)=>e<<32-t|n>>>t,dn_rotrSH=(e,n,t)=>e>>>t|n<<32-t,dn_rotrSL=(e,n,t)=>e<<32-t|n>>>t,dn_rotrBH=(e,n,t)=>e<<64-t|n>>>t-32,dn_rotrBL=(e,n,t)=>e>>>t-32|n<<64-t,dn_add=function wJ(e,n,t,r){const i=(n>>>0)+(r>>>0);return{h:e+t+(i/2**32|0)|0,l:0|i}},dn_add3L=(e,n,t)=>(e>>>0)+(n>>>0)+(t>>>0),dn_add3H=(e,n,t,r)=>n+t+r+(e/2**32|0)|0,dn_add4L=(e,n,t,r)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0),dn_add4H=(e,n,t,r,i)=>n+t+r+i+(e/2**32|0)|0,dn_add5H=(e,n,t,r,i,s)=>n+t+r+i+s+(e/2**32|0)|0,dn_add5L=(e,n,t,r,i)=>(e>>>0)+(n>>>0)+(t>>>0)+(r>>>0)+(i>>>0),[EJ,bJ]=dn_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nu=new Uint32Array(80),ru=new Uint32Array(80);class Kg extends UP{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:n,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:p,Eh:C,El:x,Fh:U,Fl:ue,Gh:ce,Gl:ge,Hh:Re,Hl:Ue}=this;return[n,t,r,i,s,o,a,p,C,x,U,ue,ce,ge,Re,Ue]}set(n,t,r,i,s,o,a,p,C,x,U,ue,ce,ge,Re,Ue){this.Ah=0|n,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|s,this.Cl=0|o,this.Dh=0|a,this.Dl=0|p,this.Eh=0|C,this.El=0|x,this.Fh=0|U,this.Fl=0|ue,this.Gh=0|ce,this.Gl=0|ge,this.Hh=0|Re,this.Hl=0|Ue}process(n,t){for(let Je=0;Je<16;Je++,t+=4)nu[Je]=n.getUint32(t),ru[Je]=n.getUint32(t+=4);for(let Je=16;Je<80;Je++){const Xe=0|nu[Je-15],et=0|ru[Je-15],nt=dn_rotrSH(Xe,et,1)^dn_rotrSH(Xe,et,8)^dn_shrSH(Xe,et,7),st=dn_rotrSL(Xe,et,1)^dn_rotrSL(Xe,et,8)^dn_shrSL(Xe,et,7),mt=0|nu[Je-2],St=0|ru[Je-2],bt=dn_rotrSH(mt,St,19)^dn_rotrBH(mt,St,61)^dn_shrSH(mt,St,6),At=dn_rotrSL(mt,St,19)^dn_rotrBL(mt,St,61)^dn_shrSL(mt,St,6),bn=dn_add4L(st,At,ru[Je-7],ru[Je-16]),gn=dn_add4H(bn,nt,bt,nu[Je-7],nu[Je-16]);nu[Je]=0|gn,ru[Je]=0|bn}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:p,Dh:C,Dl:x,Eh:U,El:ue,Fh:ce,Fl:ge,Gh:Re,Gl:Ue,Hh:We,Hl:He}=this;for(let Je=0;Je<80;Je++){const Xe=dn_rotrSH(U,ue,14)^dn_rotrSH(U,ue,18)^dn_rotrBH(U,ue,41),et=dn_rotrSL(U,ue,14)^dn_rotrSL(U,ue,18)^dn_rotrBL(U,ue,41),nt=U&ce^~U&Re,mt=dn_add5L(He,et,ue&ge^~ue&Ue,bJ[Je],ru[Je]),St=dn_add5H(mt,We,Xe,nt,EJ[Je],nu[Je]),bt=0|mt,At=dn_rotrSH(r,i,28)^dn_rotrBH(r,i,34)^dn_rotrBH(r,i,39),bn=dn_rotrSL(r,i,28)^dn_rotrBL(r,i,34)^dn_rotrBL(r,i,39),gn=r&s^r&a^s&a,Zr=i&o^i&p^o&p;We=0|Re,He=0|Ue,Re=0|ce,Ue=0|ge,ce=0|U,ge=0|ue,({h:U,l:ue}=dn_add(0|C,0|x,0|St,0|bt)),C=0|a,x=0|p,a=0|s,p=0|o,s=0|r,o=0|i;const _t=dn_add3L(bt,bn,Zr);r=dn_add3H(_t,St,At,gn),i=0|_t}({h:r,l:i}=dn_add(0|this.Ah,0|this.Al,0|r,0|i)),({h:s,l:o}=dn_add(0|this.Bh,0|this.Bl,0|s,0|o)),({h:a,l:p}=dn_add(0|this.Ch,0|this.Cl,0|a,0|p)),({h:C,l:x}=dn_add(0|this.Dh,0|this.Dl,0|C,0|x)),({h:U,l:ue}=dn_add(0|this.Eh,0|this.El,0|U,0|ue)),({h:ce,l:ge}=dn_add(0|this.Fh,0|this.Fl,0|ce,0|ge)),({h:Re,l:Ue}=dn_add(0|this.Gh,0|this.Gl,0|Re,0|Ue)),({h:We,l:He}=dn_add(0|this.Hh,0|this.Hl,0|We,0|He)),this.set(r,i,s,o,a,p,C,x,U,ue,ce,ge,Re,Ue,We,He)}roundClean(){nu.fill(0),ru.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gF=jP(()=>new Kg),ao=BigInt(0),ps=BigInt(1),Wg=BigInt(2),DJ=BigInt(8),SJ={zip215:!0};function Jb(e){const n=function _J(e){const n=Lb(e);return rc(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...n})}(e),{Fp:t,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:p}=n,C=Wg<<BigInt(8*a)-ps,x=t.create,U=n.uvRatio||((It,wt)=>{try{return{isValid:!0,value:t.sqrt(It*t.inv(wt))}}catch{return{isValid:!1,value:ao}}}),ue=n.adjustScalarBytes||(It=>It),ce=n.domain||((It,wt,Pt)=>{if(wt.length||Pt)throw new Error("Contexts/pre-hash are not supported");return It}),ge=It=>"bigint"==typeof It&&ao<It,Re=(It,wt)=>ge(It)&&ge(wt)&&It<wt,Ue=It=>It===ao||Re(It,C);function We(It,wt){if(Re(It,wt))return It;throw new Error(`Expected valid scalar < ${wt}, got ${typeof It} ${It}`)}function He(It){return It===ao?It:We(It,r)}const Je=new Map;function Xe(It){if(!(It instanceof et))throw new Error("ExtendedPoint expected")}class et{constructor(wt,Pt,Ht,en){if(this.ex=wt,this.ey=Pt,this.ez=Ht,this.et=en,!Ue(wt))throw new Error("x required");if(!Ue(Pt))throw new Error("y required");if(!Ue(Ht))throw new Error("z required");if(!Ue(en))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(wt){if(wt instanceof et)throw new Error("extended point not allowed");const{x:Pt,y:Ht}=wt||{};if(!Ue(Pt)||!Ue(Ht))throw new Error("invalid affine point");return new et(Pt,Ht,ps,x(Pt*Ht))}static normalizeZ(wt){const Pt=t.invertBatch(wt.map(Ht=>Ht.ez));return wt.map((Ht,en)=>Ht.toAffine(Pt[en])).map(et.fromAffine)}_setWindowSize(wt){this._WINDOW_SIZE=wt,Je.delete(this)}assertValidity(){const{a:wt,d:Pt}=n;if(this.is0())throw new Error("bad point: ZERO");const{ex:Ht,ey:en,ez:pn,et:En}=this,Nn=x(Ht*Ht),Dn=x(en*en),On=x(pn*pn),kr=x(On*On),vr=x(Nn*wt);if(x(On*x(vr+Dn))!==x(kr+x(Pt*x(Nn*Dn))))throw new Error("bad point: equation left != right (1)");if(x(Ht*en)!==x(pn*En))throw new Error("bad point: equation left != right (2)")}equals(wt){Xe(wt);const{ex:Pt,ey:Ht,ez:en}=this,{ex:pn,ey:En,ez:Nn}=wt,Dn=x(Pt*Nn),On=x(pn*en),kr=x(Ht*Nn),vr=x(En*en);return Dn===On&&kr===vr}is0(){return this.equals(et.ZERO)}negate(){return new et(x(-this.ex),this.ey,this.ez,x(-this.et))}double(){const{a:wt}=n,{ex:Pt,ey:Ht,ez:en}=this,pn=x(Pt*Pt),En=x(Ht*Ht),Nn=x(Wg*x(en*en)),Dn=x(wt*pn),On=Pt+Ht,kr=x(x(On*On)-pn-En),vr=Dn+En,mi=vr-Nn,gi=Dn-En,qr=x(kr*mi),Ai=x(vr*gi),Ta=x(kr*gi),wc=x(mi*vr);return new et(qr,Ai,wc,Ta)}add(wt){Xe(wt);const{a:Pt,d:Ht}=n,{ex:en,ey:pn,ez:En,et:Nn}=this,{ex:Dn,ey:On,ez:kr,et:vr}=wt;if(Pt===BigInt(-1)){const sM=x((pn-en)*(On+Dn)),oM=x((pn+en)*(On-Dn)),eD=x(oM-sM);if(eD===ao)return this.double();const aM=x(En*Wg*vr),uM=x(Nn*Wg*kr),cM=uM+aM,lM=oM+sM,dM=uM-aM,qQ=x(cM*eD),YQ=x(lM*dM),XQ=x(cM*dM),QQ=x(eD*lM);return new et(qQ,YQ,QQ,XQ)}const mi=x(en*Dn),gi=x(pn*On),qr=x(Nn*Ht*vr),Ai=x(En*kr),Ta=x((en+pn)*(Dn+On)-mi-gi),wc=Ai-qr,Wp=Ai+qr,iM=x(gi-Pt*mi),WQ=x(Ta*wc),GQ=x(Wp*iM),JQ=x(Ta*iM),ZQ=x(wc*Wp);return new et(WQ,GQ,ZQ,JQ)}subtract(wt){return this.add(wt.negate())}wNAF(wt){return mt.wNAFCached(this,Je,wt,et.normalizeZ)}multiply(wt){const{p:Pt,f:Ht}=this.wNAF(We(wt,r));return et.normalizeZ([Pt,Ht])[0]}multiplyUnsafe(wt){let Pt=He(wt);return Pt===ao?st:this.equals(st)||Pt===ps?this:this.equals(nt)?this.wNAF(Pt).p:mt.unsafeLadder(this,Pt)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return mt.unsafeLadder(this,r).is0()}toAffine(wt){const{ex:Pt,ey:Ht,ez:en}=this,pn=this.is0();null==wt&&(wt=pn?DJ:t.inv(en));const En=x(Pt*wt),Nn=x(Ht*wt),Dn=x(en*wt);if(pn)return{x:ao,y:ps};if(Dn!==ps)throw new Error("invZ was invalid");return{x:En,y:Nn}}clearCofactor(){const{h:wt}=n;return wt===ps?this:this.multiplyUnsafe(wt)}static fromHex(wt,Pt=!1){const{d:Ht,a:en}=n,pn=t.BYTES,En=(wt=Ar("pointHex",wt,pn)).slice(),Nn=wt[pn-1];En[pn-1]=-129&Nn;const Dn=Qa(En);Dn===ao||We(Dn,Pt?C:t.ORDER);const On=x(Dn*Dn),kr=x(On-ps),vr=x(Ht*On-en);let{isValid:mi,value:gi}=U(kr,vr);if(!mi)throw new Error("Point.fromHex: invalid y coordinate");const qr=(gi&ps)===ps,Ai=!!(128&Nn);if(!Pt&&gi===ao&&Ai)throw new Error("Point.fromHex: x=0 and x_0=1");return Ai!==qr&&(gi=x(-gi)),et.fromAffine({x:gi,y:Dn})}static fromPrivateKey(wt){return At(wt).point}toRawBytes(){const{x:wt,y:Pt}=this.toAffine(),Ht=Bl(Pt,t.BYTES);return Ht[Ht.length-1]|=wt&ps?128:0,Ht}toHex(){return ec(this.toRawBytes())}}et.BASE=new et(n.Gx,n.Gy,ps,x(n.Gx*n.Gy)),et.ZERO=new et(ao,ps,ps,ao);const{BASE:nt,ZERO:st}=et,mt=nF(et,8*a);function St(It){return tr(It,r)}function bt(It){return St(Qa(It))}function At(It){const wt=a;It=Ar("private key",It,wt);const Pt=Ar("hashed private key",s(It),2*wt),Ht=ue(Pt.slice(0,wt)),en=Pt.slice(wt,2*wt),pn=bt(Ht),En=nt.multiply(pn),Nn=En.toRawBytes();return{head:Ht,prefix:en,scalar:pn,point:En,pointBytes:Nn}}function gn(It=new Uint8Array,...wt){const Pt=nc(...wt);return bt(s(ce(Pt,Ar("context",It),!!i)))}const _t=SJ;return nt._setWindowSize(8),{CURVE:n,getPublicKey:function bn(It){return At(It).pointBytes},sign:function Zr(It,wt,Pt={}){It=Ar("message",It),i&&(It=i(It));const{prefix:Ht,scalar:en,pointBytes:pn}=At(wt),En=gn(Pt.context,Ht,It),Nn=nt.multiply(En).toRawBytes(),On=St(En+gn(Pt.context,Nn,pn,It)*en);return He(On),Ar("result",nc(Nn,Bl(On,t.BYTES)),2*a)},verify:function Rt(It,wt,Pt,Ht=_t){const{context:en,zip215:pn}=Ht,En=t.BYTES;It=Ar("signature",It,2*En),wt=Ar("message",wt),i&&(wt=i(wt));const Nn=Qa(It.slice(En,2*En));let Dn,On,kr;try{Dn=et.fromHex(Pt,pn),On=et.fromHex(It.slice(0,En),pn),kr=nt.multiplyUnsafe(Nn)}catch{return!1}if(!pn&&Dn.isSmallOrder())return!1;const vr=gn(en,On.toRawBytes(),Dn.toRawBytes(),wt);return On.add(Dn.multiplyUnsafe(vr)).subtract(kr).clearCofactor().equals(et.ZERO)},ExtendedPoint:et,utils:{getExtendedPublicKey:At,randomPrivateKey:()=>o(t.BYTES),precompute:(It=8,wt=et.BASE)=>(wt._setWindowSize(It),wt.multiply(BigInt(3)),wt)}}}const Qf=BigInt(0),Zb=BigInt(1),ep=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yF=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),$o=(BigInt(0),BigInt(1)),Gg=BigInt(2),xJ=BigInt(5),vF=BigInt(10),TJ=BigInt(20),OJ=BigInt(40),wF=BigInt(80);function EF(e){const n=ep,r=e*e%n*e%n,i=pr(r,Gg,n)*r%n,s=pr(i,$o,n)*e%n,o=pr(s,xJ,n)*s%n,a=pr(o,vF,n)*o%n,p=pr(a,TJ,n)*a%n,C=pr(p,OJ,n)*p%n,x=pr(C,wF,n)*C%n,U=pr(x,wF,n)*C%n,ue=pr(U,vF,n)*o%n;return{pow_p_5_8:pr(ue,Gg,n)*e%n,b2:r}}function bF(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ot=Bb(ep,void 0,!0),tp={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ot,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gF,randomBytes:Pb,adjustScalarBytes:bF,uvRatio:function qb(e,n){const t=ep,r=tr(n*n*n,t),i=tr(r*r*n,t);let o=tr(e*r*EF(e*i).pow_p_5_8,t);const a=tr(n*o*o,t),p=o,C=tr(o*yF,t),x=a===e,U=a===tr(-e,t),ue=a===tr(-e*yF,t);return x&&(o=p),(U||ue)&&(o=C),((e,n)=>(tr(e,n)&er)===er)(o,t)&&(o=tr(-o,t)),{isValid:x||U,value:o}}},Nr=Jb(tp);const np=function CJ(e){const n=function AJ(e){return rc(e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...e})}(e),{P:t}=n,r=Je=>tr(Je,t),i=n.montgomeryBits,s=Math.ceil(i/8),o=n.nByteLength,a=n.adjustScalarBytes||(Je=>Je),p=n.powPminus2||(Je=>YP(Je,t-BigInt(2),t));function C(Je,Xe,et){const nt=r(Je*(Xe-et));return[Xe=r(Xe-nt),et=r(et+nt)]}function x(Je){if("bigint"==typeof Je&&Qf<=Je&&Je<t)return Je;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const U=(n.a-BigInt(2))/BigInt(4);function ce(Je){return Bl(r(Je),s)}function Ue(Je,Xe){const et=function ge(Je){const Xe=Ar("u coordinate",Je,s);return 32===o&&(Xe[31]&=127),Qa(Xe)}(Xe),nt=function Re(Je){const Xe=Ar("scalar",Je),et=Xe.length;if(et!==s&&et!==o)throw new Error(`Expected ${s} or ${o} bytes, got ${et}`);return Qa(a(Xe))}(Je),st=function ue(Je,Xe){const et=x(Je),nt=x(Xe),st=et;let gn,mt=Zb,St=Qf,bt=et,At=Zb,bn=Qf;for(let _t=BigInt(i-1);_t>=Qf;_t--){const Rt=nt>>_t&Zb;bn^=Rt,gn=C(bn,mt,bt),mt=gn[0],bt=gn[1],gn=C(bn,St,At),St=gn[0],At=gn[1],bn=Rt;const sn=mt+St,It=r(sn*sn),wt=mt-St,Pt=r(wt*wt),Ht=It-Pt,en=bt+At,En=r((bt-At)*sn),Nn=r(en*wt),Dn=En+Nn,On=En-Nn;bt=r(Dn*Dn),At=r(st*r(On*On)),mt=r(It*Pt),St=r(Ht*(It+r(U*Ht)))}gn=C(bn,mt,bt),mt=gn[0],bt=gn[1],gn=C(bn,St,At),St=gn[0],At=gn[1];const Zr=p(St);return r(mt*Zr)}(et,nt);if(st===Qf)throw new Error("Invalid private or public key received");return ce(st)}const We=ce(n.Gu);function He(Je){return Ue(Je,We)}return{scalarMult:Ue,scalarMultBase:He,getSharedSecret:(Je,Xe)=>Ue(Je,Xe),getPublicKey:Je=>He(Je),utils:{randomPrivateKey:()=>n.randomBytes(n.nByteLength)},GuBytes:We}}({P:ep,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const n=ep,{pow_p_5_8:t,b2:r}=EF(e);return tr(pr(t,BigInt(3),n)*r,n)},adjustScalarBytes:bF,randomBytes:Pb}),RJ=(Ot.ORDER+BigInt(3))/BigInt(8);Ot.pow(Gg,RJ),Ot.sqrt(Ot.neg(Ot.ONE)),BigInt(5),BigInt(8),BigInt(486662),function kG(e,n){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const t=e.sqrt(n);e.isOdd(t)&&e.neg(t)}(Ot,Ot.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Bs=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class yr{static bytesToPrivateKey(n){return Bs(this,arguments,void 0,function*({privateKeyBytes:t}){const r=Nr.getPublicKey(t),i={crv:"Ed25519",d:Tt.uint8Array(t).toBase64Url(),kty:"OKP",x:Tt.uint8Array(r).toBase64Url()};return i.kid=yield Kn({jwk:i}),i})}static bytesToPublicKey(n){return Bs(this,arguments,void 0,function*({publicKeyBytes:t}){const r={kty:"OKP",crv:"Ed25519",x:Tt.uint8Array(t).toBase64Url()};return r.kid=yield Kn({jwk:r}),r})}static computePublicKey(n){return Bs(this,arguments,void 0,function*({key:t}){const r=yield yr.privateKeyToBytes({privateKey:t}),i=Nr.getPublicKey(r),s={kty:"OKP",crv:"Ed25519",x:Tt.uint8Array(i).toBase64Url()};return s.kid=yield Kn({jwk:s}),s})}static convertPrivateKeyToX25519(n){return Bs(this,arguments,void 0,function*({privateKey:t}){const i=function FJ(e){const n=tp.hash(e.subarray(0,32));return tp.adjustScalarBytes(n).subarray(0,32)}(yield yr.privateKeyToBytes({privateKey:t})),s=np.getPublicKey(i),o={kty:"OKP",crv:"X25519",d:Tt.uint8Array(i).toBase64Url(),x:Tt.uint8Array(s).toBase64Url()};return o.kid=yield Kn({jwk:o}),o})}static convertPublicKeyToX25519(n){return Bs(this,arguments,void 0,function*({publicKey:t}){const r=yield yr.publicKeyToBytes({publicKey:t});if(!(yield yr.validatePublicKey({publicKeyBytes:r})))throw new Error("Ed25519: Invalid public key.");const s=function PJ(e){const{y:n}=Nr.ExtendedPoint.fromHex(e),t=BigInt(1);return Ot.toBytes(Ot.create((t+n)*Ot.inv(t-n)))}(r),o={kty:"OKP",crv:"X25519",x:Tt.uint8Array(s).toBase64Url()};return o.kid=yield Kn({jwk:o}),o})}static generateKey(){return Bs(this,void 0,void 0,function*(){const n=Nr.utils.randomPrivateKey(),t=yield yr.bytesToPrivateKey({privateKeyBytes:n});return t.kid=yield Kn({jwk:t}),t})}static getPublicKey(n){return Bs(this,arguments,void 0,function*({key:t}){var r;if(!oc(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(t,["d"]);return null!==(r=s.kid)&&void 0!==r||(s.kid=yield Kn({jwk:s})),s})}static privateKeyToBytes(n){return Bs(this,arguments,void 0,function*({privateKey:t}){if(!oc(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return Tt.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(n){return Bs(this,arguments,void 0,function*({publicKey:t}){if(!Wb(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return Tt.base64Url(t.x).toUint8Array()})}static sign(n){return Bs(this,arguments,void 0,function*({key:t,data:r}){const i=yield yr.privateKeyToBytes({privateKey:t});return Nr.sign(r,i)})}static validatePublicKey(n){return Bs(this,arguments,void 0,function*({publicKeyBytes:t}){try{Nr.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify(n){return Bs(this,arguments,void 0,function*({key:t,signature:r,data:i}){const s=yield yr.publicKeyToBytes({publicKey:t});return Nr.verify(r,i,s)})}}var rp=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})},va=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};const e1={Ed25519:{implementation:class zJ extends _b{computePublicKey(n){return rp(this,arguments,void 0,function*({key:t}){if(!oc(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const r=yield yr.computePublicKey({key:t});return r.alg="EdDSA",r}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey(n){return rp(this,arguments,void 0,function*({algorithm:t}){if("Ed25519"===t){const r=yield yr.generateKey();return r.alg="EdDSA",r}})}getPublicKey(n){return rp(this,arguments,void 0,function*({key:t}){if(!oc(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const r=yield yr.getPublicKey({key:t});return r.alg="EdDSA",r}throw new Error(`Unsupported curve: ${t.crv}`)})}sign(n){return rp(this,arguments,void 0,function*({key:t,data:r}){if(!oc(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield yr.sign({key:t,data:r});throw new Error(`Unsupported curve: ${t.crv}`)})}verify(n){return rp(this,arguments,void 0,function*({key:t,signature:r,data:i}){if(!Wb(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield yr.verify({key:t,signature:r,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:hF,names:["ES256K","secp256k1"]},secp256r1:{implementation:hF,names:["ES256","secp256r1"]},"SHA-256":{implementation:class pG extends _b{digest(n){return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})}(this,arguments,void 0,function*({algorithm:t,data:r}){if("SHA-256"===t)return yield RP.digest({data:r})})}},names:["SHA-256"]}};class jo{constructor(n){var t;this._algorithmInstances=new Map,this._keyStore=null!==(t=n?.keyStore)&&void 0!==t?t:new GW}digest(n){return va(this,arguments,void 0,function*({algorithm:t,data:r}){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:r})})}exportKey(n){return va(this,arguments,void 0,function*({keyUri:t}){return yield this.getPrivateKey({keyUri:t})})}generateKey(n){return va(this,arguments,void 0,function*({algorithm:t}){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const s=`${fF}${i.kid}`;return yield this._keyStore.set(s,i),s})}getKeyUri(n){return va(this,arguments,void 0,function*({key:t}){const r=yield Kn({jwk:t});return`${fF}${r}`})}getPublicKey(n){return va(this,arguments,void 0,function*({keyUri:t}){const r=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:r});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:r})})}importKey(n){return va(this,arguments,void 0,function*({key:t}){var r;if(!function eJ(e){if(!e||"object"!=typeof e)return!1;switch(e.kty){case"EC":case"OKP":case"RSA":return"d"in e;case"oct":return"k"in e;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(r=i.kid)&&void 0!==r||(i.kid=yield Kn({jwk:i}));const s=yield this.getKeyUri({key:i});return yield this._keyStore.set(s,i),s})}sign(n){return va(this,arguments,void 0,function*({keyUri:t,data:r}){const i=yield this.getPrivateKey({keyUri:t}),s=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:s}).sign({data:r,key:i})})}verify(n){return va(this,arguments,void 0,function*({key:t,signature:r,data:i}){const s=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:s}).verify({key:t,signature:r,data:i})})}getAlgorithm({algorithm:n}){var t;const r=null===(t=e1[n])||void 0===t?void 0:t.implementation;if(!r)throw new Error(`Algorithm not supported: ${n}`);return this._algorithmInstances.has(r)||this._algorithmInstances.set(r,new r),this._algorithmInstances.get(r)}getAlgorithmName({key:n}){const t=n.alg,r=n.crv;for(const i in e1){const s=e1[i];if(t&&s.names.includes(t))return i;if(r&&s.names.includes(r))return i}throw new Error(`Unable to determine algorithm based on provided input: alg=${t}, crv=${r}`)}getPrivateKey(n){return va(this,arguments,void 0,function*({keyUri:t}){const r=yield this._keyStore.get(t);if(!r)throw new Error(`Key not found: ${t}`);return r})}}class ip{static getJoseSignatureAlgorithmFromPublicKey(n){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(n.alg&&Object.values(t).includes(n.alg))return n.alg;if(n.crv&&Object.keys(t).includes(n.crv))return t[n.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${n.alg}, crv=${n.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}static randomBytes(n){return function sG(e=32){if(Ng&&"function"==typeof Ng.getRandomValues)return Ng.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}(n)}static randomUuid(){return Ng.randomUUID()}static randomPin({length:n}){if(3>n||n>10)throw new Error("randomPin() can securely generate a PIN between 3 to 10 digits.");const t=Math.pow(10,n)-1;let r;if(n<=6){const i=Math.pow(10,n);do{const s=ip.randomBytes(Math.ceil(n/2));r=new DataView(s.buffer).getUint16(0,!1)%i}while(r>t)}else{const i=Math.pow(10,10);do{const s=ip.randomBytes(4);r=new DataView(s.buffer).getUint32(0,!1)%i}while(r>t)}return r.toString().padStart(n,"0")}}var iu=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class uc{static bytesToPrivateKey(n){return iu(this,arguments,void 0,function*({privateKeyBytes:t}){const r=np.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:Tt.uint8Array(t).toBase64Url(),x:Tt.uint8Array(r).toBase64Url()};return i.kid=yield Kn({jwk:i}),i})}static bytesToPublicKey(n){return iu(this,arguments,void 0,function*({publicKeyBytes:t}){const r={kty:"OKP",crv:"X25519",x:Tt.uint8Array(t).toBase64Url()};return r.kid=yield Kn({jwk:r}),r})}static computePublicKey(n){return iu(this,arguments,void 0,function*({key:t}){const r=yield uc.privateKeyToBytes({privateKey:t}),i=np.getPublicKey(r),s={kty:"OKP",crv:"X25519",x:Tt.uint8Array(i).toBase64Url()};return s.kid=yield Kn({jwk:s}),s})}static generateKey(){return iu(this,void 0,void 0,function*(){const n=np.utils.randomPrivateKey(),t=yield uc.bytesToPrivateKey({privateKeyBytes:n});return t.kid=yield Kn({jwk:t}),t})}static getPublicKey(n){return iu(this,arguments,void 0,function*({key:t}){var r;if(!oc(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}(t,["d"]);return null!==(r=s.kid)&&void 0!==r||(s.kid=yield Kn({jwk:s})),s})}static privateKeyToBytes(n){return iu(this,arguments,void 0,function*({privateKey:t}){if(!oc(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return Tt.base64Url(t.d).toUint8Array()})}static publicKeyToBytes(n){return iu(this,arguments,void 0,function*({publicKey:t}){if(!Wb(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return Tt.base64Url(t.x).toUint8Array()})}static sharedSecret(n){return iu(this,arguments,void 0,function*({privateKeyA:t,publicKeyB:r}){if("x"in t&&"x"in r&&t.x===r.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield uc.privateKeyToBytes({privateKey:t}),s=yield uc.publicKeyToBytes({publicKey:r});return np.getSharedSecret(i,s)})}}var Xg=function(e){return e.authentication="authentication",e.assertionMethod="assertionMethod",e.keyAgreement="keyAgreement",e.capabilityInvocation="capabilityInvocation",e.capabilityDelegation="capabilityDelegation",e}(Xg||{});const fi={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Rn{constructor({method:n,id:t,path:r,query:i,fragment:s,params:o}){this.uri=`did:${n}:${t}`,this.method=n,this.id=t,this.path=r,this.query=i,this.fragment=s,this.params=o}static parse(n){if(!n)return null;const t=Rn.DID_URI_PATTERN.exec(n);if(!t||!t.groups)return null;const{method:r,id:i,path:s,query:o,fragment:a}=t.groups,p={uri:`did:${r}:${i}`,method:r,id:i};if(s&&(p.path=s),o&&(p.query=o.slice(1)),a&&(p.fragment=a.slice(1)),o){const C={},x=o.slice(1).split("&");for(const U of x){const[ue,ce]=U.split("=");C[ue]=ce}p.params=C}return p}}Rn.METHOD_PATTERN="([a-z0-9]+)",Rn.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Rn.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Rn.PCT_ENCODED_PATTERN})`,Rn.METHOD_ID_PATTERN=`((?:${Rn.ID_CHAR_PATTERN}*:)*(${Rn.ID_CHAR_PATTERN}+))`,Rn.PATH_PATTERN="(/[^#?]*)?",Rn.QUERY_PATTERN="([?][^#]*)?",Rn.FRAGMENT_PATTERN="(#.*)?",Rn.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Rn.METHOD_PATTERN}):(?<id>${Rn.METHOD_ID_PATTERN})(?<path>${Rn.PATH_PATTERN})(?<query>${Rn.QUERY_PATTERN})(?<fragment>${Rn.FRAGMENT_PATTERN})$`);class Ut extends Error{constructor(n,t){super(`${n}: ${t}`),this.code=n,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut)}}var Vt=function(e){return e.InvalidDid="invalidDid",e.MethodNotSupported="methodNotSupported",e.InternalError="internalError",e.InvalidDidDocument="invalidDidDocument",e.InvalidDidDocumentLength="invalidDidDocumentLength",e.InvalidDidUrl="invalidDidUrl",e.InvalidPreviousDidProof="invalidPreviousDidProof",e.InvalidPublicKey="invalidPublicKey",e.InvalidPublicKeyLength="invalidPublicKeyLength",e.InvalidPublicKeyType="invalidPublicKeyType",e.InvalidSignature="invalidSignature",e.NotFound="notFound",e.RepresentationNotSupported="representationNotSupported",e.UnsupportedPublicKeyType="unsupportedPublicKeyType",e}(Vt||{});function uo(e){if("string"==typeof e&&0!==e.length)return e.split("#").pop()}function s1({didDocument:e}){var n,t;if(!e)throw new TypeError("Required parameter missing: 'didDocument'");const r=[];return r.push(...null!==(t=null===(n=e.verificationMethod)||void 0===n?void 0:n.filter(Qg))&&void 0!==t?t:[]),Object.keys(Xg).forEach(i=>{var s,o;r.push(...null!==(o=null===(s=e[i])||void 0===s?void 0:s.filter(Qg))&&void 0!==o?o:[])}),r}function eZ({didDocument:e,methodId:n}){const t=[];return Object.keys(Xg).forEach(r=>{if(Array.isArray(e[r])){const i=e[r],s=uo(n);i.some(a=>{const p=uo(a)===s,C=Qg(a)&&uo(a.id)===s;return p||C})&&t.push(r)}}),t}function Qg(e){return!(!e||"object"!=typeof e||null===e||!("id"in e&&"type"in e&&"controller"in e)||"string"!=typeof e.id||"string"!=typeof e.type||"string"!=typeof e.controller)}function TF({keyBytes:e,multicodecCode:n,multicodecName:t}){const r=Mr.addPrefix({code:n,data:e,name:t}),i=Tt.uint8Array(r).toBase58Btc();return Tt.base58Btc(i).toMultibase()}function OF({multibaseKeyId:e}){try{const n=Tt.multibase(e).toBase58Btc(),t=Tt.base58Btc(n).toUint8Array(),{code:r,data:i,name:s}=Mr.removePrefix({prefixedData:t});return{keyBytes:i,multicodecCode:r,multicodecName:s}}catch{throw new Ut(Vt.InvalidDid,`Invalid multibase identifier: ${e}`)}}var cp=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class Uo{constructor({uri:n,document:t,metadata:r,keyManager:i}){this.uri=n,this.document=t,this.metadata=r,this.keyManager=i}export(){return cp(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let n=JSON.parse(JSON.stringify({uri:this.uri,document:this.document,metadata:this.metadata}));if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const t=[];for(let r of this.document.verificationMethod){if(!r.publicKeyJwk)throw new Error(`Verification method '${r.id}' does not contain a public key in JWK format`);const i=yield this.keyManager.getKeyUri({key:r.publicKeyJwk}),s=yield this.keyManager.exportKey({keyUri:i});t.push(Object.assign({},s))}n.privateKeys=t}return n})}getSigner(n){return cp(this,void 0,void 0,function*(){var t;const r=null===(t=this.document.verificationMethod)||void 0===t?void 0:t.find(p=>{var C,x;return uo(p.id)===(null!==(C=uo(n?.methodId))&&void 0!==C?C:uo(null===(x=this.document.assertionMethod)||void 0===x?void 0:x[0]))});if(!r||!r.publicKeyJwk)throw new Ut(Vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");const i=yield this.keyManager.getKeyUri({key:r.publicKeyJwk}),s=yield this.keyManager.getPublicKey({keyUri:i}),o=this.keyManager;return{algorithm:ip.getJoseSignatureAlgorithmFromPublicKey(s),keyId:r.id,sign(p){return cp(this,arguments,void 0,function*({data:C}){return yield o.sign({data:C,keyUri:i})})},verify(p){return cp(this,arguments,void 0,function*({data:C,signature:x}){return yield o.verify({data:C,key:s,signature:x})})}}})}static import(n){return cp(this,arguments,void 0,function*({portableDid:t,keyManager:r=new jo}){var i;const s=s1({didDocument:t.document});if(0===s.length)throw new Ut(Vt.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let a of null!==(i=t.privateKeys)&&void 0!==i?i:[]){const p=yield r.getKeyUri({key:a});(yield r.getPublicKey({keyUri:p}).then(()=>!0).catch(()=>!1))||(yield r.importKey({key:a}))}for(let a of s){if(!a.publicKeyJwk)throw new Error(`Verification method '${a.id}' does not contain a public key in JWK format`);const p=yield r.getKeyUri({key:a.publicKeyJwk});yield r.getPublicKey({keyUri:p})}return new Uo({uri:t.uri,document:t.document,metadata:t.metadata,keyManager:r})})}}const PF="0123456789abcdef",FF=[],ey=[];for(let e=0;e<256;e++)FF[e]=PF[e>>4&15]+PF[15&e],e<16&&(e<10?ey[48+e]=e:ey[87+e]=e);const RF=e=>{const n=e.length;let t="",r=0;for(;r<n;)t+=FF[e[r++]];return t};for(var lp=typeof Uint8Array>"u"?[]:new Uint8Array(256),ty=0;ty<64;ty++)lp["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(ty)]=ty;const iZ=new TextDecoder,MF=(e,n)=>n?new TextDecoder(n).decode(e):iZ.decode(e),sZ=new TextEncoder,wa=e=>sZ.encode(e);function dp(e){const n=e<0?1:0;return e=Math.abs(Number(e||1)),Math.floor(Math.log10(e))+1+n}function kF(e){return ArrayBuffer.isView(e)?"arraybufferview":Array.isArray(e)?"array":e instanceof Number?"number":e instanceof Boolean?"boolean":e instanceof Set?"set":e instanceof Map?"map":e instanceof String?"string":e instanceof ArrayBuffer?"arraybuffer":typeof e}function Un(e,n,t){const r=[];let i=null;return Un._encode(r,e),i=((e,n=0)=>{const t=e.length||0;if(!n){let o=t;for(;o--;)n+=e[o].length}const r=new Uint8Array(n);let i=n,s=t;for(;s--;)i-=e[s].length,r.set(e[s],i);return r})(r),Un.bytes=i.length,ArrayBuffer.isView(n)?(n.set(i,t),n):i}typeof window<"u"?window:self,Un.bytes=-1,Un._floatConversionDetected=!1,Un._encode=function(e,n){if(null!=n)switch(kF(n)){case"object":Un.dict(e,n);break;case"map":Un.dictMap(e,n);break;case"array":Un.list(e,n);break;case"set":Un.listSet(e,n);break;case"string":Un.string(e,n);break;case"number":case"boolean":Un.number(e,n);break;case"arraybufferview":Un.buffer(e,new Uint8Array(n.buffer,n.byteOffset,n.byteLength));break;case"arraybuffer":Un.buffer(e,new Uint8Array(n))}};const ny=new Uint8Array([101]),LF=new Uint8Array([100]),$F=new Uint8Array([108]);Un.buffer=function(e,n){e.push(wa(n.length+":"),n)},Un.string=function(e,n){e.push(wa(wa(n).byteLength+":"+n))},Un.number=function(e,n){if(Number.isInteger(n))return e.push(wa("i"+BigInt(n)+"e"));const t=2147483648,s=(n/t|0)*t+(n%t|0);e.push(wa("i"+s+"e")),s!==n&&!Un._floatConversionDetected&&(Un._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+n+'":','Bencoding only defines support for integers, value was converted to "'+s+'"'),console.trace())},Un.dict=function(e,n){e.push(LF);let r,t=0;const i=Object.keys(n).sort(),s=i.length;for(;t<s;t++)r=i[t],null!=n[r]&&(Un.string(e,r),Un._encode(e,n[r]));e.push(ny)},Un.dictMap=function(e,n){e.push(LF);const t=Array.from(n.keys()).sort();for(const r of t)null!=n.get(r)&&(ArrayBuffer.isView(r)?Un._encode(e,r):Un.string(e,String(r)),Un._encode(e,n.get(r)));e.push(ny)},Un.list=function(e,n){let t=0;const r=n.length;for(e.push($F);t<r;t++)null!=n[t]&&Un._encode(e,n[t]);e.push(ny)},Un.listSet=function(e,n){e.push($F);for(const t of n)null!=t&&Un._encode(e,t);e.push(ny)};const aZ=Un;function jF(e,n,t){let r=0,i=1;for(let s=n;s<t;s++){const o=e[s];if(o<58&&o>=48)r=10*r+(o-48);else if(s!==n||43!==o){if(s===n&&45===o){i=-1;continue}if(46===o)break;throw new Error("not a number: buffer["+s+"] = "+o)}}return r*i}function Zt(e,n,t,r){return null==e||0===e.length?null:("number"!=typeof n&&null==r&&(r=n,n=void 0),"number"!=typeof t&&null==r&&(r=t,t=void 0),Zt.position=0,Zt.encoding=r||null,Zt.data=ArrayBuffer.isView(e)?new Uint8Array(e.slice(n,t)):wa(e),Zt.bytes=Zt.data.length,Zt.next())}function ry(e){if(null==e)return 0;const t=kF(e);switch(t){case"arraybufferview":return function yZ(e){const n=e.byteLength-e.byteOffset;return dp(n)+1+n}(e);case"string":return function gZ(e){const n=wa(e).byteLength;return dp(n)+1+n}(e);case"array":case"set":return function pZ(e){let n=2;for(const t of e)n+=ry(t);return n}(e);case"number":return 1+dp(Math.floor(e))+1;case"bigint":return 1+e.toString().length+1;case"object":return function mZ(e){let n=2;const t=Object.keys(e);for(let r=0;r<t.length;r++){const i=wa(t[r]).byteLength;n+=dp(i)+1+i,n+=ry(e[t[r]])}return n}(e);case"map":return function hZ(e){let n=2;for(const[t,r]of e){const i=wa(t).byteLength;n+=dp(i)+1+i,n+=ry(r)}return n}(e);default:throw new TypeError(`Unsupported value of type "${t}"`)}}Zt.bytes=0,Zt.position=0,Zt.data=null,Zt.encoding=null,Zt.next=function(){switch(Zt.data[Zt.position]){case 100:return Zt.dictionary();case 108:return Zt.list();case 105:return Zt.integer();default:return Zt.buffer()}},Zt.find=function(e){let n=Zt.position;const t=Zt.data.length,r=Zt.data;for(;n<t;){if(r[n]===e)return n;n++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")},Zt.dictionary=function(){Zt.position++;const e={};for(;101!==Zt.data[Zt.position];){const n=Zt.buffer();let t=MF(n);t.includes("\ufffd")&&(t=RF(n)),e[t]=Zt.next()}return Zt.position++,e},Zt.list=function(){Zt.position++;const e=[];for(;101!==Zt.data[Zt.position];)e.push(Zt.next());return Zt.position++,e},Zt.integer=function(){const e=Zt.find(101),n=jF(Zt.data,Zt.position+1,e);return Zt.position+=e+1-Zt.position,n},Zt.buffer=function(){let e=Zt.find(58);const n=jF(Zt.data,Zt.position,e),t=++e+n;return Zt.position=t,Zt.encoding?MF(Zt.data.slice(e,t)):Zt.data.slice(e,t)};const VF={encode:aZ,decode:Zt,byteLength:ry,encodingLength:ry},vZ=/^(\d{1,3}\.){3,3}\d{1,3}$/,wZ=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,Vo={name:"v4",size:4,isFormat:e=>vZ.test(e),encode(e,n,t){t=~~t,n=n||new Uint8Array(t+4);const r=e.length;let i=0;for(let s=0;s<r;){const o=e.charCodeAt(s++);46===o?(n[t++]=i,i=0):i=10*i+(o-48)}return n[t]=i,n},decode:(e,n)=>(n=~~n,`${e[n++]}.${e[n++]}.${e[n++]}.${e[n]}`)},su={name:"v6",size:16,isFormat:e=>e.length>0&&wZ.test(e),encode(e,n,t){let r=16+(t=~~t),i=-1,s=0,o=0,a=!0,p=!1;n=n||new Uint8Array(t+16);for(let C=0;C<e.length;C++){let x=e.charCodeAt(C);58===x?(a?-1!==i?(t<r&&(n[t]=0),t<r-1&&(n[t+1]=0),t+=2):t<r&&(i=t):(!0===p?(t<r&&(n[t]=o),t++):(t<r&&(n[t]=s>>8),t<r-1&&(n[t+1]=255&s),t+=2),s=0,o=0),a=!0,p=!1):46===x?(t<r&&(n[t]=o),t++,o=0,s=0,a=!1,p=!0):(a=!1,x>=97?x-=87:x>=65?x-=55:(x-=48,o=10*o+x),s=(s<<4)+x)}if(!1===a)!0===p?(t<r&&(n[t]=o),t++):(t<r&&(n[t]=s>>8),t<r-1&&(n[t+1]=255&s),t+=2);else if(0===i)t<r&&(n[t]=0),t<r-1&&(n[t+1]=0),t+=2;else if(-1!==i){t+=2;for(let C=Math.min(t-1,r-1);C>=i+2;C--)n[C]=n[C-2];n[i]=0,n[i+1]=0,i=t}if(i!==t&&-1!==i)for(t>r-2&&(t=r-2);r>i;)n[--r]=t<r&&t>i?n[--t]:0;else for(;t<r;)n[t++]=0;return n},decode(e,n){n=~~n;let t="";for(let r=0;r<16;r+=2)0!==r&&(t+=":"),t+=(e[n+r]<<8|e[n+r+1]).toString(16);return t.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function zF(e){if(Vo.isFormat(e))return Vo.size;if(su.isFormat(e))return su.size;throw Error(`Invalid ip address: ${e}`)}function sy(e){switch(e){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+e}function fp(e){switch(e.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return e.toUpperCase().startsWith("UNKNOWN_")?parseInt(e.slice(8)):0}function SZ(e){switch(e){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+e}function _Z(e){switch(e){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+e}function KF(e){switch(e){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+e}function WF(e){switch(e.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function GF(e){if("number"==typeof e)return e;if(!e)return-1;switch(e.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const n=e.match(/_(\d+)$/);return n?parseInt(n[1],10):-1}const u1=55296,pp=56320;function JF(e){let n=0;const t=e.length;for(let r=0;r<t;r+=1){const i=e.charCodeAt(r);if(i<=127)n+=1;else if(i<=2047)n+=2;else if((63488&i)!==u1)n+=3;else{const s=r+1;s===t||i>=pp||(64512&e.charCodeAt(s))!==pp?n+=3:(r=s,n+=4)}}return n}function hp(e,n,t){const r=e.length;null==t&&(t=0),void 0===n&&(n=new Uint8Array(JF(e)+t));let i=t;for(let s=0;s<r;s+=1){let o=e.charCodeAt(s);if(o<=127)n[i++]=o;else if(o<=2047)n[i++]=192|(1984&o)>>6,n[i++]=128|63&o;else if((63488&o)!==u1)n[i++]=224|(61440&o)>>12,n[i++]=128|(4032&o)>>6,n[i++]=128|63&o;else{const a=s+1;if(a===r||o>=pp)n[i++]=239,n[i++]=191,n[i++]=189;else{const p=e.charCodeAt(a);(64512&p)!==pp?(n[i++]=239,n[i++]=191,n[i++]=189):(s=a,o=65536|(1023&o)<<10|1023&p,n[i++]=240|(1835008&o)>>18,n[i++]=128|(258048&o)>>12,n[i++]=128|(4032&o)>>6,n[i++]=128|63&o)}}}return hp.bytes=i-t,n}function mp(e,n,t){let r="";null==n&&(n=0),null==t&&(t=e.length);for(let i=n;i<t;){const s=e[i++];let o;s<=128?o=s:s>191&&s<224?o=(31&s)<<6|63&e[i++]:s>239&&s<365?(o=((7&s)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536,r+=String.fromCharCode(u1|o>>10&1023),o=pp|1023&o):o=(15&s)<<12|(63&e[i++])<<6|63&e[i++],r+=String.fromCharCode(o)}return mp.bytes=t-n,r}hp.bytes=0,mp.bytes=0;const cc=e=>e instanceof Uint8Array;function ou(e){return"string"==typeof e?JF(e):e.byteLength}function c1(e){return e instanceof Uint8Array?e:Array.isArray(e)?new Uint8Array(e):hp(e)}function l1(e,n,t){if("string"!=typeof n)throw new Error("unknown input type");return hp(n,e,t),hp.bytes}const gp={},ZF=new Array(255);for(let e=0;e<=15;e+=1){const n=e.toString(16),t=n.toUpperCase();for(let r=0;r<=15;r+=1){const i=r.toString(16),s=i.toUpperCase(),o=e<<4|r,a=`${n}${i}`;ZF[o]=a,gp[a]=o,gp[`${t}${i}`]=o,gp[`${n}${s}`]=o,gp[`${t}${s}`]=o}}function qF(e){return e.length>>>1}const xZ=Math.pow(2,24),TZ=Math.pow(2,16),OZ=Math.pow(2,8),Ea=(e,n)=>e[n]*xZ+e[n+1]*TZ+e[n+2]*OZ+e[n+3],fn=(e,n)=>e[n]<<8|e[n+1],ba=(e,n,t)=>(e[t+3]=n=+n,e[t+2]=n>>>=8,e[t+1]=n>>>=8,e[t]=n>>>=8,t+4),Kt=(e,n,t)=>(e[t]=n>>8,e[t+1]=255&n,t+2);function hs(e,n,t,r,i){return t<0&&(r-=t,t=0),r<0&&(r=0),i<0?new Uint8Array(0):t>=n.length||r>=i?0:function PZ(e,n,t,r,i){i-r>n.length-t&&(i=r+n.length-t);let s=i-r;const o=e.length-r;return s>o&&(s=o),(0!==r||i<e.length)&&(e=new Uint8Array(e.buffer,e.byteOffset+r,s)),n.set(e,t),s}(e,n,t,r,i)}function nr({bytes:e=0,encode:n,decode:t,encodingLength:r}){return n.bytes=e,t.bytes=e,{encode:n,decode:t,encodingLength:r||(()=>e)}}const Nt=nr({encode(e,n,t){n||(n=new Uint8Array(Nt.encodingLength(e))),t||(t=0);const r=t,i=e.replace(/^\.|\.$/gm,"");if(i.length){const s=i.split(".");for(let o=0;o<s.length;o++){const a=l1(n,s[o],t+1);n[t]=a,t+=a+1}}return n[t++]=0,Nt.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=[];let r=n,i=0,s=0,o=!1;for(;;){if(n>=e.length)throw new Error("Cannot decode name (buffer overflow)");const a=e[n++];if(s+=o?0:1,0===a)break;if(192&a){if(192&~a)throw new Error("Cannot decode name (bad label)");{if(n+1>e.length)throw new Error("Cannot decode name (buffer overflow)");const p=fn(e,n-1)-49152;if(p>=r)throw new Error("Cannot decode name (bad pointer)");n=p,r=p,s+=o?0:1,o=!0}}else{if(n+a>e.length)throw new Error("Cannot decode name (buffer overflow)");if(i+=a+1,i>254)throw new Error("Cannot decode name (name too long)");t.push(mp(e,n,n+a)),n+=a,s+=o?0:a}}return Nt.decode.bytes=s,0===t.length?".":t.join(".")},encodingLength:e=>"."===e||".."===e?1:ou(e.replace(/^\.|\.$/gm,""))+2}),Jr=nr({encode(e,n,t){n||(n=new Uint8Array(Jr.encodingLength(e))),t||(t=0);const r=l1(n,e,t+1);return n[t]=r,Jr.encode.bytes=r+1,n},decode(e,n){n||(n=0);const t=e[n],r=mp(e,n+1,n+1+t);return Jr.decode.bytes=t+1,r},encodingLength:e=>ou(e)+1}),Ll=nr({bytes:12,encode(e,n,t){n||(n=new Uint8Array(Ll.encodingLength(e))),t||(t=0);const r=32767&(e.flags||0),i="response"===e.type?32768:0;return Kt(n,e.id||0,t),Kt(n,r|i,t+2),Kt(n,e.questions.length,t+4),Kt(n,e.answers.length,t+6),Kt(n,e.authorities.length,t+8),Kt(n,e.additionals.length,t+10),n},decode(e,n){if(n||(n=0),e.length<12)throw new Error("Header must be 12 bytes");const t=fn(e,n+2);return{id:fn(e,n),type:32768&t?"response":"query",flags:32767&t,flag_qr:1==(t>>15&1),opcode:_Z(t>>11&15),flag_aa:1==(t>>10&1),flag_tc:1==(t>>9&1),flag_rd:1==(t>>8&1),flag_ra:1==(t>>7&1),flag_z:1==(t>>6&1),flag_ad:1==(t>>5&1),flag_cd:1==(t>>4&1),rcode:SZ(15&t),questions:new Array(fn(e,n+4)),answers:new Array(fn(e,n+6)),authorities:new Array(fn(e,n+8)),additionals:new Array(fn(e,n+10))}},encodingLength:()=>12}),oy=nr({encode(e,n,t){n||(n=new Uint8Array(oy.encodingLength(e))),t||(t=0);const r=e.length;return Kt(n,r,t),hs(e,n,t+2,0,r),oy.encode.bytes=r+2,n},decode(e,n){n||(n=0);const t=fn(e,n),r=e.slice(n+2,n+2+t);return oy.decode.bytes=t+2,r},encodingLength:e=>e.length+2}),ay=nr({encode:(e,n,t)=>(n||(n=new Uint8Array(ay.encodingLength(e))),t||(t=0),Nt.encode(e,n,t+2),Kt(n,Nt.encode.bytes,t),ay.encode.bytes=Nt.encode.bytes+2,n),decode(e,n){n||(n=0);const t=fn(e,n),r=Nt.decode(e,n+2);return ay.decode.bytes=t+2,r},encodingLength:e=>Nt.encodingLength(e)+2}),uy=nr({encode(e,n,t){n||(n=new Uint8Array(uy.encodingLength(e))),t||(t=0);const r=t;return Nt.encode(e.mname,n,t+=2),Nt.encode(e.rname,n,t+=Nt.encode.bytes),ba(n,e.serial||0,t+=Nt.encode.bytes),ba(n,e.refresh||0,t+=4),ba(n,e.retry||0,t+=4),ba(n,e.expire||0,t+=4),ba(n,e.minimum||0,t+=4),Kt(n,(t+=4)-r-2,r),uy.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=n,r={};return r.mname=Nt.decode(e,n+=2),r.rname=Nt.decode(e,n+=Nt.decode.bytes),r.serial=Ea(e,n+=Nt.decode.bytes),r.refresh=Ea(e,n+=4),r.retry=Ea(e,n+=4),r.expire=Ea(e,n+=4),r.minimum=Ea(e,n+=4),uy.decode.bytes=(n+=4)-t,r},encodingLength:e=>22+Nt.encodingLength(e.mname)+Nt.encodingLength(e.rname)}),cy=nr({encode(e,n,t){Array.isArray(e)||(e=[e]);for(let i=0;i<e.length;i++)if("string"==typeof e[i]&&(e[i]=c1(e[i])),!cc(e[i]))throw new Error("Must be a Buffer");n||(n=new Uint8Array(cy.encodingLength(e))),t||(t=0);const r=t;return t+=2,e.forEach(function(i){n[t++]=i.length,hs(i,n,t,0,i.length),t+=i.length}),Kt(n,t-r-2,r),cy.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=n;let r=fn(e,n);n+=2;const i=[];for(;r>0;){const s=e[n++];if(--r,r<s)throw new Error("Buffer overflow");i.push(e.slice(n,n+s)),n+=s,r-=s}return cy.decode.bytes=n-t,i},encodingLength(e){Array.isArray(e)||(e=[e]);let n=2;return e.forEach(function(t){n+="string"==typeof t?ou(t)+1:t.length+1}),n}}),ly=nr({encode(e,n,t){n||(n=new Uint8Array(ly.encodingLength(e))),t||(t=0),"string"==typeof e&&(e=c1(e)),e||(e=new Uint8Array(0));const r=t,i=e.length;return hs(e,n,t+=2,0,i),Kt(n,(t+=i)-r-2,r),ly.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=n,r=fn(e,n),i=e.slice(n+=2,n+r);return ly.decode.bytes=(n+=r)-t,i},encodingLength:e=>e?(cc(e)?e.length:ou(e))+2:2}),dy=nr({encode(e,n,t){n||(n=new Uint8Array(dy.encodingLength(e))),t||(t=0);const r=t;return Jr.encode(e.cpu,n,t+=2),Jr.encode(e.os,n,t+=Jr.encode.bytes),Kt(n,(t+=Jr.encode.bytes)-r-2,r),dy.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=n,r={};return r.cpu=Jr.decode(e,n+=2),r.os=Jr.decode(e,n+=Jr.decode.bytes),dy.decode.bytes=(n+=Jr.decode.bytes)-t,r},encodingLength:e=>Jr.encodingLength(e.cpu)+Jr.encodingLength(e.os)+2}),$l=nr({encode:(e,n,t)=>(n||(n=new Uint8Array($l.encodingLength(e))),t||(t=0),Nt.encode(e,n,t+2),Kt(n,Nt.encode.bytes,t),$l.encode.bytes=Nt.encode.bytes+2,n),decode(e,n){n||(n=0);const t=Nt.decode(e,n+2);return $l.decode.bytes=Nt.decode.bytes+2,t},encodingLength:e=>Nt.encodingLength(e)+2}),fy=nr({encode(e,n,t){n||(n=new Uint8Array(fy.encodingLength(e))),t||(t=0),Kt(n,e.priority||0,t+2),Kt(n,e.weight||0,t+4),Kt(n,e.port||0,t+6),Nt.encode(e.target,n,t+8);const r=Nt.encode.bytes+6;return Kt(n,r,t),fy.encode.bytes=r+2,n},decode(e,n){n||(n=0);const t=fn(e,n),r={};return r.priority=fn(e,n+2),r.weight=fn(e,n+4),r.port=fn(e,n+6),r.target=Nt.decode(e,n+8),fy.decode.bytes=t+2,r},encodingLength:e=>8+Nt.encodingLength(e.target)}),au=nr({encode(e,n,t){const r=au.encodingLength(e);return n||(n=new Uint8Array(au.encodingLength(e))),t||(t=0),e.issuerCritical&&(e.flags=au.ISSUER_CRITICAL),Kt(n,r-2,t),n[t+=2]=e.flags||0,Jr.encode(e.tag,n,t+=1),l1(n,e.value,t+=Jr.encode.bytes),t+=ou(e.value),au.encode.bytes=r,n},decode(e,n){n||(n=0);const t=fn(e,n),r=n+=2,i={};return i.flags=e[n],i.tag=Jr.decode(e,n+=1),i.value=mp(e,n+=Jr.decode.bytes,r+t),i.issuerCritical=!!(i.flags&au.ISSUER_CRITICAL),au.decode.bytes=t+2,i},encodingLength:e=>Jr.encodingLength(e.tag)+Jr.encodingLength(e.value)+2});au.ISSUER_CRITICAL=128;const py=nr({encode(e,n,t){n||(n=new Uint8Array(py.encodingLength(e))),t||(t=0);const r=t;return Kt(n,e.preference||0,t+=2),Nt.encode(e.exchange,n,t+=2),Kt(n,(t+=Nt.encode.bytes)-r-2,r),py.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=n,r={};return r.preference=fn(e,n+=2),r.exchange=Nt.decode(e,n+=2),py.decode.bytes=(n+=Nt.decode.bytes)-t,r},encodingLength:e=>4+Nt.encodingLength(e.exchange)}),QF=nr({encode:(e,n,t)=>(n||(n=new Uint8Array(QF.encodingLength(e))),t||(t=0),Kt(n,4,t),Vo.encode(e,n,t+=2),n),decode:(e,n)=>(n||(n=0),Vo.decode(e,n+=2)),bytes:6}),hy=nr({encode:(e,n,t)=>(n||(n=new Uint8Array(hy.encodingLength(e))),t||(t=0),Kt(n,16,t),su.encode(e,n,t+=2),hy.encode.bytes=18,n),decode(e,n){n||(n=0);const t=su.decode(e,n+=2);return hy.decode.bytes=18,t},bytes:18}),e8=e=>new Uint8Array(e),Da=nr({encode(e,n,t){n||(n=new Uint8Array(Da.encodingLength(e))),t||(t=0);const r=t,i=GF(e.code);if(Kt(n,i,t),t+=2,e.data)Kt(n,e.data.length,t),hs(e.data,n,t+=2),t+=e.data.length;else switch(i){case 8:{const s=e.sourcePrefixLength||0,o=e.family||function EZ(e){return zF(e)===Vo.size?1:2}(e.ip),a=function bZ(e,n,t){t=~~t;const r=zF(e);return"function"==typeof n&&(n=n(t+r)),r===Vo.size?Vo.encode(e,n,t):su.encode(e,n,t)}(e.ip,e8),p=Math.ceil(s/8);Kt(n,p+4,t),Kt(n,o,t+=2),t+=2,n[t++]=s,n[t++]=e.scopePrefixLength||0,hs(a,n,t,0,p),t+=p}break;case 11:e.timeout?(Kt(n,2,t),Kt(n,e.timeout,t+=2),t+=2):(Kt(n,0,t),t+=2);break;case 12:{const s=e.length||0;Kt(n,s,t),n.fill(0,t+=2,t+s),t+=s}break;case 14:Kt(n,2*e.tags.length,t),t+=2;for(const o of e.tags)Kt(n,o,t),t+=2;break;default:throw new Error(`Unknown roption code: ${e.code}`)}return Da.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t={};t.code=fn(e,n),t.type=function AZ(e){switch(e){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return e<0?null:`OPTION_${e}`}(t.code);const r=fn(e,n+=2);switch(t.data=e.slice(n+=2,n+r),t.code){case 8:t.family=fn(e,n),n+=2,t.sourcePrefixLength=e[n++],t.scopePrefixLength=e[n++];{const i=new Uint8Array(1===t.family?4:16);hs(e,i,0,n,n+r-4),t.ip=function DZ(e,n,t){if(n=~~n,(t=t||e.length-n)===Vo.size)return Vo.decode(e,n,t);if(t===su.size)return su.decode(e,n,t);throw Error(`Invalid buffer size needs to be ${Vo.size} for v4 or ${su.size} for v6.`)}(i)}break;case 11:r>0&&(t.timeout=fn(e,n),n+=2);break;case 14:t.tags=[];for(let i=0;i<r;i+=2)t.tags.push(fn(e,n)),n+=2}return Da.decode.bytes=r+4,t},encodingLength(e){if(e.data)return e.data.length+4;switch(GF(e.code)){case 8:return Math.ceil((e.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof e.timeout?6:4;case 12:return e.length+4;case 14:return 4+2*e.tags.length}throw new Error(`Unknown roption code: ${e.code}`)}}),uu=nr({encode(e,n,t){n||(n=new Uint8Array(uu.encodingLength(e))),t||(t=0);const r=t,i=Vl(e,Da);return Kt(n,i,t),t=Dp(e,Da,n,t+2),uu.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t=n,r=[];let i=fn(e,n);n+=2;let s=0;for(;i>0;)r[s++]=Da.decode(e,n),n+=Da.decode.bytes,i-=Da.decode.bytes;return uu.decode.bytes=n-t,r},encodingLength:e=>2+Vl(e||[],Da)}),Ho=nr({encode(e,n,t){n||(n=new Uint8Array(Ho.encodingLength(e))),t||(t=0);const r=t,i=e.key;if(!cc(i))throw new Error("Key must be a Buffer");return Kt(n,e.flags,t+=2),n[t+=2]=Ho.PROTOCOL_DNSSEC,n[t+=1]=e.algorithm,hs(i,n,t+=1,0,i.length),Ho.encode.bytes=(t+=i.length)-r,Kt(n,Ho.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={},i=fn(e,n);if(r.flags=fn(e,n+=2),e[n+=2]!==Ho.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return r.algorithm=e[n+=1],r.key=e.slice(n+=1,t+i+2),Ho.decode.bytes=(n+=r.key.length)-t,r},encodingLength:e=>6+ou(e.key)});Ho.PROTOCOL_DNSSEC=3,Ho.ZONE_KEY=128,Ho.SECURE_ENTRYPOINT=32768;const yp=nr({encode(e,n,t){n||(n=new Uint8Array(yp.encodingLength(e))),t||(t=0);const r=t,i=e.signature;if(!cc(i))throw new Error("Signature must be a Buffer");return t+=2,Kt(n,fp(e.typeCovered),t),n[t+=2]=e.algorithm,n[t+=1]=e.labels,ba(n,e.originalTTL,t+=1),ba(n,e.expiration,t+=4),ba(n,e.inception,t+=4),Kt(n,e.keyTag,t+=4),Nt.encode(e.signersName,n,t+=2),hs(i,n,t+=Nt.encode.bytes,0,i.length),yp.encode.bytes=(t+=i.length)-r,Kt(n,yp.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={},i=fn(e,n);return r.typeCovered=sy(fn(e,n+=2)),r.algorithm=e[n+=2],r.labels=e[n+=1],r.originalTTL=Ea(e,n+=1),r.expiration=Ea(e,n+=4),r.inception=Ea(e,n+=4),r.keyTag=fn(e,n+=4),r.signersName=Nt.decode(e,n+=2),r.signature=e.slice(n+=Nt.decode.bytes,t+i+2),yp.decode.bytes=(n+=r.signature.length)-t,r},encodingLength:e=>20+Nt.encodingLength(e.signersName)+ou(e.signature)}),vp=nr({encode(e,n,t){n||(n=new Uint8Array(vp.encodingLength(e))),t||(t=0);const r=t;return Nt.encode(e.mbox||".",n,t+=2),Nt.encode(e.txt||".",n,t+=Nt.encode.bytes),vp.encode.bytes=(t+=Nt.encode.bytes)-r,Kt(n,vp.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={};return r.mbox=Nt.decode(e,n+=2)||".",r.txt=Nt.decode(e,n+=Nt.decode.bytes)||".",vp.decode.bytes=(n+=Nt.decode.bytes)-t,r},encodingLength:e=>2+Nt.encodingLength(e.mbox||".")+Nt.encodingLength(e.txt||".")}),gs=nr({encode(e,n,t){n||(n=new Uint8Array(gs.encodingLength(e))),t||(t=0);const r=t,i=[];for(let s=0;s<e.length;s++){const o=fp(e[s]);void 0===i[o>>8]&&(i[o>>8]=[]),i[o>>8][o>>3&31]|=1<<7-(7&o)}for(let s=0;s<i.length;s++)if(void 0!==i[s]){const o=c1(i[s]);n[t]=s,n[t+=1]=o.length,hs(o,n,t+=1,0,o.length),t+=o.length}return gs.encode.bytes=t-r,n},decode(e,n,t){n||(n=0);const r=n,i=[];for(;n-r<t;){const s=e[n],o=e[n+=1];n+=1;for(let a=0;a<o;a++){const p=e[n+a];for(let C=0;C<8;C++)if(p&1<<7-C){const x=sy(s<<8|a<<3|C);i.push(x)}}n+=o}return gs.decode.bytes=n-r,i},encodingLength(e){const n=[];for(let r=0;r<e.length;r++){const i=fp(e[r]);n[i>>8]=Math.max(n[i>>8]||0,255&i)}let t=0;for(let r=0;r<n.length;r++)void 0!==n[r]&&(t+=2+Math.ceil((n[r]+1)/8));return t}}),wp=nr({encode(e,n,t){n||(n=new Uint8Array(wp.encodingLength(e))),t||(t=0);const r=t;return Nt.encode(e.nextDomain,n,t+=2),gs.encode(e.rrtypes,n,t+=Nt.encode.bytes),wp.encode.bytes=(t+=gs.encode.bytes)-r,Kt(n,wp.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={},i=fn(e,n);return r.nextDomain=Nt.decode(e,n+=2),r.rrtypes=gs.decode(e,n+=Nt.decode.bytes,i-(n-t)),wp.decode.bytes=(n+=gs.decode.bytes)-t,r},encodingLength:e=>2+Nt.encodingLength(e.nextDomain)+gs.encodingLength(e.rrtypes)}),Ep=nr({encode(e,n,t){n||(n=new Uint8Array(Ep.encodingLength(e))),t||(t=0);const r=t,i=e.salt;if(!cc(i))throw new Error("salt must be a Buffer");const s=e.nextDomain;if(!cc(s))throw new Error("nextDomain must be a Buffer");return n[t+=2]=e.algorithm,n[t+=1]=e.flags,Kt(n,e.iterations,t+=1),n[t+=2]=i.length,hs(i,n,t+=1,0,i.length),n[t+=i.length]=s.length,hs(s,n,t+=1,0,s.length),gs.encode(e.rrtypes,n,t+=s.length),Ep.encode.bytes=(t+=gs.encode.bytes)-r,Kt(n,Ep.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={},i=fn(e,n);r.algorithm=e[n+=2],r.flags=e[n+=1],r.iterations=fn(e,n+=1);const s=e[n+=2];r.salt=e.slice(n+=1,n+s);const o=e[n+=s];return r.nextDomain=e.slice(n+=1,n+o),r.rrtypes=gs.decode(e,n+=o,i-(n-t)),Ep.decode.bytes=(n+=gs.decode.bytes)-t,r},encodingLength:e=>8+e.salt.length+e.nextDomain.length+gs.encodingLength(e.rrtypes)}),bp=nr({encode(e,n,t){n||(n=new Uint8Array(bp.encodingLength(e))),t||(t=0);const r=t,i=e.digest;if(!cc(i))throw new Error("Digest must be a Buffer");return Kt(n,e.keyTag,t+=2),n[t+=2]=e.algorithm,n[t+=1]=e.digestType,hs(i,n,t+=1,0,i.length),bp.encode.bytes=(t+=i.length)-r,Kt(n,bp.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={},i=fn(e,n);return r.keyTag=fn(e,n+=2),r.algorithm=e[n+=2],r.digestType=e[n+=1],r.digest=e.slice(n+=1,t+i+2),bp.decode.bytes=(n+=r.digest.length)-t,r},encodingLength:e=>6+ou(e.digest)}),jl=nr({encode(e,n,t){n||(n=new Uint8Array(jl.encodingLength(e))),t||(t=0);const r=t;n[t+=2]=e.algorithm,n[t+=1]=e.hash,t+=1;const i=qF(e.fingerprint),s=f1(e.hash);if(i!==s)throw new Error(`Invalid length of fingerprint "${e.fingerprint}" for hashType=${e.hash}: ${i} != ${s}`);return function IZ(e,n,t,r){let i=0;for(;t<r;){const s=n.substr(i,2),o=gp[s];if(void 0===o)return;e[t++]=o,i+=2}}(n,e.fingerprint,t,t+=i),jl.encode.bytes=t-r,Kt(n,jl.encode.bytes-2,r),n},decode(e,n){n||(n=0);const t=n,r={};r.algorithm=e[n+=2],r.hash=e[n+=1],n+=1;const i=f1(r.hash);return r.fingerprint=function CZ(e,n,t){let r="";for(let i=n;i<t;){const s=e[i++];r+=ZF[s]}return r}(e,n,n+i),jl.decode.bytes=(n+=i)-t,r},encodingLength:e=>4+qF(e.fingerprint)});function f1(e){if(1===e)return 20;if(2===e)return 32;throw new Error(`Invalid hashType=${e}, supported=1,2`)}function p1(e){switch(e.toUpperCase()){case"A":return QF;case"PTR":case"CNAME":case"DNAME":return $l;case"TXT":return cy;case"NULL":return ly;case"AAAA":return hy;case"SRV":return fy;case"HINFO":return dy;case"CAA":return au;case"NS":return ay;case"SOA":return uy;case"MX":return py;case"OPT":return uu;case"DNSKEY":return Ho;case"RRSIG":return yp;case"RP":return vp;case"NSEC":return wp;case"NSEC3":return Ep;case"SSHFP":return jl;case"DS":return bp}return oy}jl.getFingerprintLengthForHashType=f1;const ks=nr({encode(e,n,t){n||(n=new Uint8Array(ks.encodingLength(e))),t||(t=0);const r=t;if(Nt.encode(e.name,n,t),t+=Nt.encode.bytes,Kt(n,fp(e.type),t),"OPT"===e.type.toUpperCase()){if("."!==e.name)throw new Error("OPT name must be root.");Kt(n,e.udpPayloadSize||4096,t+2),n[t+4]=e.extendedRcode||0,n[t+5]=e.ednsVersion||0,Kt(n,e.flags||0,t+6),uu.encode(e.options||[],n,t+=8),t+=uu.encode.bytes}else{let i=WF(void 0===e.class?"IN":e.class);e.flush&&(i|=32768),Kt(n,i,t+2),ba(n,e.ttl||0,t+4),t+=8;const s=p1(e.type);s.encode(e.data,n,t),t+=s.encode.bytes}return ks.encode.bytes=t-r,n},decode(e,n){n||(n=0);const t={},r=n;if(t.name=Nt.decode(e,n),t.type=sy(fn(e,n+=Nt.decode.bytes)),"OPT"===t.type)t.udpPayloadSize=fn(e,n+2),t.extendedRcode=e[n+4],t.ednsVersion=e[n+5],t.flags=fn(e,n+6),t.flag_do=1==(t.flags>>15&1),t.options=uu.decode(e,n+8),n+=8+uu.decode.bytes;else{const i=fn(e,n+2);t.ttl=Ea(e,n+4),t.class=KF(-32769&i),t.flush=!!(32768&i);const s=p1(t.type);t.data=s.decode(e,n+8),n+=8+s.decode.bytes}return ks.decode.bytes=n-r,t},encodingLength(e){const n=null!=e.data?e.data:e.options;return Nt.encodingLength(e.name)+8+p1(e.type).encodingLength(n)}}),Ul=nr({encode(e,n,t){n||(n=new Uint8Array(Ul.encodingLength(e))),t||(t=0);const r=t;return Nt.encode(e.name,n,t),t+=Nt.encode.bytes,Kt(n,fp(e.type),t),t+=2,Kt(n,WF(void 0===e.class?"IN":e.class),t),Ul.encode.bytes=(t+=2)-r,e},decode(e,n){n||(n=0);const t=n,r={};return r.name=Nt.decode(e,n),r.type=sy(fn(e,n+=Nt.decode.bytes)),r.class=KF(fn(e,n+=2)),n+=2,!!(32768&r.class)&&(r.class&=-32769),Ul.decode.bytes=n-t,r},encodingLength:e=>Nt.encodingLength(e.name)+4}),pi={encode:function(e,n,t){const r=!n;r&&(n=new Uint8Array(BZ(e))),t||(t=0);const i=t;return e.questions||(e.questions=[]),e.answers||(e.answers=[]),e.authorities||(e.authorities=[]),e.additionals||(e.additionals=[]),Ll.encode(e,n,t),t=Dp(e.questions,Ul,n,t+=Ll.encode.bytes),t=Dp(e.answers,ks,n,t),t=Dp(e.authorities,ks,n,t),t=Dp(e.additionals,ks,n,t),pi.encode.bytes=t-i,r&&vy.bytes!==n.length?n.slice(0,vy.bytes):n},decode:function(e,n){n||(n=0);const t=n,r=Ll.decode(e,n);return n=wy(r.questions,Ul,e,n+=Ll.decode.bytes),n=wy(r.answers,ks,e,n),n=wy(r.authorities,ks,e,n),n=wy(r.additionals,ks,e,n),pi.decode.bytes=n-t,r},encodingLength:function(e){return Ll.encodingLength(e)+Vl(e.questions||[],Ul)+Vl(e.answers||[],ks)+Vl(e.authorities||[],ks)+Vl(e.additionals||[],ks)}};function my(e,n){if(e.questions)throw new Error("Only one .question object expected instead of a .questions array!");const t=Object.assign({type:n},e);return t.question&&(t.questions=[t.question],delete t.question),t}pi.encode.bytes=0,pi.decode.bytes=0;const gy={encode:function(e,n,t){return n=pi.encode(my(e,"query"),n,t),gy.encode.bytes=pi.encode.bytes,n},decode:function(e,n){const t=pi.decode(e,n);return gy.decode.bytes=pi.decode.bytes,t.questions&&(t.question=t.questions[0],delete t.questions),t},encodingLength:function(e){return pi.encodingLength(my(e,"query"))}};gy.encode.bytes=0,gy.decode.bytes=0;const yy={encode:function(e,n,t){return n=pi.encode(my(e,"response"),n,t),yy.encode.bytes=pi.encode.bytes,n},decode:function(e,n){const t=pi.decode(e,n);return yy.decode.bytes=pi.decode.bytes,t.questions&&(t.question=t.questions[0],delete t.questions),t},encodingLength:function(e){return pi.encodingLength(my(e,"response"))}};yy.encode.bytes=0,yy.decode.bytes=0;const vy=pi.encode,h1=pi.decode,BZ=pi.encodingLength;function Vl(e,n){let t=0;for(let r=0;r<e.length;r++)t+=n.encodingLength(e[r]);return t}function Dp(e,n,t,r){for(let i=0;i<e.length;i++)n.encode(e[i],t,r),r+=n.encode.bytes;return r}function wy(e,n,t,r){for(let i=0;i<e.length;i++)e[i]=n.decode(t,r),r+=n.decode.bytes;return r}var r8=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class Sp{static getSigningMethod(n){return r8(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(n,t){return r8(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var ti=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})},i8=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};const s8="https://diddht.tbddev.org",cu=7200,Vi=",";var o8=function(e){return e[e.Discoverable=0]="Discoverable",e[e.Organization=1]="Organization",e[e.Government=2]="Government",e[e.Corporation=3]="Corporation",e[e.LocalBusiness=4]="LocalBusiness",e[e.SoftwarePackage=5]="SoftwarePackage",e[e.WebApp=6]="WebApp",e[e.FinancialInstitution=7]="FinancialInstitution",e}(o8||{}),es=function(e){return e[e.Ed25519=0]="Ed25519",e[e.secp256k1=1]="secp256k1",e[e.secp256r1=2]="secp256r1",e[e.X25519=3]="X25519",e}(es||{}),a8=function(e){return e.authentication="auth",e.assertionMethod="asm",e.capabilityDelegation="del",e.capabilityInvocation="inv",e.keyAgreement="agm",e}(a8||{});const u8={Ed25519:es.Ed25519,ES256K:es.secp256k1,ES256:es.secp256r1,"P-256":es.secp256r1,secp256k1:es.secp256k1,secp256r1:es.secp256r1,X25519:es.X25519},c8={[es.Ed25519]:"EdDSA",[es.secp256k1]:"ES256K",[es.secp256r1]:"ES256",[es.X25519]:"ECDH-ES+A256KW"};let m1=(()=>{class e extends Sp{static create(){return ti(this,arguments,void 0,function*({keyManager:t=new jo,options:r={}}={}){var i,s,o,a,p,C,x,U,ue,ce,ge;if(null!==(i=r.verificationMethods)&&void 0!==i&&i.some(nt=>!(nt.algorithm in u8)))throw new Error("One or more verification method algorithms are not supported");const Re=null===(s=r.verificationMethods)||void 0===s?void 0:s.filter(nt=>"id"in nt).map(nt=>nt.id);if(Re&&Re.length!==new Set(Re).size)throw new Error("One or more verification method IDs are not unique");if(null!==(o=r.services)&&void 0!==o&&o.some(nt=>!nt.id||!nt.type||!nt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ue=yield t.generateKey({algorithm:"Ed25519"}),We=yield t.getPublicKey({keyUri:Ue}),He=yield Br.identityKeyToIdentifier({identityKey:We}),Je=Object.assign(Object.assign({id:He},r.alsoKnownAs&&{alsoKnownAs:r.alsoKnownAs}),r.controllers&&{controller:r.controllers}),Xe=[...null!==(a=r.verificationMethods)&&void 0!==a?a:[]];Xe?.some(nt=>{var st;return"0"===(null===(st=nt.id)||void 0===st?void 0:st.split("#").pop())})||Xe.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const nt of Xe){const st=nt.id&&"0"===nt.id.split("#").pop()?Ue:yield t.generateKey({algorithm:nt.algorithm}),mt=yield t.getPublicKey({keyUri:st});let St=null!==(C=null!==(p=nt.id)&&void 0!==p?p:mt.kid)&&void 0!==C?C:yield Kn({jwk:mt});St=`${He}#${uo(St)}`,null!==(x=Je.verificationMethod)&&void 0!==x||(Je.verificationMethod=[]),Je.verificationMethod.push({id:St,type:"JsonWebKey",controller:null!==(U=nt.controller)&&void 0!==U?U:He,publicKeyJwk:mt});for(const bt of null!==(ue=nt.purposes)&&void 0!==ue?ue:[])Je[bt]||(Je[bt]=[]),Je[bt].push(St)}null===(ce=r.services)||void 0===ce||ce.forEach(nt=>{var st;null!==(st=Je.service)&&void 0!==st||(Je.service=[]),nt.id=`${He}#${nt.id.split("#").pop()}`,Je.service.push(nt)});const et=new Uo({uri:He,document:Je,metadata:Object.assign({published:!1},r.types&&{types:r.types}),keyManager:t});if(null===(ge=r.publish)||void 0===ge||ge){const nt=yield e.publish({did:et,gatewayUri:r.gatewayUri});et.metadata=nt.didDocumentMetadata}return et})}static import(t){return ti(this,arguments,void 0,function*({portableDid:r,keyManager:i=new jo}){var s;const o=Rn.parse(r.uri);if(o?.method!==e.methodName)throw new Ut(Vt.MethodNotSupported,"Method not supported");const a=yield Uo.import({portableDid:r,keyManager:i});if(null===(s=a.document.verificationMethod)||void 0===s||!s.some(p=>{var C;return"0"===(null===(C=p.id)||void 0===C?void 0:C.split("#").pop())}))throw new Ut(Vt.InvalidDidDocument,"DID document must contain an Identity Key");return a})}static getSigningMethod(t){return ti(this,arguments,void 0,function*({didDocument:r,methodId:i="#0"}){var s;const o=Rn.parse(r.id);if(o&&o.method!==this.methodName)throw new Ut(Vt.MethodNotSupported,`Method not supported: ${o.method}`);const a=null===(s=r.verificationMethod)||void 0===s?void 0:s.find(p=>{var C,x;return uo(p.id)===(null!==(C=uo(i))&&void 0!==C?C:uo(null===(x=r.assertionMethod)||void 0===x?void 0:x[0]))});if(!a||!a.publicKeyJwk)throw new Ut(Vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return a})}static publish(t){return ti(this,arguments,void 0,function*({did:r,gatewayUri:i=s8}){return yield Sa.put({did:r,gatewayUri:i})})}static resolve(t){return ti(this,arguments,void 0,function*(r,i={}){var s;const o=null!==(s=i?.gatewayUri)&&void 0!==s?s:s8;try{yield Br.identifierToIdentityKey({didUri:r});const{didDocument:a,didDocumentMetadata:p}=yield Sa.get({didUri:r,gatewayUri:o});return Object.assign(Object.assign({},fi),{didDocument:a,didDocumentMetadata:p})}catch(a){if(!(a instanceof Ut))throw new Error(a);return Object.assign(Object.assign({},fi),{didResolutionMetadata:Object.assign({error:a.code},a.message&&{errorMessage:a.message})})}})}}return e.methodName="dht",e})();class Sa{static get(n){return ti(this,arguments,void 0,function*({didUri:t,gatewayUri:r}){const i=Br.identifierToIdentityKeyBytes({didUri:t}),s=yield Sa.pkarrGet({gatewayUri:r,publicKeyBytes:i}),o=yield Br.parseBep44GetMessage({bep44Message:s}),a=yield Sa.fromDnsPacket({didUri:t,dnsPacket:o});return a.didDocumentMetadata.versionId=s.seq.toString(),a})}static put(n){return ti(this,arguments,void 0,function*({did:t,gatewayUri:r}){const i=yield Sa.toDnsPacket({didDocument:t.document,didMetadata:t.metadata,authoritativeGatewayUris:[r]}),s=yield Br.createBep44PutMessage({dnsPacket:i,publicKeyBytes:Br.identifierToIdentityKeyBytes({didUri:t.uri}),signer:yield t.getSigner({methodId:"0"})}),o=yield Sa.pkarrPut({gatewayUri:r,bep44Message:s});return{didDocument:t.document,didDocumentMetadata:Object.assign(Object.assign({},t.metadata),{published:o,versionId:s.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(n){return ti(this,arguments,void 0,function*({gatewayUri:t,publicKeyBytes:r}){const i=Tt.uint8Array(r).toBase32Z(),s=new URL(i,t).href;let o;try{if(o=yield fetch(s,{method:"GET"}),!o.ok)throw new Ut(Vt.NotFound,`Pkarr record not found for: ${i}`)}catch(C){throw C instanceof Ut?C:new Ut(Vt.InternalError,`Failed to fetch Pkarr record: ${C.message}`)}const a=yield o.arrayBuffer();if(!a)throw new Ut(Vt.NotFound,`Pkarr record not found for: ${i}`);if(a.byteLength<72)throw new Ut(Vt.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${a.byteLength}`);if(a.byteLength>1072)throw new Ut(Vt.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${a.byteLength}`);return{k:r,seq:Number(new DataView(a).getBigUint64(64)),sig:new Uint8Array(a,0,64),v:new Uint8Array(a,72)}})}static pkarrPut(n){return ti(this,arguments,void 0,function*({gatewayUri:t,bep44Message:r}){const i=Tt.uint8Array(r.k).toBase32Z(),s=new URL(i,t).href,o=new Uint8Array(r.v.length+72);let a;o.set(r.sig,0),new DataView(o.buffer).setBigUint64(r.sig.length,BigInt(r.seq)),o.set(r.v,r.sig.length+8);try{a=yield fetch(s,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:o})}catch(p){throw new Ut(Vt.InternalError,`Failed to put Pkarr record for identifier ${i}: ${p.message}`)}return a.ok})}static fromDnsPacket(n){return ti(this,arguments,void 0,function*({didUri:t,dnsPacket:r}){var i,s,o;const a={id:t},p={published:!0},C=new Map;for(const x of null!==(i=r?.answers)&&void 0!==i?i:[]){if("TXT"!==x.type)continue;const U=x.name.split(".")[0].substring(1);switch(!0){case U.startsWith("aka"):{const ue=Br.parseTxtDataToString(x.data);a.alsoKnownAs=ue.split(Vi);break}case U.startsWith("cnt"):{const ue=Br.parseTxtDataToString(x.data);a.controller=ue.includes(Vi)?ue.split(Vi):ue;break}case U.startsWith("k"):{const{id:ue,t:ce,k:ge,c:Re,a:Ue}=Br.parseTxtDataToObject(x.data),We=Tt.base64Url(ge).toUint8Array(),He=es[Number(ce)];let Je=yield Br.keyConverter(He).bytesToPublicKey({publicKeyBytes:We});Je.alg=Ue||c8[Number(ce)];const Xe="k0"===U?"0":void 0!==ue?ue:yield Kn({jwk:Je});null!==(s=a.verificationMethod)&&void 0!==s||(a.verificationMethod=[]);const et=`${t}#${Xe}`;a.verificationMethod.push({id:et,type:"JsonWebKey",controller:Re??t,publicKeyJwk:Je}),C.set(U,et);break}case U.startsWith("s"):{const ue=Br.parseTxtDataToObject(x.data),{id:ce,t:ge,se:Re}=ue,Ue=i8(ue,["id","t","se"]),We=Re.includes(Vi)?Re.split(Vi):[Re],He=Object.fromEntries(Object.entries(Ue).map(([Je,Xe])=>[Je,Xe.includes(Vi)?Xe.split(Vi):Xe]));null!==(o=a.service)&&void 0!==o||(a.service=[]),a.service.push(Object.assign(Object.assign({},He),{id:`${t}#${ce}`,type:ge,serviceEndpoint:We}));break}case U.startsWith("typ"):{const{id:ue}=Br.parseTxtDataToObject(x.data);p.types=ue.split(Vi).map(ce=>Number(ce));break}case U.startsWith("did"):{const ue=He=>He.split(Vi).map(Je=>C.get(Je)).filter(Je=>"string"==typeof Je),{auth:ce,asm:ge,del:Re,inv:Ue,agm:We}=Br.parseTxtDataToObject(x.data);ce&&(a.authentication=ue(ce)),ge&&(a.assertionMethod=ue(ge)),Re&&(a.capabilityDelegation=ue(Re)),Ue&&(a.capabilityInvocation=ue(Ue)),We&&(a.keyAgreement=ue(We));break}}}return{didDocument:a,didDocumentMetadata:p,didResolutionMetadata:{}}})}static toDnsPacket(n){return ti(this,arguments,void 0,function*({didDocument:t,didMetadata:r,authoritativeGatewayUris:i,previousDidProof:s}){var o,a,p,C,x;const U=[],ue=[],ce=new Map,ge=[],Re=[];if(void 0!==s){const{signature:He,previousDid:Je}=s;yield Br.validatePreviousDidProof({newDid:t.id,previousDidProof:s}),U.push({type:"TXT",name:"_prv._did.",ttl:cu,data:`id=${Je};s=${He}`})}if(t.alsoKnownAs&&U.push({type:"TXT",name:"_aka._did.",ttl:cu,data:t.alsoKnownAs.join(Vi)}),t.controller){const He=Array.isArray(t.controller)?t.controller.join(Vi):t.controller;U.push({type:"TXT",name:"_cnt._did.",ttl:cu,data:He})}for(const[He,Je]of null!==(a=null===(o=t.verificationMethod)||void 0===o?void 0:o.entries())&&void 0!==a?a:[]){const Xe=`k${He}`;Re.push(Xe);let et=Je.id.split("#").pop();ce.set(et,Xe);const nt=Je.publicKeyJwk;if(!nt?.crv||!(nt.crv in u8))throw new Ut(Vt.InvalidPublicKeyType,`Verification method '${Je.id}' contains an unsupported key type: ${null!==(p=nt?.crv)&&void 0!==p?p:"undefined"}`);const st=es[nt.crv],mt=yield Br.keyConverter(nt.crv).publicKeyToBytes({publicKey:nt}),bt=[`t=${st}`,`k=${Tt.uint8Array(mt).toBase64Url()}`];"0"!==et&&(yield Kn({jwk:nt}))!==et&&bt.unshift(`id=${et}`),nt.alg!==c8[st]&&bt.push(`a=${nt.alg}`),Je.controller!==t.id&&bt.push(`c=${Je.controller}`),U.push({type:"TXT",name:`_${Xe}._did.`,ttl:cu,data:bt.join(";")})}null===(C=t.service)||void 0===C||C.forEach((He,Je)=>{const Xe=`s${Je}`;ge.push(Xe);let{id:et,type:nt,serviceEndpoint:st}=He,mt=i8(He,["id","type","serviceEndpoint"]);et=uo(et),st=Array.isArray(st)?st.join(","):st;const bt=Object.entries(Object.assign({id:et,t:nt,se:st},mt)).map(([bn,gn])=>`${bn}=${gn}`).join(";"),At=Br.chunkDataIfNeeded(bt);U.push({type:"TXT",name:`_${Xe}._did.`,ttl:cu,data:At})});const Ue=["v=0"];if(Re.length&&Ue.push(`vm=${Re.join(Vi)}`),Object.keys(Xg).forEach(He=>{var Je;const Xe=null===(Je=t[He])||void 0===Je?void 0:Je.map(et=>ce.get(et.split("#").pop()));Xe&&Ue.push(`${a8[He]}=${Xe.join(Vi)}`)}),ge.length&&Ue.push(`svc=${ge.join(Vi)}`),null!==(x=r.types)&&void 0!==x&&x.length){const Je=r.types.map(Xe=>"string"==typeof Xe?o8[Xe]:Xe);U.push({type:"TXT",name:"_typ._did.",ttl:cu,data:`id=${Je.join(Vi)}`})}U.push({type:"TXT",name:"_did."+Sa.getUniqueDidSuffix(t.id)+".",ttl:cu,data:Ue.join(";")});for(const He of i||[])ue.push({type:"NS",name:"_did."+Sa.getUniqueDidSuffix(t.id)+".",ttl:cu,data:He+"."});return{id:0,type:"response",flags:1024,answers:[...U,...ue]}})}static getUniqueDidSuffix(n){return n.split(":")[2]}}class Br{static createBep44PutMessage(n){return ti(this,arguments,void 0,function*({dnsPacket:t,publicKeyBytes:r,signer:i}){const s=Math.ceil(Date.now()/1e3),o=vy(t),a=VF.encode({seq:s,v:o}).subarray(1,-1);if(a.length>1e3)throw new Ut(Vt.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${a.length} bytes`);return{k:r,seq:s,sig:yield i.sign({data:a}),v:o}})}static identifierToIdentityKey(n){return ti(this,arguments,void 0,function*({didUri:t}){let r=Br.identifierToIdentityKeyBytes({didUri:t});return yield yr.bytesToPublicKey({publicKeyBytes:r})})}static identifierToIdentityKeyBytes({didUri:n}){const t=Rn.parse(n);if(!t)throw new Ut(Vt.InvalidDid,`Invalid DID URI: ${n}`);if(t.method!==m1.methodName)throw new Ut(Vt.MethodNotSupported,`Method not supported: ${t.method}`);let r;try{r=Tt.base32Z(t.id).toUint8Array()}catch{throw new Ut(Vt.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==r.length)throw new Ut(Vt.InvalidPublicKeyLength,`Invalid public key length: ${r.length}`);return r}static identityKeyToIdentifier(n){return ti(this,arguments,void 0,function*({identityKey:t}){const r=yield yr.publicKeyToBytes({publicKey:t}),i=Tt.uint8Array(r).toBase32Z();return`did:${m1.methodName}:${i}`})}static keyConverter(n){const r={Ed25519:yr,"P-256":{publicKeyToBytes:i=>ti(this,[i],void 0,function*({publicKey:s}){const o=yield gr.publicKeyToBytes({publicKey:s});return yield gr.compressPublicKey({publicKeyBytes:o})}),bytesToPublicKey:gr.bytesToPublicKey,privateKeyToBytes:gr.privateKeyToBytes,bytesToPrivateKey:gr.bytesToPrivateKey},secp256k1:{publicKeyToBytes:i=>ti(this,[i],void 0,function*({publicKey:s}){const o=yield hr.publicKeyToBytes({publicKey:s});return yield hr.compressPublicKey({publicKeyBytes:o})}),bytesToPublicKey:hr.bytesToPublicKey,privateKeyToBytes:hr.privateKeyToBytes,bytesToPrivateKey:hr.bytesToPrivateKey},X25519:uc}[n];if(!r)throw new Ut(Vt.InvalidPublicKeyType,`Unsupported curve: ${n}`);return r}static parseBep44GetMessage(n){return ti(this,arguments,void 0,function*({bep44Message:t}){const r=yield yr.bytesToPublicKey({publicKeyBytes:t.k}),i=VF.encode({seq:t.seq,v:t.v}).subarray(1,-1);if(!(yield yr.verify({key:r,signature:t.sig,data:i})))throw new Ut(Vt.InvalidSignature,"Invalid signature for DHT BEP44 message");return h1(t.v)})}static parseTxtDataToObject(n){return this.parseTxtDataToString(n).split(";").reduce((t,r)=>{const[i,s]=r.split("=");return t[i]=s,t},{})}static parseTxtDataToString(n){if("string"==typeof n)return n;if(n instanceof Uint8Array)return Tt.uint8Array(n).toString();if(Array.isArray(n))return n.map(t=>this.parseTxtDataToString(t)).join("");throw new Ut(Vt.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(n){return ti(this,arguments,void 0,function*({newDid:t,previousDidProof:r}){const i=yield Br.identifierToIdentityKey({didUri:r.previousDid}),s=Br.identifierToIdentityKeyBytes({didUri:t}),o=Tt.base64Url(r.signature).toUint8Array();if(!(yield yr.verify({key:i,data:s,signature:o})))throw new Ut(Vt.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(n){if(n.length<=255)return n;const t=[];for(let r=0;r<n.length;r+=255)t.push(n.slice(r,r+255));return t}}class Ir extends Error{constructor(n,t){super(`${n}: ${t}`),this.code=n,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class jZ{constructor(n,t,r){this.name=n,this.prefix=t,this.baseEncode=r}encode(n){if(n instanceof Uint8Array)return`${this.prefix}${this.baseEncode(n)}`;throw Error("Unknown type, must be binary type")}}class UZ{constructor(n,t,r){if(this.name=n,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(n){if("string"==typeof n){if(n.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(n)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(n.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(n){return l8(this,n)}}class VZ{constructor(n){this.decoders=n}or(n){return l8(this,n)}decode(n){const r=this.decoders[n[0]];if(r)return r.decode(n);throw RangeError(`Unable to decode multibase string ${JSON.stringify(n)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const l8=(e,n)=>new VZ({...e.decoders||{[e.prefix]:e},...n.decoders||{[n.prefix]:n}});class HZ{constructor(n,t,r,i){this.name=n,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new jZ(n,t,r),this.decoder=new UZ(n,t,i)}encode(n){return this.encoder.encode(n)}decode(n){return this.decoder.decode(n)}}const by=({name:e,prefix:n,bitsPerChar:t,alphabet:r})=>(({name:e,prefix:n,encode:t,decode:r})=>new HZ(e,n,t,r))({prefix:n,name:e,encode:i=>((e,n,t)=>{const r="="===n[n.length-1],i=(1<<t)-1;let s="",o=0,a=0;for(let p=0;p<e.length;++p)for(a=a<<8|e[p],o+=8;o>t;)o-=t,s+=n[i&a>>o];if(o&&(s+=n[i&a<<t-o]),r)for(;s.length*t&7;)s+="=";return s})(i,r,t),decode:i=>((e,n,t,r)=>{const i={};for(let x=0;x<n.length;++x)i[n[x]]=x;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*t/8|0);let a=0,p=0,C=0;for(let x=0;x<s;++x){const U=i[e[x]];if(void 0===U)throw new SyntaxError(`Non-${r} character`);p=p<<t|U,a+=t,a>=8&&(a-=8,o[C++]=255&p>>a)}if(a>=t||255&p<<8-a)throw new SyntaxError("Unexpected end of data");return o})(i,r,t,e)}),f8=(by({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),by({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),by({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));by({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class zo{static encode(n){return f8.baseEncode(n)}static decodeAsBytes(n,t){if(!zo.isBase64UrlString(n))throw new Ir("EncodedStringIncorrectEncoding",`Given ${t} must be base64url string.`);return f8.baseDecode(n)}static decodeAsString(n,t){const r=zo.decodeAsBytes(n,t);return zo.bytesToString(r)}static isBase64UrlString(n){return/^[A-Za-z0-9_-]+$/.test(n)}static stringToBytes(n){return(new TextEncoder).encode(n)}static bytesToString(n){return(new TextDecoder).decode(n)}}var WZ=d(5568),p8=function(e){return e.Public="public",e.Private="private",e}(p8||{});const Ko=p8;class ys{static validateEs256kOperationKey(n,t){const r=new Set(["kty","crv","x","y"]);t===Ko.Private&&r.add("d");for(const i in n)if(!r.has(i))throw new Ir("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${i}'.`);if("secp256k1"!==n.crv)throw new Ir("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${n.crv}.'`);if("EC"!==n.kty)throw new Ir("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${n.kty}.'`);if(43!==n.x.length)throw new Ir("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==n.y.length)throw new Ir("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(t===Ko.Private&&(void 0===n.d||43!==n.d.length))throw new Ir("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(n){if(n.length>50)throw new Ir("IdTooLong",`Key ID length ${n.length} exceed max allowed length of 50.`);if(!zo.isBase64UrlString(n))throw new Ir("IdNotUsingBase64UrlCharacterSet",`Key ID '${n}' is not a Base64URL string.`)}static validatePublicKeyPurposes(n){if(void 0===n)return;const t=new Set;for(const r of n){if(t.has(r))throw new Ir("PublicKeyPurposeDuplicated",`Public key purpose '${r}' already specified.`);t.add(r)}}}const co=(()=>{class e{}return e.hashAlgorithmInMultihashCode=18,e.maxCanonicalizedDeltaSizeInBytes=1e3,e})();var GZ=d(8846);class lu{static canonicalizeAsBytes(n){const t=lu.removeAllUndefinedProperties(n),r=GZ(t);return zo.stringToBytes(r)}static removeAllUndefinedProperties(n){for(const t in n)"object"==typeof n[t]?lu.removeAllUndefinedProperties(n[t]):void 0===n[t]&&delete n[t];return n}}var h8=128,qZ=-128,YZ=Math.pow(2,31),QZ=128,g8=127,eq=Math.pow(2,7),tq=Math.pow(2,14),nq=Math.pow(2,21),rq=Math.pow(2,28),iq=Math.pow(2,35),sq=Math.pow(2,42),oq=Math.pow(2,49),aq=Math.pow(2,56),uq=Math.pow(2,63);const Dy={encode:function m8(e,n,t){n=n||[];for(var r=t=t||0;e>=YZ;)n[t++]=255&e|h8,e/=128;for(;e&qZ;)n[t++]=255&e|h8,e>>>=7;return n[t]=0|e,m8.bytes=t-r+1,n},decode:function g1(e,r){var o,t=0,i=0,s=r=r||0,a=e.length;do{if(s>=a)throw g1.bytes=0,new RangeError("Could not decode varint");o=e[s++],t+=i<28?(o&g8)<<i:(o&g8)*Math.pow(2,i),i+=7}while(o>=QZ);return g1.bytes=s-r,t},encodingLength:function(e){return e<eq?1:e<tq?2:e<nq?3:e<rq?4:e<iq?5:e<sq?6:e<oq?7:e<aq?8:e<uq?9:10}},y8=(e,n=0)=>[Dy.decode(e,n),Dy.decode.bytes],v8=(e,n,t=0)=>(Dy.encode(e,n,t),n),w8=e=>Dy.encodingLength(e),E8=(e,n)=>{const t=n.byteLength,r=w8(e),i=r+w8(t),s=new Uint8Array(i+t);return v8(e,s,0),v8(t,s,r),s.set(n,i),new b8(e,t,n,s)};class b8{constructor(n,t,r,i){this.code=n,this.size=t,this.digest=r,this.bytes=i}}const D8=({name:e,code:n,encode:t})=>new pq(e,n,t);class pq{constructor(n,t,r){this.name=n,this.code=t,this.encode=r}digest(n){if(n instanceof Uint8Array){const t=this.encode(n);return t instanceof Uint8Array?E8(this.code,t):t.then(r=>E8(this.code,r))}throw Error("Unknown type, must be binary type")}}const S8=e=>function(){var n=(0,Og.A)(function*(t){return new Uint8Array(yield crypto.subtle.digest(e,t))});return function(t){return n.apply(this,arguments)}}(),_8=D8({name:"sha2-256",code:18,encode:S8("SHA-256")});D8({name:"sha2-512",code:19,encode:S8("SHA-512")});var _p=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class ni{static hash(n,t){return _p(this,void 0,void 0,function*(){let r;if(18!==t)throw new Ir("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${t} is not supported.`);return r=(yield _8.digest(n)).bytes,r})}static hashAsNonMultihashBytes(n,t){return _p(this,void 0,void 0,function*(){let r;if(18!==t)throw new Ir("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${t} is not supported.`);return r=yield _8.encode(n),r})}static canonicalizeThenHashThenEncode(n,t){return _p(this,void 0,void 0,function*(){const r=lu.canonicalizeAsBytes(n);return yield ni.hashThenEncode(r,t)})}static canonicalizeThenDoubleHashThenEncode(n,t){return _p(this,void 0,void 0,function*(){const r=lu.canonicalizeAsBytes(n),i=yield ni.hashAsNonMultihashBytes(r,t);return yield ni.hashThenEncode(i,t)})}static hashThenEncode(n,t){return _p(this,void 0,void 0,function*(){const r=yield ni.hash(n,t);return zo.encode(r)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(n,t){let r;const i=zo.decodeAsBytes(n,t);try{r=(e=>{const n=(e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")})(e),[t,r]=y8(n),[i,s]=y8(n.subarray(r)),o=n.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new b8(t,i,o,n)})(i)}catch{throw new Ir("MultihashStringNotAMultihash",`Given ${t} string '${n}' is not a multihash after decoding.`)}const s=co.hashAlgorithmInMultihashCode;if(s!==r.code)throw new Ir("MultihashUnsupportedHashAlgorithm",`Given ${t} uses unsupported multihash algorithm with code ${r.code}, should use ${s} or change IonSdkConfig to desired hashing algorithm.`)}}var A8=function(e){return e.Create="create",e.Update="update",e.Deactivate="deactivate",e.Recover="recover",e}(A8||{});const Sy=A8;var C8=function(e){return e.Replace="replace",e.AddPublicKeys="add-public-keys",e.RemovePublicKeys="remove-public-keys",e.AddServices="add-services",e.RemoveServices="remove-services",e}(C8||{});const Hl=C8;var _y=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class ts{static createCreateRequest(n){return _y(this,void 0,void 0,function*(){const t=n.recoveryKey,r=n.updateKey,i=n.document.publicKeys,s=n.document.services;ys.validateEs256kOperationKey(t,Ko.Public),ys.validateEs256kOperationKey(r,Ko.Public),ts.validateDidDocumentKeys(i),ts.validateServices(s);const o=co.hashAlgorithmInMultihashCode,a=[{action:Hl.Replace,document:n.document}],p={updateCommitment:yield ni.canonicalizeThenDoubleHashThenEncode(r,o),patches:a};ts.validateDeltaSize(p);const x={deltaHash:yield ni.canonicalizeThenHashThenEncode(p,o),recoveryCommitment:yield ni.canonicalizeThenDoubleHashThenEncode(t,o)};return{type:Sy.Create,suffixData:x,delta:p}})}static createDeactivateRequest(n){return _y(this,void 0,void 0,function*(){ts.validateDidSuffix(n.didSuffix),ys.validateEs256kOperationKey(n.recoveryPublicKey,Ko.Public);const t=co.hashAlgorithmInMultihashCode,r=yield ni.canonicalizeThenHashThenEncode(n.recoveryPublicKey,t),i={didSuffix:n.didSuffix,recoveryKey:n.recoveryPublicKey},s=yield n.signer.sign({alg:"ES256K"},i);return{type:Sy.Deactivate,didSuffix:n.didSuffix,revealValue:r,signedData:s}})}static createRecoverRequest(n){return _y(this,void 0,void 0,function*(){ts.validateDidSuffix(n.didSuffix),ys.validateEs256kOperationKey(n.recoveryPublicKey,Ko.Public),ys.validateEs256kOperationKey(n.nextRecoveryPublicKey,Ko.Public),ys.validateEs256kOperationKey(n.nextUpdatePublicKey,Ko.Public),ts.validateDidDocumentKeys(n.document.publicKeys),ts.validateServices(n.document.services);const t=co.hashAlgorithmInMultihashCode,r=yield ni.canonicalizeThenHashThenEncode(n.recoveryPublicKey,t),o={patches:[{action:Hl.Replace,document:n.document}],updateCommitment:yield ni.canonicalizeThenDoubleHashThenEncode(n.nextUpdatePublicKey,t)},a=yield ni.canonicalizeThenHashThenEncode(o,t),C={recoveryCommitment:yield ni.canonicalizeThenDoubleHashThenEncode(n.nextRecoveryPublicKey,t),recoveryKey:n.recoveryPublicKey,deltaHash:a},x=yield n.signer.sign({alg:"ES256K"},C);return{type:Sy.Recover,didSuffix:n.didSuffix,revealValue:r,delta:o,signedData:x}})}static createUpdateRequest(n){return _y(this,void 0,void 0,function*(){if(ts.validateDidSuffix(n.didSuffix),ys.validateEs256kOperationKey(n.updatePublicKey,Ko.Public),ys.validateEs256kOperationKey(n.nextUpdatePublicKey,Ko.Public),ts.validateServices(n.servicesToAdd),ts.validateDidDocumentKeys(n.publicKeysToAdd),void 0!==n.idsOfServicesToRemove)for(const ge of n.idsOfServicesToRemove)ys.validateId(ge);if(void 0!==n.idsOfPublicKeysToRemove)for(const ge of n.idsOfPublicKeysToRemove)ys.validateId(ge);const t=[],r=n.servicesToAdd;void 0!==r&&r.length>0&&t.push({action:Hl.AddServices,services:r});const i=n.idsOfServicesToRemove;void 0!==i&&i.length>0&&t.push({action:Hl.RemoveServices,ids:i});const s=n.publicKeysToAdd;void 0!==s&&s.length>0&&t.push({action:Hl.AddPublicKeys,publicKeys:s});const o=n.idsOfPublicKeysToRemove;void 0!==o&&o.length>0&&t.push({action:Hl.RemovePublicKeys,ids:o});const a=co.hashAlgorithmInMultihashCode,p=yield ni.canonicalizeThenHashThenEncode(n.updatePublicKey,a),x={patches:t,updateCommitment:yield ni.canonicalizeThenDoubleHashThenEncode(n.nextUpdatePublicKey,a)},U=yield ni.canonicalizeThenHashThenEncode(x,a),ue={updateKey:n.updatePublicKey,deltaHash:U},ce=yield n.signer.sign({alg:"ES256K"},ue);return{type:Sy.Update,didSuffix:n.didSuffix,revealValue:p,delta:x,signedData:ce}})}static validateDidSuffix(n){ni.validateEncodedHashComputedUsingSupportedHashAlgorithm(n,"didSuffix")}static validateDidDocumentKeys(n){if(void 0===n)return;const t=new Set;for(const r of n){if(Array.isArray(r.publicKeyJwk))throw new Ir("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(ys.validateId(r.id),t.has(r.id))throw new Ir("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${r.id}' already exists.`);t.add(r.id),ys.validatePublicKeyPurposes(r.purposes)}}static validateServices(n){if(void 0!==n&&0!==n.length){const t=new Set;for(const r of n){if(ts.validateService(r),t.has(r.id))throw new Ir("DidDocumentServiceIdDuplicated","Service id has to be unique");t.add(r.id)}}}static validateService(n){if(ys.validateId(n.id),n.type.length>30)throw new Ir("ServiceTypeTooLong",`Service endpoint type length ${n.type.length} exceeds max allowed length of 30.`);if(Array.isArray(n.serviceEndpoint))throw new Ir("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof n.serviceEndpoint&&void 0!==WZ.parse(n.serviceEndpoint).error)throw new Ir("ServiceEndpointStringNotValidUri",`Service endpoint string '${n.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(n){const t=lu.canonicalizeAsBytes(n);if(t.length>co.maxCanonicalizedDeltaSizeInBytes)throw new Ir("DeltaExceedsMaximumSize",`Delta of ${t.length} bytes exceeded limit of ${co.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var I8=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};class y1{static createLongFormDid(n){return I8(this,void 0,void 0,function*(){const t=yield ts.createCreateRequest(n),r=yield y1.computeDidUniqueSuffix(t.suffixData);let i;i=void 0===co.network||"mainnet"===co.network?`did:ion:${r}`:`did:ion:${co.network}:${r}`;const o=lu.canonicalizeAsBytes({suffixData:t.suffixData,delta:t.delta});return`${i}:${zo.encode(o)}`})}static computeDidUniqueSuffix(n){return I8(this,void 0,void 0,function*(){const t=lu.canonicalizeAsBytes(n),r=yield ni.hash(t,co.hashAlgorithmInMultihashCode);return zo.encode(r)})}}var du=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})},_a=function(e){return e.Ed25519="Ed25519",e.secp256k1="secp256k1",e.secp256r1="secp256r1",e.X25519="X25519",e}(_a||{});const yq={Ed25519:_a.Ed25519,ES256K:_a.secp256k1,ES256:_a.secp256r1,"P-256":_a.secp256r1,secp256k1:_a.secp256k1,secp256r1:_a.secp256r1},T8="https://ion.tbd.engineering";let vq=(()=>{class e extends Sp{static create(){return du(this,arguments,void 0,function*({keyManager:t=new jo,options:r={}}={}){var i,s,o,a,p,C,x;if(null!==(i=r.verificationMethods)&&void 0!==i&&i.some(nt=>!(nt.algorithm in yq)))throw new Error("One or more verification method algorithms are not supported");const U=null===(s=r.verificationMethods)||void 0===s?void 0:s.filter(nt=>"id"in nt).map(nt=>nt.id);if(U&&U.length!==new Set(U).size)throw new Error("One or more verification method IDs are not unique");if(null!==(o=r.services)&&void 0!==o&&o.some(nt=>!nt.id||!nt.type||!nt.serviceEndpoint))throw new Error("One or more services are missing required properties");const ue={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},ce=[];for(const nt of null!==(a=r.verificationMethods)&&void 0!==a?a:[ue]){const st=yield t.generateKey({algorithm:nt.algorithm}),mt=yield t.getPublicKey({keyUri:st});ce.push({id:nt.id,publicKeyJwk:mt,purposes:null!==(p=nt.purposes)&&void 0!==p?p:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const ge=yield t.generateKey({algorithm:_a.secp256k1}),Re=yield t.getPublicKey({keyUri:ge}),Ue=yield t.generateKey({algorithm:_a.secp256k1}),We=yield t.getPublicKey({keyUri:Ue}),He=yield Ls.computeLongFormDidUri({recoveryKey:Re,updateKey:We,services:null!==(C=r.services)&&void 0!==C?C:[],verificationMethods:ce}),{didDocument:Je,didResolutionMetadata:Xe}=yield e.resolve(He,{gatewayUri:r.gatewayUri});if(null===Je)throw new Error(`Unable to resolve DID during creation: ${Xe?.error}`);const et=new Uo({uri:He,document:Je,metadata:{published:!1,canonicalId:He.split(":",3).join(":"),recoveryKey:Re,updateKey:We},keyManager:t});if(null===(x=r.publish)||void 0===x||x){const nt=yield e.publish({did:et,gatewayUri:r.gatewayUri});et.metadata=nt.didDocumentMetadata}return et})}static getSigningMethod(t){return du(this,arguments,void 0,function*({didDocument:r,methodId:i}){var s;const o=Rn.parse(r.id);if(o&&o.method!==this.methodName)throw new Ut(Vt.MethodNotSupported,`Method not supported: ${o.method}`);const a=null===(s=r.verificationMethod)||void 0===s?void 0:s.find(p=>{var C;return p.id===(i??(null===(C=r.assertionMethod)||void 0===C?void 0:C[0]))});if(!a||!a.publicKeyJwk)throw new Ut(Vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return a})}static import(t){return du(this,arguments,void 0,function*({portableDid:r,keyManager:i=new jo}){const s=Rn.parse(r.uri);if(s?.method!==e.methodName)throw new Ut(Vt.MethodNotSupported,"Method not supported");return yield Uo.import({portableDid:r,keyManager:i})})}static publish(t){return du(this,arguments,void 0,function*({did:r,gatewayUri:i=T8}){var s,o,a;const p=null!==(o=null===(s=r.document.verificationMethod)||void 0===s?void 0:s.map(U=>({id:U.id,publicKeyJwk:U.publicKeyJwk,purposes:eZ({didDocument:r.document,methodId:U.id})})))&&void 0!==o?o:[],C=yield Ls.createIonDocument({services:null!==(a=r.document.service)&&void 0!==a?a:[],verificationMethods:p}),x=yield Ls.constructCreateRequest({ionDocument:C,recoveryKey:r.metadata.recoveryKey,updateKey:r.metadata.updateKey});try{const U=Ls.appendPathToUrl({baseUrl:i,path:"/operations"}),ue=yield fetch(U,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});return{didDocument:r.document,didDocumentMetadata:Object.assign(Object.assign({},r.metadata),{published:ue.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Vt.InternalError,errorMessage:`Failed to publish DID document for: ${r.uri}`}}}})}static resolve(t){return du(this,arguments,void 0,function*(r,i={}){var s,o;const a=Rn.parse(r);if(!a)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"invalidDid"}});if(a.method!==e.methodName)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"methodNotSupported"}});const p=null!==(s=i?.gatewayUri)&&void 0!==s?s:T8;try{const C=Ls.appendPathToUrl({baseUrl:p,path:`/identifiers/${r}`}),x=yield fetch(C);if(!x.ok)throw new Ut(Vt.NotFound,`Unable to find DID document for: ${r}`);const{didDocument:U,didDocumentMetadata:ue}=yield x.json();return Object.assign(Object.assign(Object.assign({},fi),U&&{didDocument:U}),{didDocumentMetadata:Object.assign({published:null===(o=ue?.method)||void 0===o?void 0:o.published},ue)})}catch(C){if(!(C instanceof Ut))throw new Error(C);return Object.assign(Object.assign({},fi),{didResolutionMetadata:Object.assign({error:C.code},C.message&&{errorMessage:C.message})})}})}}return e.methodName="ion",e})();class Ls{static appendPathToUrl({baseUrl:n,path:t}){const r=new URL(n);return r.pathname=r.pathname.endsWith("/")?r.pathname:r.pathname+"/",r.pathname+=t.startsWith("/")?t.substring(1):t,r.toString()}static computeLongFormDidUri(n){return du(this,arguments,void 0,function*({recoveryKey:t,updateKey:r,services:i,verificationMethods:s}){const o=yield Ls.createIonDocument({services:i,verificationMethods:s}),a=Ls.normalizeJwk(t),p=Ls.normalizeJwk(r);return yield y1.createLongFormDid({document:o,recoveryKey:a,updateKey:p})})}static constructCreateRequest(n){return du(this,arguments,void 0,function*({ionDocument:t,recoveryKey:r,updateKey:i}){return yield ts.createCreateRequest({document:t,recoveryKey:Ls.normalizeJwk(r),updateKey:Ls.normalizeJwk(i)})})}static createIonDocument(n){return du(this,arguments,void 0,function*({services:t,verificationMethods:r}){var i,s;const o=[];for(const C of r){let x=null!==(s=null!==(i=C.id)&&void 0!==i?i:C.publicKeyJwk.kid)&&void 0!==s?s:yield Kn({jwk:C.publicKeyJwk});x=`${x.split("#").pop()}`;const U={id:x,publicKeyJwk:Ls.normalizeJwk(C.publicKeyJwk),purposes:C.purposes,type:"JsonWebKey2020"};o.push(U)}return{publicKeys:o,services:t.map(C=>Object.assign(Object.assign({},C),{id:`${C.id.split("#").pop()}`}))}})}static normalizeJwk(n){const t=n.kty;let r;if("EC"===t)r={crv:n.crv,kty:n.kty,x:n.x,y:n.y};else if("oct"===t)r={k:n.k,kty:n.kty};else if("OKP"===t)r={crv:n.crv,kty:n.kty,x:n.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);r={e:n.e,kty:n.kty,n:n.n}}return r}}var Ay=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};let wq=(()=>{class e extends Sp{static create(){return Ay(this,arguments,void 0,function*({keyManager:t=new jo,options:r={}}={}){var i,s,o,a;if(r.algorithm&&r.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(r.verificationMethods&&1!==r.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const p=null!==(a=null!==(i=r.algorithm)&&void 0!==i?i:null===(o=null===(s=r.verificationMethods)||void 0===s?void 0:s[0])||void 0===o?void 0:o.algorithm)&&void 0!==a?a:"Ed25519",C=yield t.generateKey({algorithm:p}),x=yield t.getPublicKey({keyUri:C}),U=Tt.object(x).toBase64Url(),ue=`did:${e.methodName}:${U}`,ge=(yield e.resolve(ue)).didDocument;return new Uo({uri:ue,document:ge,metadata:{},keyManager:t})})}static getSigningMethod(t){return Ay(this,arguments,void 0,function*({didDocument:r}){var i;const s=Rn.parse(r.id);if(s&&s.method!==this.methodName)throw new Ut(Vt.MethodNotSupported,`Method not supported: ${s.method}`);const[o]=null!==(i=r.verificationMethod)&&void 0!==i?i:[];if(!o||!o.publicKeyJwk)throw new Ut(Vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return o})}static import(t){return Ay(this,arguments,void 0,function*({portableDid:r,keyManager:i=new jo}){const s=Rn.parse(r.uri);if(s?.method!==e.methodName)throw new Ut(Vt.MethodNotSupported,"Method not supported");const o=yield Uo.import({portableDid:r,keyManager:i});if(1!==o.document.verificationMethod.length)throw new Ut(Vt.InvalidDidDocument,"DID document must contain exactly one verification method");return o})}static resolve(t,r){return Ay(this,void 0,void 0,function*(){const i=Rn.parse(t);let s;try{s=Tt.base64Url(i.id).toObject()}catch{}if(!i||!s)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"invalidDid"}});if(i.method!==e.methodName)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"methodNotSupported"}});const o={"@context":["https://www.w3.org/ns/did/v1"],id:i.uri},a=`${o.id}#0`;switch(o.verificationMethod=[{id:a,type:"JsonWebKey",controller:o.id,publicKeyJwk:s}],o.authentication=[a],o.assertionMethod=[a],o.capabilityInvocation=[a],o.capabilityDelegation=[a],o.keyAgreement=[a],s.use){case"sig":delete o.keyAgreement;break;case"enc":delete o.authentication,delete o.assertionMethod,delete o.capabilityInvocation,delete o.capabilityDelegation}return Object.assign(Object.assign({},fi),{didDocument:o})})}}return e.methodName="jwk",e})();var lo=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})},fu=function(e){return e.Ed25519="Ed25519",e.secp256k1="secp256k1",e.secp256r1="secp256r1",e.X25519="X25519",e}(fu||{});const v1={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},Eq={Ed25519:fu.Ed25519,ES256K:fu.secp256k1,ES256:fu.secp256r1,"P-256":fu.secp256r1,secp256k1:fu.secp256k1,secp256r1:fu.secp256r1,X25519:fu.X25519};let bq=(()=>{class e extends Sp{static create(){return lo(this,arguments,void 0,function*({keyManager:t=new jo,options:r={}}={}){var i,s,o,a;if(r.algorithm&&r.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(r.verificationMethods&&1!==r.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const p=null!==(a=null!==(i=r.algorithm)&&void 0!==i?i:null===(o=null===(s=r.verificationMethods)||void 0===s?void 0:s[0])||void 0===o?void 0:o.algorithm)&&void 0!==a?a:"Ed25519",C=yield t.generateKey({algorithm:p}),x=yield t.getPublicKey({keyUri:C}),U=yield Aa.publicKeyToMultibaseId({publicKey:x}),ue=`did:${e.methodName}:${U}`,ge=(yield e.resolve(ue,r)).didDocument;return new Uo({uri:ue,document:ge,metadata:{},keyManager:t})})}static getSigningMethod(t){return lo(this,arguments,void 0,function*({didDocument:r}){var i;const s=Rn.parse(r.id);if(s&&s.method!==this.methodName)throw new Ut(Vt.MethodNotSupported,`Method not supported: ${s.method}`);const[o]=r.assertionMethod||[],a=null===(i=r.verificationMethod)||void 0===i?void 0:i.find(p=>p.id===o);if(!a||!a.publicKeyJwk)throw new Ut(Vt.InternalError,"A verification method intended for signing could not be determined from the DID Document");return a})}static import(t){return lo(this,arguments,void 0,function*({portableDid:r,keyManager:i=new jo}){const s=Rn.parse(r.uri);if(s?.method!==e.methodName)throw new Ut(Vt.MethodNotSupported,"Method not supported");const o=yield Uo.import({portableDid:r,keyManager:i});if(1!==o.document.verificationMethod.length)throw new Ut(Vt.InvalidDidDocument,"DID document must contain exactly one verification method");return o})}static resolve(t,r){return lo(this,void 0,void 0,function*(){try{const i=yield e.createDocument({didUri:t,options:r});return Object.assign(Object.assign({},fi),{didDocument:i})}catch(i){if(!(i instanceof Ut))throw new Error(i);return Object.assign(Object.assign({},fi),{didResolutionMetadata:Object.assign({error:i.code},i.message&&{errorMessage:i.message})})}})}static createDocument(t){return lo(this,arguments,void 0,function*({didUri:r,options:i={}}){const{defaultContext:s="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:o=!1,enableExperimentalPublicKeyTypes:a=!1,publicKeyFormat:p="JsonWebKey2020"}=i,C={id:""},x=Rn.parse(r);if(!x)throw new Ut(Vt.InvalidDid,`Invalid DID URI: ${r}`);const U=x.id;if(x.method!==e.methodName)throw new Ut(Vt.MethodNotSupported,`Method not supported: ${x.method}`);if(!e.validateIdentifier(x))throw new Ut(Vt.InvalidDid,`Invalid DID URI: ${r}`);const ue=yield e.createSignatureMethod({didUri:r,multibaseValue:U,options:{enableExperimentalPublicKeyTypes:a,publicKeyFormat:p}});if(C.id=x.uri,C.verificationMethod=[ue],C.authentication=[ue.id],C.assertionMethod=[ue.id],C.capabilityInvocation=[ue.id],C.capabilityDelegation=[ue.id],!0===o){const Re="Ed25519VerificationKey2020"===p?"X25519KeyAgreementKey2020":"JsonWebKey2020",Ue=yield this.createEncryptionMethod({didUri:r,multibaseValue:U,options:{enableExperimentalPublicKeyTypes:a,publicKeyFormat:Re}});C.verificationMethod.push(Ue),C.keyAgreement=[Ue.id]}const ce=[s];return function QJ({didDocument:e}){const t=s1({didDocument:e}).map(r=>r.type);return[...new Set(t)]}({didDocument:C}).forEach(Re=>{ce.push(v1[Re])}),C["@context"]=ce,C})}static createEncryptionMethod(t){return lo(this,arguments,void 0,function*({didUri:r,multibaseValue:i,options:s}){const{enableExperimentalPublicKeyTypes:o,publicKeyFormat:a}=s,p={id:"",type:"",controller:""},{keyBytes:C,multicodecCode:x}=yield e.deriveEncryptionKey({multibaseValue:i}),U=C.byteLength,ue=Aa.MULTICODEC_PUBLIC_KEY_LENGTH[x];if(U!==ue)throw new Ut(Vt.InvalidPublicKeyLength,`Expected ${U} bytes. Actual: ${ue}`);const ce=TF({keyBytes:C,multicodecCode:x});p.id=`${r}#${ce}`;try{new URL(p.id)}catch{throw new Ut(Vt.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(a in v1))throw new Ut(Vt.UnsupportedPublicKeyType,`Unsupported format: ${a}`);if(!1===o&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(a))throw new Ut(Vt.InvalidPublicKeyType,`Specified '${a}' without setting enableExperimentalPublicKeyTypes to true.`);if(p.type=a,p.controller=r,"X25519KeyAgreementKey2020"===a&&(p.publicKeyMultibase=ce),"JsonWebKey2020"===a){const{crv:Re}=yield Aa.multicodecToJwk({code:x});p.publicKeyJwk=yield Aa.keyConverter(Re).bytesToPublicKey({publicKeyBytes:C})}return p})}static createSignatureMethod(t){return lo(this,arguments,void 0,function*({didUri:r,multibaseValue:i,options:s}){const{enableExperimentalPublicKeyTypes:o,publicKeyFormat:a}=s,p={id:"",type:"",controller:""},{keyBytes:C,multicodecCode:x,multicodecName:U}=OF({multibaseKeyId:i}),ue=C.byteLength,ce=Aa.MULTICODEC_PUBLIC_KEY_LENGTH[x];if(ue!==ce)throw new Ut(Vt.InvalidPublicKeyLength,`Expected ${ue} bytes. Actual: ${ce}`);let ge=!1;switch(U){case"secp256k1-pub":ge=yield hr.validatePublicKey({publicKeyBytes:C});break;case"ed25519-pub":ge=yield yr.validatePublicKey({publicKeyBytes:C});break;case"x25519-pub":ge=!0}if(!ge)throw new Ut(Vt.InvalidPublicKey,"Invalid public key detected.");p.id=`${r}#${i}`;try{new URL(p.id)}catch{throw new Ut(Vt.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(a in v1))throw new Ut(Vt.UnsupportedPublicKeyType,`Unsupported format: ${a}`);if(!1===o&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(a))throw new Ut(Vt.InvalidPublicKeyType,`Specified '${a}' without setting enableExperimentalPublicKeyTypes to true.`);if(p.type=a,p.controller=r,"Ed25519VerificationKey2020"===a&&(p.publicKeyMultibase=i),"JsonWebKey2020"===a){const{crv:Ue}=yield Aa.multicodecToJwk({code:x});p.publicKeyJwk=yield Aa.keyConverter(Ue).bytesToPublicKey({publicKeyBytes:C})}return p})}static deriveEncryptionKey(t){return lo(this,arguments,void 0,function*({multibaseValue:r}){let i={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:s,multicodecCode:o}=OF({multibaseKeyId:r});if(237===o){const a=yield Aa.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:s}),p=yield yr.convertPublicKeyToX25519({publicKey:a});i={keyBytes:yield Aa.keyConverter("Ed25519").publicKeyToBytes({publicKey:p}),multicodecCode:236}}return i})}static validateIdentifier(t){const{method:r,id:i}=t,[s]=t.uri.split(":",1);return"did"===s&&"key"===r&&Number("1")>0&&"String"===hb(i)&&i.startsWith("z")}}return e.methodName="key",e})(),Aa=(()=>{class e{static jwkToMulticodec(t){return lo(this,arguments,void 0,function*({jwk:r}){const i=[];r.crv&&(i.push(r.crv),i.push(r.d?"private":"public"));const s=i.join(":"),o=e.JWK_TO_MULTICODEC[s];if(void 0===o)throw new Error(`Unsupported JWK to Multicodec conversion: '${s}'`);return{code:Mr.getCodeFromName({name:o}),name:o}})}static keyCompressor(t){const i={"P-256":gr.compressPublicKey,secp256k1:hr.compressPublicKey}[t];if(!i)throw new Ut(Vt.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static keyConverter(t){const i={Ed25519:yr,"P-256":gr,secp256k1:hr,X25519:uc}[t];if(!i)throw new Ut(Vt.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static multicodecToJwk(t){return lo(this,arguments,void 0,function*({code:r,name:i}){if(!(i?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");i=void 0===i?Mr.getNameFromCode({code:r}):i;const o=e.MULTICODEC_TO_JWK[i];if(void 0===o)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},o)})}static publicKeyToMultibaseId(t){return lo(this,arguments,void 0,function*({publicKey:r}){var i;if(!r?.crv||!(r.crv in Eq))throw new Ut(Vt.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(i=r?.crv)&&void 0!==i?i:"undefined"}`);let s=yield e.keyConverter(r.crv).publicKeyToBytes({publicKey:r});/^(secp256k1|P-256|P-384|P-521)$/.test(r.crv)&&(s=yield e.keyCompressor(r.crv)({publicKeyBytes:s}));const{name:o}=yield e.jwkToMulticodec({jwk:r});return TF({keyBytes:s,multicodecName:o})})}}return e.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},e.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},e.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},e})();let Sq=(()=>{class e extends Sp{static resolve(t,r){return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){const i=Rn.parse(t);if(!i)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"invalidDid"}});if(i.method!==e.methodName)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"methodNotSupported"}});let s=`https://${i.id.replace(/:/g,"/")}`;s=decodeURIComponent(s);const o=i.id.includes(":")?`${s}/did.json`:`${s}/.well-known/did.json`;try{const a=yield fetch(o);if(!a.ok)throw new Error("HTTP error status code returned");const p=yield a.json();return Object.assign(Object.assign({},fi),{didDocument:p})}catch{return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:"notFound"}})}})}}return e.methodName="web",e})();d(3244);const Aq={get:function(e){return null},set:function(e,n){return null},delete:function(e){return null},clear:function(){return null},close:function(){return null}};var O8=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})},P8=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};const Iq=new jo;class lc{static sign(n){return P8(this,void 0,void 0,function*(){const{signerDid:t,payload:r}=n,i=yield t.getSigner();let s=i.keyId;"#"===s.charAt(0)&&(s=`${t.uri}${s}`);const o=Object.assign({alg:i.algorithm,kid:s},n.header),C=`${Tt.object(o).toBase64Url()}.${Tt.object(r).toBase64Url()}`,x=Tt.string(C).toUint8Array(),U=yield i.sign({data:x});return`${C}.${Tt.uint8Array(U).toBase64Url()}`})}static verify(n){return P8(this,void 0,void 0,function*(){const{decoded:t,encoded:r}=lc.parse({jwt:n.jwt});if(t.payload.exp&&Math.floor(Date.now()/1e3)>t.payload.exp)throw new Error("Verification failed: JWT is expired");const i=yield lc.didResolver.dereference(t.header.kid);if(i.dereferencingMetadata.error)throw new Error(`Failed to resolve ${t.header.kid}`);const s=i.contentStream;if(!s||!Qg(s))throw new Error("Verification failed: Expected kid in JWT header to dereference a DID Document Verification Method");const o=s.publicKeyJwk;if(!o)throw new Error("Verification failed: Expected kid in JWT header to dereference to a DID Document Verification Method with publicKeyJwk");if(o.alg&&o.alg!==t.header.alg)throw new Error("Verification failed: Expected alg in JWT header to match DID Document Verification Method alg");const p=Tt.string(`${r.header}.${r.payload}`).toUint8Array(),C=Tt.base64Url(r.signature).toUint8Array();if(!(yield Iq.verify({key:o,signature:C,data:p})))throw new Error("Signature verification failed: Integrity mismatch");return t})}static parse(n){const t=n.jwt.split(".");if(3!==t.length)throw new Error(`Verification failed: Malformed JWT. expected 3 parts. got ${t.length}`);const[r,i,s]=t;let o,a;try{o=Tt.base64Url(r).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT header")}if(!o.alg||!o.kid)throw new Error("Verification failed: Expected JWT header to contain alg and kid");try{a=Tt.base64Url(i).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT payload")}return{decoded:{header:o,payload:a},encoded:{header:r,payload:i,signature:s}}}}function Wl(e){let n=e.length;for(;--n>=0;)e[n]=0}lc.didResolver=new class Cq{constructor({cache:n,didResolvers:t}){this.didResolvers=new Map,this.cache=n||Aq;for(const r of t)this.didResolvers.set(r.methodName,r)}resolve(n,t){return O8(this,void 0,void 0,function*(){const r=Rn.parse(n);if(!r)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:Vt.InvalidDid,errorMessage:`Invalid DID URI: ${n}`}});const i=this.didResolvers.get(r.method);if(!i)return Object.assign(Object.assign({},fi),{didResolutionMetadata:{error:Vt.MethodNotSupported,errorMessage:`Method not supported: ${r.method}`}});const s=yield this.cache.get(r.uri);if(s)return s;{const o=yield i.resolve(r.uri,t);return o.didResolutionMetadata.error||(yield this.cache.set(r.uri,o)),o}})}dereference(n,t){return O8(this,void 0,void 0,function*(){const r=Rn.parse(n);if(!r)return{dereferencingMetadata:{error:Vt.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:i,didResolutionMetadata:s,didDocumentMetadata:o}=yield this.resolve(r.uri);if(!i)return{dereferencingMetadata:{error:s.error},contentStream:null,contentMetadata:{}};if(!r.fragment||r.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:i,contentMetadata:o};const{service:a=[],verificationMethod:p=[]}=i,C=new Set([n,r.fragment,`#${r.fragment}`]);let x;for(let U of p)if(C.has(U.id)){x=U;break}for(let U of a)if(C.has(U.id)){x=U;break}return x?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:x,contentMetadata:s}:{dereferencingMetadata:{error:Vt.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[m1,vq,bq,wq,Sq]}),new(d(720).E8);const S1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Cy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Bq=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j8=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ca=new Array(576);Wl(Ca);const xp=new Array(60);Wl(xp);const Tp=new Array(512);Wl(Tp);const Op=new Array(256);Wl(Op);const _1=new Array(29);Wl(_1);const Iy=new Array(30);function A1(e,n,t,r,i){this.static_tree=e,this.extra_bits=n,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let U8,V8,H8;function C1(e,n){this.dyn_tree=e,this.max_code=0,this.stat_desc=n}Wl(Iy);const z8=e=>e<256?Tp[e]:Tp[256+(e>>>7)],Pp=(e,n)=>{e.pending_buf[e.pending++]=255&n,e.pending_buf[e.pending++]=n>>>8&255},ns=(e,n,t)=>{e.bi_valid>16-t?(e.bi_buf|=n<<e.bi_valid&65535,Pp(e,e.bi_buf),e.bi_buf=n>>16-e.bi_valid,e.bi_valid+=t-16):(e.bi_buf|=n<<e.bi_valid&65535,e.bi_valid+=t)},Wo=(e,n,t)=>{ns(e,t[2*n],t[2*n+1])},K8=(e,n)=>{let t=0;do{t|=1&e,e>>>=1,t<<=1}while(--n>0);return t>>>1},W8=(e,n,t)=>{const r=new Array(16);let s,o,i=0;for(s=1;s<=15;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=n;o++){let a=e[2*o+1];0!==a&&(e[2*o]=K8(r[a]++,a))}},G8=e=>{let n;for(n=0;n<286;n++)e.dyn_ltree[2*n]=0;for(n=0;n<30;n++)e.dyn_dtree[2*n]=0;for(n=0;n<19;n++)e.bl_tree[2*n]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},J8=e=>{e.bi_valid>8?Pp(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Z8=(e,n,t,r)=>{const i=2*n,s=2*t;return e[i]<e[s]||e[i]===e[s]&&r[n]<=r[t]},I1=(e,n,t)=>{const r=e.heap[t];let i=t<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Z8(n,e.heap[i+1],e.heap[i],e.depth)&&i++,!Z8(n,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r},q8=(e,n,t)=>{let r,i,o,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?Wo(e,i,n):(o=Op[i],Wo(e,o+256+1,n),a=S1[o],0!==a&&(i-=_1[o],ns(e,i,a)),r--,o=z8(r),Wo(e,o,t),a=Cy[o],0!==a&&(r-=Iy[o],ns(e,r,a)))}while(s<e.sym_next);Wo(e,256,n)},x1=(e,n)=>{const t=n.dyn_tree,r=n.stat_desc.static_tree,i=n.stat_desc.has_stree,s=n.stat_desc.elems;let o,a,C,p=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==t[2*o]?(e.heap[++e.heap_len]=p=o,e.depth[o]=0):t[2*o+1]=0;for(;e.heap_len<2;)C=e.heap[++e.heap_len]=p<2?++p:0,t[2*C]=1,e.depth[C]=0,e.opt_len--,i&&(e.static_len-=r[2*C+1]);for(n.max_code=p,o=e.heap_len>>1;o>=1;o--)I1(e,t,o);C=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I1(e,t,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,t[2*C]=t[2*o]+t[2*a],e.depth[C]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,t[2*o+1]=t[2*a+1]=C,e.heap[1]=C++,I1(e,t,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,n)=>{const t=n.dyn_tree,r=n.max_code,i=n.stat_desc.static_tree,s=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,a=n.stat_desc.extra_base,p=n.stat_desc.max_length;let C,x,U,ue,ce,ge,Re=0;for(ue=0;ue<=15;ue++)e.bl_count[ue]=0;for(t[2*e.heap[e.heap_max]+1]=0,C=e.heap_max+1;C<573;C++)x=e.heap[C],ue=t[2*t[2*x+1]+1]+1,ue>p&&(ue=p,Re++),t[2*x+1]=ue,!(x>r)&&(e.bl_count[ue]++,ce=0,x>=a&&(ce=o[x-a]),ge=t[2*x],e.opt_len+=ge*(ue+ce),s&&(e.static_len+=ge*(i[2*x+1]+ce)));if(0!==Re){do{for(ue=p-1;0===e.bl_count[ue];)ue--;e.bl_count[ue]--,e.bl_count[ue+1]+=2,e.bl_count[p]--,Re-=2}while(Re>0);for(ue=p;0!==ue;ue--)for(x=e.bl_count[ue];0!==x;)U=e.heap[--C],!(U>r)&&(t[2*U+1]!==ue&&(e.opt_len+=(ue-t[2*U+1])*t[2*U],t[2*U+1]=ue),x--)}})(e,n),W8(t,p,e.bl_count)},Y8=(e,n,t)=>{let r,s,i=-1,o=n[1],a=0,p=7,C=4;for(0===o&&(p=138,C=3),n[2*(t+1)+1]=65535,r=0;r<=t;r++)s=o,o=n[2*(r+1)+1],!(++a<p&&s===o)&&(a<C?e.bl_tree[2*s]+=a:0!==s?(s!==i&&e.bl_tree[2*s]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,i=s,0===o?(p=138,C=3):s===o?(p=6,C=3):(p=7,C=4))},X8=(e,n,t)=>{let r,s,i=-1,o=n[1],a=0,p=7,C=4;for(0===o&&(p=138,C=3),r=0;r<=t;r++)if(s=o,o=n[2*(r+1)+1],!(++a<p&&s===o)){if(a<C)do{Wo(e,s,e.bl_tree)}while(0!=--a);else 0!==s?(s!==i&&(Wo(e,s,e.bl_tree),a--),Wo(e,16,e.bl_tree),ns(e,a-3,2)):a<=10?(Wo(e,17,e.bl_tree),ns(e,a-3,3)):(Wo(e,18,e.bl_tree),ns(e,a-11,7));a=0,i=s,0===o?(p=138,C=3):s===o?(p=6,C=3):(p=7,C=4)}};let Q8=!1;const eR=(e,n,t,r)=>{ns(e,0+(r?1:0),3),J8(e),Pp(e,t),Pp(e,~t),t&&e.pending_buf.set(e.window.subarray(n,n+t),e.pending),e.pending+=t};var Qq={_tr_init:e=>{Q8||((()=>{let e,n,t,r,i;const s=new Array(16);for(t=0,r=0;r<28;r++)for(_1[r]=t,e=0;e<1<<S1[r];e++)Op[t++]=r;for(Op[t-1]=r,i=0,r=0;r<16;r++)for(Iy[r]=i,e=0;e<1<<Cy[r];e++)Tp[i++]=r;for(i>>=7;r<30;r++)for(Iy[r]=i<<7,e=0;e<1<<Cy[r]-7;e++)Tp[256+i++]=r;for(n=0;n<=15;n++)s[n]=0;for(e=0;e<=143;)Ca[2*e+1]=8,e++,s[8]++;for(;e<=255;)Ca[2*e+1]=9,e++,s[9]++;for(;e<=279;)Ca[2*e+1]=7,e++,s[7]++;for(;e<=287;)Ca[2*e+1]=8,e++,s[8]++;for(W8(Ca,287,s),e=0;e<30;e++)xp[2*e+1]=5,xp[2*e]=K8(e,5);U8=new A1(Ca,S1,257,286,15),V8=new A1(xp,Cy,0,30,15),H8=new A1(new Array(0),Bq,0,19,7)})(),Q8=!0),e.l_desc=new C1(e.dyn_ltree,U8),e.d_desc=new C1(e.dyn_dtree,V8),e.bl_desc=new C1(e.bl_tree,H8),e.bi_buf=0,e.bi_valid=0,G8(e)},_tr_stored_block:eR,_tr_flush_block:(e,n,t,r)=>{let i,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),x1(e,e.l_desc),x1(e,e.d_desc),o=(e=>{let n;for(Y8(e,e.dyn_ltree,e.l_desc.max_code),Y8(e,e.dyn_dtree,e.d_desc.max_code),x1(e,e.bl_desc),n=18;n>=3&&0===e.bl_tree[2*j8[n]+1];n--);return e.opt_len+=3*(n+1)+5+5+4,n})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&-1!==n?eR(e,n,t,r):4===e.strategy||s===i?(ns(e,2+(r?1:0),3),q8(e,Ca,xp)):(ns(e,4+(r?1:0),3),((e,n,t,r)=>{let i;for(ns(e,n-257,5),ns(e,t-1,5),ns(e,r-4,4),i=0;i<r;i++)ns(e,e.bl_tree[2*j8[i]+1],3);X8(e,e.dyn_ltree,n-1),X8(e,e.dyn_dtree,t-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),q8(e,e.dyn_ltree,e.dyn_dtree)),G8(e),r&&J8(e)},_tr_tally:(e,n,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=n,e.pending_buf[e.sym_buf+e.sym_next++]=n>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,0===n?e.dyn_ltree[2*t]++:(e.matches++,n--,e.dyn_ltree[2*(Op[t]+256+1)]++,e.dyn_dtree[2*z8(n)]++),e.sym_next===e.sym_end),_tr_align:e=>{ns(e,2,3),Wo(e,256,Ca),(e=>{16===e.bi_valid?(Pp(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},Fp=(e,n,t,r)=>{let i=65535&e,s=e>>>16&65535,o=0;for(;0!==t;){o=t>2e3?2e3:t,t-=o;do{i=i+n[r++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16};const tY=new Uint32Array((()=>{let e,n=[];for(var t=0;t<256;t++){e=t;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;n[t]=e}return n})());var ri=(e,n,t,r)=>{const i=tY,s=r+t;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[255&(e^n[o])];return~e},fc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:nY,_tr_stored_block:T1,_tr_flush_block:rY,_tr_tally:pu,_tr_align:iY}=Qq,{Z_NO_FLUSH:hu,Z_PARTIAL_FLUSH:sY,Z_FULL_FLUSH:oY,Z_FINISH:$s,Z_BLOCK:tR,Z_OK:hi,Z_STREAM_END:nR,Z_STREAM_ERROR:Go,Z_DATA_ERROR:aY,Z_BUF_ERROR:O1,Z_DEFAULT_COMPRESSION:uY,Z_FILTERED:cY,Z_HUFFMAN_ONLY:xy,Z_RLE:lY,Z_FIXED:dY,Z_DEFAULT_STRATEGY:fY,Z_UNKNOWN:pY,Z_DEFLATED:Ty}=pc,Jo=262,gc=(e,n)=>(e.msg=fc[n],n),rR=e=>2*e-(e>4?9:0),gu=e=>{let n=e.length;for(;--n>=0;)e[n]=0},SY=e=>{let n,t,r,i=e.w_size;n=e.hash_size,r=n;do{t=e.head[--r],e.head[r]=t>=i?t-i:0}while(--n);n=i,r=n;do{t=e.prev[--r],e.prev[r]=t>=i?t-i:0}while(--n)};let yu=(e,n,t)=>(n<<e.hash_shift^t)&e.hash_mask;const vs=e=>{const n=e.state;let t=n.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+t),e.next_out),e.next_out+=t,n.pending_out+=t,e.total_out+=t,e.avail_out-=t,n.pending-=t,0===n.pending&&(n.pending_out=0))},ws=(e,n)=>{rY(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,n),e.block_start=e.strstart,vs(e.strm)},Vn=(e,n)=>{e.pending_buf[e.pending++]=n},Mp=(e,n)=>{e.pending_buf[e.pending++]=n>>>8&255,e.pending_buf[e.pending++]=255&n},k1=(e,n,t,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,n.set(e.input.subarray(e.next_in,e.next_in+i),t),1===e.state.wrap?e.adler=Fp(e.adler,n,i,t):2===e.state.wrap&&(e.adler=ri(e.adler,n,i,t)),e.next_in+=i,e.total_in+=i,i)},iR=(e,n)=>{let i,s,t=e.max_chain_length,r=e.strstart,o=e.prev_length,a=e.nice_match;const p=e.strstart>e.w_size-Jo?e.strstart-(e.w_size-Jo):0,C=e.window,x=e.w_mask,U=e.prev,ue=e.strstart+258;let ce=C[r+o-1],ge=C[r+o];e.prev_length>=e.good_match&&(t>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=n,C[i+o]===ge&&C[i+o-1]===ce&&C[i]===C[r]&&C[++i]===C[r+1]){r+=2,i++;do{}while(C[++r]===C[++i]&&C[++r]===C[++i]&&C[++r]===C[++i]&&C[++r]===C[++i]&&C[++r]===C[++i]&&C[++r]===C[++i]&&C[++r]===C[++i]&&C[++r]===C[++i]&&r<ue);if(s=258-(ue-r),r=ue-258,s>o){if(e.match_start=n,o=s,s>=a)break;ce=C[r+o-1],ge=C[r+o]}}}while((n=U[n&x])>p&&0!=--t);return o<=e.lookahead?o:e.lookahead},Yl=e=>{const n=e.w_size;let t,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=n+(n-Jo)&&(e.window.set(e.window.subarray(n,n+n-r),0),e.match_start-=n,e.strstart-=n,e.block_start-=n,e.insert>e.strstart&&(e.insert=e.strstart),SY(e),r+=n),0===e.strm.avail_in)break;if(t=k1(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=yu(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=yu(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Jo&&0!==e.strm.avail_in)},sR=(e,n)=>{let r,i,s,t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,o=0,a=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<t&&(0===r&&n!==$s||n===hu||r!==i+e.strm.avail_in)))break;o=n===$s&&r===i+e.strm.avail_in?1:0,T1(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,vs(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(k1(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===o);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?4:n!==hu&&n!==$s&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(k1(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,t=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=t||(i||n===$s)&&n!==hu&&0===e.strm.avail_in&&i<=s)&&(r=i>s?s:i,o=n===$s&&0===e.strm.avail_in&&r===i?1:0,T1(e,e.block_start,r,o),e.block_start+=r,vs(e.strm)),o?3:1)},L1=(e,n)=>{let t,r;for(;;){if(e.lookahead<Jo){if(Yl(e),e.lookahead<Jo&&n===hu)return 1;if(0===e.lookahead)break}if(t=0,e.lookahead>=3&&(e.ins_h=yu(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==t&&e.strstart-t<=e.w_size-Jo&&(e.match_length=iR(e,t)),e.match_length>=3)if(r=pu(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=yu(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=yu(e,e.ins_h,e.window[e.strstart+1]);else r=pu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ws(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,n===$s?(ws(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ws(e,!1),0===e.strm.avail_out)?1:2},Xl=(e,n)=>{let t,r,i;for(;;){if(e.lookahead<Jo){if(Yl(e),e.lookahead<Jo&&n===hu)return 1;if(0===e.lookahead)break}if(t=0,e.lookahead>=3&&(e.ins_h=yu(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==t&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-Jo&&(e.match_length=iR(e,t),e.match_length<=5&&(e.strategy===cY||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=pu(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=yu(e,e.ins_h,e.window[e.strstart+3-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(ws(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=pu(e,0,e.window[e.strstart-1]),r&&ws(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=pu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,n===$s?(ws(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ws(e,!1),0===e.strm.avail_out)?1:2};function Zo(e,n,t,r,i){this.good_length=e,this.max_lazy=n,this.nice_length=t,this.max_chain=r,this.func=i}const Np=[new Zo(0,0,0,0,sR),new Zo(4,4,8,4,L1),new Zo(4,5,16,8,L1),new Zo(4,6,32,32,L1),new Zo(4,4,16,16,Xl),new Zo(8,16,32,32,Xl),new Zo(8,16,128,128,Xl),new Zo(8,32,128,256,Xl),new Zo(32,128,258,1024,Xl),new Zo(32,258,258,4096,Xl)];function IY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ty,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),gu(this.dyn_ltree),gu(this.dyn_dtree),gu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),gu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),gu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bp=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||42!==n.status&&57!==n.status&&69!==n.status&&73!==n.status&&91!==n.status&&103!==n.status&&113!==n.status&&666!==n.status?1:0},oR=e=>{if(Bp(e))return gc(e,Go);e.total_in=e.total_out=0,e.data_type=pY;const n=e.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=2===n.wrap?57:n.wrap?42:113,e.adler=2===n.wrap?0:1,n.last_flush=-2,nY(n),hi},aR=e=>{const n=oR(e);return n===hi&&(e=>{e.window_size=2*e.w_size,gu(e.head),e.max_lazy_match=Np[e.level].max_lazy,e.good_match=Np[e.level].good_length,e.nice_match=Np[e.level].nice_length,e.max_chain_length=Np[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),n},uR=(e,n,t,r,i,s)=>{if(!e)return Go;let o=1;if(n===uY&&(n=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||t!==Ty||r<8||r>15||n<0||n>9||s<0||s>dY||8===r&&1!==o)return gc(e,Go);8===r&&(r=9);const a=new IY;return e.state=a,a.strm=e,a.status=42,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=n,a.strategy=s,a.method=t,aR(e)};var kp={deflateInit:(e,n)=>uR(e,n,Ty,15,8,fY),deflateInit2:uR,deflateReset:aR,deflateResetKeep:oR,deflateSetHeader:(e,n)=>Bp(e)||2!==e.state.wrap?Go:(e.state.gzhead=n,hi),deflate:(e,n)=>{if(Bp(e)||n>tR||n<0)return e?gc(e,Go):Go;const t=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===t.status&&n!==$s)return gc(e,0===e.avail_out?O1:Go);const r=t.last_flush;if(t.last_flush=n,0!==t.pending){if(vs(e),0===e.avail_out)return t.last_flush=-1,hi}else if(0===e.avail_in&&rR(n)<=rR(r)&&n!==$s)return gc(e,O1);if(666===t.status&&0!==e.avail_in)return gc(e,O1);if(42===t.status&&0===t.wrap&&(t.status=113),42===t.status){let i=Ty+(t.w_bits-8<<4)<<8,s=-1;if(s=t.strategy>=xy||t.level<2?0:t.level<6?1:6===t.level?2:3,i|=s<<6,0!==t.strstart&&(i|=32),i+=31-i%31,Mp(t,i),0!==t.strstart&&(Mp(t,e.adler>>>16),Mp(t,65535&e.adler)),e.adler=1,t.status=113,vs(e),0!==t.pending)return t.last_flush=-1,hi}if(57===t.status)if(e.adler=0,Vn(t,31),Vn(t,139),Vn(t,8),t.gzhead)Vn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Vn(t,255&t.gzhead.time),Vn(t,t.gzhead.time>>8&255),Vn(t,t.gzhead.time>>16&255),Vn(t,t.gzhead.time>>24&255),Vn(t,9===t.level?2:t.strategy>=xy||t.level<2?4:0),Vn(t,255&t.gzhead.os),t.gzhead.extra&&t.gzhead.extra.length&&(Vn(t,255&t.gzhead.extra.length),Vn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=ri(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=69;else if(Vn(t,0),Vn(t,0),Vn(t,0),Vn(t,0),Vn(t,0),Vn(t,9===t.level?2:t.strategy>=xy||t.level<2?4:0),Vn(t,3),t.status=113,vs(e),0!==t.pending)return t.last_flush=-1,hi;if(69===t.status){if(t.gzhead.extra){let i=t.pending,s=(65535&t.gzhead.extra.length)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(e.adler=ri(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,vs(e),0!==t.pending)return t.last_flush=-1,hi;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(e.adler=ri(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=73}if(73===t.status){if(t.gzhead.name){let s,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=ri(e.adler,t.pending_buf,t.pending-i,i)),vs(e),0!==t.pending)return t.last_flush=-1,hi;i=0}s=t.gzindex<t.gzhead.name.length?255&t.gzhead.name.charCodeAt(t.gzindex++):0,Vn(t,s)}while(0!==s);t.gzhead.hcrc&&t.pending>i&&(e.adler=ri(e.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=91}if(91===t.status){if(t.gzhead.comment){let s,i=t.pending;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(e.adler=ri(e.adler,t.pending_buf,t.pending-i,i)),vs(e),0!==t.pending)return t.last_flush=-1,hi;i=0}s=t.gzindex<t.gzhead.comment.length?255&t.gzhead.comment.charCodeAt(t.gzindex++):0,Vn(t,s)}while(0!==s);t.gzhead.hcrc&&t.pending>i&&(e.adler=ri(e.adler,t.pending_buf,t.pending-i,i))}t.status=103}if(103===t.status){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(vs(e),0!==t.pending))return t.last_flush=-1,hi;Vn(t,255&e.adler),Vn(t,e.adler>>8&255),e.adler=0}if(t.status=113,vs(e),0!==t.pending)return t.last_flush=-1,hi}if(0!==e.avail_in||0!==t.lookahead||n!==hu&&666!==t.status){let i=0===t.level?sR(t,n):t.strategy===xy?((e,n)=>{let t;for(;;){if(0===e.lookahead&&(Yl(e),0===e.lookahead)){if(n===hu)return 1;break}if(e.match_length=0,t=pu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(ws(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,n===$s?(ws(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ws(e,!1),0===e.strm.avail_out)?1:2})(t,n):t.strategy===lY?((e,n)=>{let t,r,i,s;const o=e.window;for(;;){if(e.lookahead<=258){if(Yl(e),e.lookahead<=258&&n===hu)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=e.strstart+258;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);e.match_length=258-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(t=pu(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=pu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(ws(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,n===$s?(ws(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(ws(e,!1),0===e.strm.avail_out)?1:2})(t,n):Np[t.level].func(t,n);if((3===i||4===i)&&(t.status=666),1===i||3===i)return 0===e.avail_out&&(t.last_flush=-1),hi;if(2===i&&(n===sY?iY(t):n!==tR&&(T1(t,0,0,!1),n===oY&&(gu(t.head),0===t.lookahead&&(t.strstart=0,t.block_start=0,t.insert=0))),vs(e),0===e.avail_out))return t.last_flush=-1,hi}return n!==$s?hi:t.wrap<=0?nR:(2===t.wrap?(Vn(t,255&e.adler),Vn(t,e.adler>>8&255),Vn(t,e.adler>>16&255),Vn(t,e.adler>>24&255),Vn(t,255&e.total_in),Vn(t,e.total_in>>8&255),Vn(t,e.total_in>>16&255),Vn(t,e.total_in>>24&255)):(Mp(t,e.adler>>>16),Mp(t,65535&e.adler)),vs(e),t.wrap>0&&(t.wrap=-t.wrap),0!==t.pending?hi:nR)},deflateEnd:e=>{if(Bp(e))return Go;const n=e.state.status;return e.state=null,113===n?gc(e,aY):hi},deflateSetDictionary:(e,n)=>{let t=n.length;if(Bp(e))return Go;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Go;if(1===i&&(e.adler=Fp(e.adler,n,t,0)),r.wrap=0,t>=r.w_size){0===i&&(gu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let p=new Uint8Array(r.w_size);p.set(n.subarray(t-r.w_size,t),0),n=p,t=r.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=t,e.next_in=0,e.input=n,Yl(r);r.lookahead>=3;){let p=r.strstart,C=r.lookahead-2;do{r.ins_h=yu(r,r.ins_h,r.window[p+3-1]),r.prev[p&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=p,p++}while(--C);r.strstart=p,r.lookahead=2,Yl(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,r.wrap=i,hi},deflateInfo:"pako deflate (from Nodeca project)"};const VY=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var Oy={assign:function(e){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const t=n.shift();if(t){if("object"!=typeof t)throw new TypeError(t+"must be non-object");for(const r in t)VY(t,r)&&(e[r]=t[r])}}return e},flattenChunks:e=>{let n=0;for(let r=0,i=e.length;r<i;r++)n+=e[r].length;const t=new Uint8Array(n);for(let r=0,i=0,s=e.length;r<s;r++){let o=e[r];t.set(o,i),i+=o.length}return t}};let cR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{cR=!1}const Lp=new Uint8Array(256);for(let e=0;e<256;e++)Lp[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Lp[254]=Lp[254]=1;var $p={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let n,t,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)t=e.charCodeAt(i),55296==(64512&t)&&i+1<o&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(n=new Uint8Array(a),s=0,i=0;s<a;i++)t=e.charCodeAt(i),55296==(64512&t)&&i+1<o&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?n[s++]=t:t<2048?(n[s++]=192|t>>>6,n[s++]=128|63&t):t<65536?(n[s++]=224|t>>>12,n[s++]=128|t>>>6&63,n[s++]=128|63&t):(n[s++]=240|t>>>18,n[s++]=128|t>>>12&63,n[s++]=128|t>>>6&63,n[s++]=128|63&t);return n},buf2string:(e,n)=>{const t=n||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,n));let r,i;const s=new Array(2*t);for(i=0,r=0;r<t;){let o=e[r++];if(o<128){s[i++]=o;continue}let a=Lp[o];if(a>4)s[i++]=65533,r+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&r<t;)o=o<<6|63&e[r++],a--;a>1?s[i++]=65533:o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|1023&o)}}return((e,n)=>{if(n<65534&&e.subarray&&cR)return String.fromCharCode.apply(null,e.length===n?e:e.subarray(0,n));let t="";for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return t})(s,i)},utf8border:(e,n)=>{(n=n||e.length)>e.length&&(n=e.length);let t=n-1;for(;t>=0&&128==(192&e[t]);)t--;return t<0||0===t?n:t+Lp[e[t]]>n?t:n}},lR=function ZY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const dR=Object.prototype.toString,{Z_NO_FLUSH:qY,Z_SYNC_FLUSH:YY,Z_FULL_FLUSH:XY,Z_FINISH:QY,Z_OK:Py,Z_STREAM_END:eX,Z_DEFAULT_COMPRESSION:tX,Z_DEFAULT_STRATEGY:nX,Z_DEFLATED:rX}=pc;function jp(e){this.options=Oy.assign({level:tX,method:rX,chunkSize:16384,windowBits:15,memLevel:8,strategy:nX},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lR,this.strm.avail_out=0;let t=kp.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(t!==Py)throw new Error(fc[t]);if(n.header&&kp.deflateSetHeader(this.strm,n.header),n.dictionary){let r;if(r="string"==typeof n.dictionary?$p.string2buf(n.dictionary):"[object ArrayBuffer]"===dR.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,t=kp.deflateSetDictionary(this.strm,r),t!==Py)throw new Error(fc[t]);this._dict_set=!0}}function $1(e,n){const t=new jp(n);if(t.push(e,!0),t.err)throw t.msg||fc[t.err];return t.result}jp.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=n===~~n?n:!0===n?QY:qY,t.input="string"==typeof e?$p.string2buf(e):"[object ArrayBuffer]"===dR.call(e)?new Uint8Array(e):e,t.next_in=0,t.avail_in=t.input.length;;)if(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===YY||s===XY)&&t.avail_out<=6)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else{if(i=kp.deflate(t,s),i===eX)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=kp.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Py;if(0!==t.avail_out){if(s>0&&t.next_out>0)this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;else if(0===t.avail_in)break}else this.onData(t.output)}return!0},jp.prototype.onData=function(e){this.chunks.push(e)},jp.prototype.onEnd=function(e){e===Py&&(this.result=Oy.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var dX={Deflate:jp,deflate:$1,deflateRaw:function iX(e,n){return(n=n||{}).raw=!0,$1(e,n)},gzip:function sX(e,n){return(n=n||{}).gzip=!0,$1(e,n)},constants:pc};const Fy=16209;var pX=function(n,t){let r,i,s,o,a,p,C,x,U,ue,ce,ge,Re,Ue,We,He,Je,Xe,et,nt,st,mt,St,bt;const At=n.state;r=n.next_in,St=n.input,i=r+(n.avail_in-5),s=n.next_out,bt=n.output,o=s-(t-n.avail_out),a=s+(n.avail_out-257),p=At.dmax,C=At.wsize,x=At.whave,U=At.wnext,ue=At.window,ce=At.hold,ge=At.bits,Re=At.lencode,Ue=At.distcode,We=(1<<At.lenbits)-1,He=(1<<At.distbits)-1;e:do{ge<15&&(ce+=St[r++]<<ge,ge+=8,ce+=St[r++]<<ge,ge+=8),Je=Re[ce&We];t:for(;;){if(Xe=Je>>>24,ce>>>=Xe,ge-=Xe,Xe=Je>>>16&255,0===Xe)bt[s++]=65535&Je;else{if(!(16&Xe)){if(64&Xe){if(32&Xe){At.mode=16191;break e}n.msg="invalid literal/length code",At.mode=Fy;break e}Je=Re[(65535&Je)+(ce&(1<<Xe)-1)];continue t}for(et=65535&Je,Xe&=15,Xe&&(ge<Xe&&(ce+=St[r++]<<ge,ge+=8),et+=ce&(1<<Xe)-1,ce>>>=Xe,ge-=Xe),ge<15&&(ce+=St[r++]<<ge,ge+=8,ce+=St[r++]<<ge,ge+=8),Je=Ue[ce&He];;){if(Xe=Je>>>24,ce>>>=Xe,ge-=Xe,Xe=Je>>>16&255,16&Xe){if(nt=65535&Je,Xe&=15,ge<Xe&&(ce+=St[r++]<<ge,ge+=8,ge<Xe&&(ce+=St[r++]<<ge,ge+=8)),nt+=ce&(1<<Xe)-1,nt>p){n.msg="invalid distance too far back",At.mode=Fy;break e}if(ce>>>=Xe,ge-=Xe,Xe=s-o,nt>Xe){if(Xe=nt-Xe,Xe>x&&At.sane){n.msg="invalid distance too far back",At.mode=Fy;break e}if(st=0,mt=ue,0===U){if(st+=C-Xe,Xe<et){et-=Xe;do{bt[s++]=ue[st++]}while(--Xe);st=s-nt,mt=bt}}else if(U<Xe){if(st+=C+U-Xe,Xe-=U,Xe<et){et-=Xe;do{bt[s++]=ue[st++]}while(--Xe);if(st=0,U<et){Xe=U,et-=Xe;do{bt[s++]=ue[st++]}while(--Xe);st=s-nt,mt=bt}}}else if(st+=U-Xe,Xe<et){et-=Xe;do{bt[s++]=ue[st++]}while(--Xe);st=s-nt,mt=bt}for(;et>2;)bt[s++]=mt[st++],bt[s++]=mt[st++],bt[s++]=mt[st++],et-=3;et&&(bt[s++]=mt[st++],et>1&&(bt[s++]=mt[st++]))}else{st=s-nt;do{bt[s++]=bt[st++],bt[s++]=bt[st++],bt[s++]=bt[st++],et-=3}while(et>2);et&&(bt[s++]=bt[st++],et>1&&(bt[s++]=bt[st++]))}break}if(64&Xe){n.msg="invalid distance code",At.mode=Fy;break e}Je=Ue[(65535&Je)+(ce&(1<<Xe)-1)]}}break}}while(r<i&&s<a);et=ge>>3,r-=et,ge-=et<<3,ce&=(1<<ge)-1,n.next_in=r,n.next_out=s,n.avail_in=r<i?i-r+5:5-(r-i),n.avail_out=s<a?a-s+257:257-(s-a),At.hold=ce,At.bits=ge};const hX=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mX=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gX=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Up=(e,n,t,r,i,s,o,a)=>{const p=a.bits;let Je,Xe,et,nt,st,St,C=0,x=0,U=0,ue=0,ce=0,ge=0,Re=0,Ue=0,We=0,He=0,mt=null;const bt=new Uint16Array(16),At=new Uint16Array(16);let gn,Zr,_t,bn=null;for(C=0;C<=15;C++)bt[C]=0;for(x=0;x<r;x++)bt[n[t+x]]++;for(ce=p,ue=15;ue>=1&&0===bt[ue];ue--);if(ce>ue&&(ce=ue),0===ue)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(U=1;U<ue&&0===bt[U];U++);for(ce<U&&(ce=U),Ue=1,C=1;C<=15;C++)if(Ue<<=1,Ue-=bt[C],Ue<0)return-1;if(Ue>0&&(0===e||1!==ue))return-1;for(At[1]=0,C=1;C<15;C++)At[C+1]=At[C]+bt[C];for(x=0;x<r;x++)0!==n[t+x]&&(o[At[n[t+x]]++]=x);if(0===e?(mt=bn=o,St=20):1===e?(mt=hX,bn=mX,St=257):(mt=gX,bn=yX,St=0),He=0,x=0,C=U,st=s,ge=ce,Re=0,et=-1,We=1<<ce,nt=We-1,1===e&&We>852||2===e&&We>592)return 1;for(;;){gn=C-Re,o[x]+1<St?(Zr=0,_t=o[x]):o[x]>=St?(Zr=bn[o[x]-St],_t=mt[o[x]-St]):(Zr=96,_t=0),Je=1<<C-Re,Xe=1<<ge,U=Xe;do{Xe-=Je,i[st+(He>>Re)+Xe]=gn<<24|Zr<<16|_t}while(0!==Xe);for(Je=1<<C-1;He&Je;)Je>>=1;if(0!==Je?(He&=Je-1,He+=Je):He=0,x++,0==--bt[C]){if(C===ue)break;C=n[t+o[x]]}if(C>ce&&(He&nt)!==et){for(0===Re&&(Re=ce),st+=U,ge=C-Re,Ue=1<<ge;ge+Re<ue&&(Ue-=bt[ge+Re],!(Ue<=0));)ge++,Ue<<=1;if(We+=1<<ge,1===e&&We>852||2===e&&We>592)return 1;et=He&nt,i[et]=ce<<24|ge<<16|st-s}}return 0!==He&&(i[st+He]=C-Re<<24|64<<16),a.bits=ce,0};const{Z_FINISH:vR,Z_BLOCK:wX,Z_TREES:Ry,Z_OK:yc,Z_STREAM_END:EX,Z_NEED_DICT:bX,Z_STREAM_ERROR:js,Z_DATA_ERROR:wR,Z_MEM_ERROR:ER,Z_BUF_ERROR:DX,Z_DEFLATED:bR}=pc,My=16180,Ny=16190,Ia=16191,By=16199,ky=16200,dr=16209,KR=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function CX(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vc=e=>{if(!e)return 1;const n=e.state;return!n||n.strm!==e||n.mode<My||n.mode>16211?1:0},WR=e=>{if(vc(e))return js;const n=e.state;return e.total_in=e.total_out=n.total=0,e.msg="",n.wrap&&(e.adler=1&n.wrap),n.mode=My,n.last=0,n.havedict=0,n.flags=-1,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,yc},GR=e=>{if(vc(e))return js;const n=e.state;return n.wsize=0,n.whave=0,n.wnext=0,WR(e)},JR=(e,n)=>{let t;if(vc(e))return js;const r=e.state;return n<0?(t=0,n=-n):(t=5+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?js:(null!==r.window&&r.wbits!==n&&(r.window=null),r.wrap=t,r.wbits=n,GR(e))},ZR=(e,n)=>{if(!e)return js;const t=new CX;e.state=t,t.strm=e,t.window=null,t.mode=My;const r=JR(e,n);return r!==yc&&(e.state=null),r};let z1,K1,qR=!0;const xX=e=>{if(qR){z1=new Int32Array(512),K1=new Int32Array(32);let n=0;for(;n<144;)e.lens[n++]=8;for(;n<256;)e.lens[n++]=9;for(;n<280;)e.lens[n++]=7;for(;n<288;)e.lens[n++]=8;for(Up(1,e.lens,0,288,z1,0,e.work,{bits:9}),n=0;n<32;)e.lens[n++]=5;Up(2,e.lens,0,32,K1,0,e.work,{bits:5}),qR=!1}e.lencode=z1,e.lenbits=9,e.distcode=K1,e.distbits=5},YR=(e,n,t,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(n.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(n.subarray(t-r,t-r+i),s.wnext),(r-=i)?(s.window.set(n.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var xa={inflateReset:GR,inflateReset2:JR,inflateResetKeep:WR,inflateInit:e=>ZR(e,15),inflateInit2:ZR,inflate:(e,n)=>{let t,r,i,s,o,a,p,C,x,U,ue,ce,ge,Re,We,He,Je,Xe,et,nt,st,mt,Ue=0;const St=new Uint8Array(4);let bt,At;const bn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vc(e)||!e.output||!e.input&&0!==e.avail_in)return js;t=e.state,t.mode===Ia&&(t.mode=16192),o=e.next_out,i=e.output,p=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,C=t.hold,x=t.bits,U=a,ue=p,mt=yc;e:for(;;)switch(t.mode){case My:if(0===t.wrap){t.mode=16192;break}for(;x<16;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(2&t.wrap&&35615===C){0===t.wbits&&(t.wbits=15),t.check=0,St[0]=255&C,St[1]=C>>>8&255,t.check=ri(t.check,St,2,0),C=0,x=0,t.mode=16181;break}if(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&C)<<8)+(C>>8))%31){e.msg="incorrect header check",t.mode=dr;break}if((15&C)!==bR){e.msg="unknown compression method",t.mode=dr;break}if(C>>>=4,x-=4,st=8+(15&C),0===t.wbits&&(t.wbits=st),st>15||st>t.wbits){e.msg="invalid window size",t.mode=dr;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=512&C?16189:Ia,C=0,x=0;break;case 16181:for(;x<16;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(t.flags=C,(255&t.flags)!==bR){e.msg="unknown compression method",t.mode=dr;break}if(57344&t.flags){e.msg="unknown header flags set",t.mode=dr;break}t.head&&(t.head.text=C>>8&1),512&t.flags&&4&t.wrap&&(St[0]=255&C,St[1]=C>>>8&255,t.check=ri(t.check,St,2,0)),C=0,x=0,t.mode=16182;case 16182:for(;x<32;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}t.head&&(t.head.time=C),512&t.flags&&4&t.wrap&&(St[0]=255&C,St[1]=C>>>8&255,St[2]=C>>>16&255,St[3]=C>>>24&255,t.check=ri(t.check,St,4,0)),C=0,x=0,t.mode=16183;case 16183:for(;x<16;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}t.head&&(t.head.xflags=255&C,t.head.os=C>>8),512&t.flags&&4&t.wrap&&(St[0]=255&C,St[1]=C>>>8&255,t.check=ri(t.check,St,2,0)),C=0,x=0,t.mode=16184;case 16184:if(1024&t.flags){for(;x<16;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}t.length=C,t.head&&(t.head.extra_len=C),512&t.flags&&4&t.wrap&&(St[0]=255&C,St[1]=C>>>8&255,t.check=ri(t.check,St,2,0)),C=0,x=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&(ce=t.length,ce>a&&(ce=a),ce&&(t.head&&(st=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+ce),st)),512&t.flags&&4&t.wrap&&(t.check=ri(t.check,r,ce,s)),a-=ce,s+=ce,t.length-=ce),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===a)break e;ce=0;do{st=r[s+ce++],t.head&&st&&t.length<65536&&(t.head.name+=String.fromCharCode(st))}while(st&&ce<a);if(512&t.flags&&4&t.wrap&&(t.check=ri(t.check,r,ce,s)),a-=ce,s+=ce,st)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===a)break e;ce=0;do{st=r[s+ce++],t.head&&st&&t.length<65536&&(t.head.comment+=String.fromCharCode(st))}while(st&&ce<a);if(512&t.flags&&4&t.wrap&&(t.check=ri(t.check,r,ce,s)),a-=ce,s+=ce,st)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;x<16;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(4&t.wrap&&C!==(65535&t.check)){e.msg="header crc mismatch",t.mode=dr;break}C=0,x=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=Ia;break;case 16189:for(;x<32;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}e.adler=t.check=KR(C),C=0,x=0,t.mode=Ny;case Ny:if(0===t.havedict)return e.next_out=o,e.avail_out=p,e.next_in=s,e.avail_in=a,t.hold=C,t.bits=x,bX;e.adler=t.check=1,t.mode=Ia;case Ia:if(n===wX||n===Ry)break e;case 16192:if(t.last){C>>>=7&x,x-=7&x,t.mode=16206;break}for(;x<3;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}switch(t.last=1&C,C>>>=1,x-=1,3&C){case 0:t.mode=16193;break;case 1:if(xX(t),t.mode=By,n===Ry){C>>>=2,x-=2;break e}break;case 2:t.mode=16196;break;case 3:e.msg="invalid block type",t.mode=dr}C>>>=2,x-=2;break;case 16193:for(C>>>=7&x,x-=7&x;x<32;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if((65535&C)!=(C>>>16^65535)){e.msg="invalid stored block lengths",t.mode=dr;break}if(t.length=65535&C,C=0,x=0,t.mode=16194,n===Ry)break e;case 16194:t.mode=16195;case 16195:if(ce=t.length,ce){if(ce>a&&(ce=a),ce>p&&(ce=p),0===ce)break e;i.set(r.subarray(s,s+ce),o),a-=ce,s+=ce,p-=ce,o+=ce,t.length-=ce;break}t.mode=Ia;break;case 16196:for(;x<14;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(t.nlen=257+(31&C),C>>>=5,x-=5,t.ndist=1+(31&C),C>>>=5,x-=5,t.ncode=4+(15&C),C>>>=4,x-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=dr;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;x<3;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}t.lens[bn[t.have++]]=7&C,C>>>=3,x-=3}for(;t.have<19;)t.lens[bn[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,bt={bits:t.lenbits},mt=Up(0,t.lens,0,19,t.lencode,0,t.work,bt),t.lenbits=bt.bits,mt){e.msg="invalid code lengths set",t.mode=dr;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;Ue=t.lencode[C&(1<<t.lenbits)-1],We=Ue>>>24,He=Ue>>>16&255,Je=65535&Ue,!(We<=x);){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(Je<16)C>>>=We,x-=We,t.lens[t.have++]=Je;else{if(16===Je){for(At=We+2;x<At;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(C>>>=We,x-=We,0===t.have){e.msg="invalid bit length repeat",t.mode=dr;break}st=t.lens[t.have-1],ce=3+(3&C),C>>>=2,x-=2}else if(17===Je){for(At=We+3;x<At;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}C>>>=We,x-=We,st=0,ce=3+(7&C),C>>>=3,x-=3}else{for(At=We+7;x<At;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}C>>>=We,x-=We,st=0,ce=11+(127&C),C>>>=7,x-=7}if(t.have+ce>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=dr;break}for(;ce--;)t.lens[t.have++]=st}}if(t.mode===dr)break;if(0===t.lens[256]){e.msg="invalid code -- missing end-of-block",t.mode=dr;break}if(t.lenbits=9,bt={bits:t.lenbits},mt=Up(1,t.lens,0,t.nlen,t.lencode,0,t.work,bt),t.lenbits=bt.bits,mt){e.msg="invalid literal/lengths set",t.mode=dr;break}if(t.distbits=6,t.distcode=t.distdyn,bt={bits:t.distbits},mt=Up(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,bt),t.distbits=bt.bits,mt){e.msg="invalid distances set",t.mode=dr;break}if(t.mode=By,n===Ry)break e;case By:t.mode=ky;case ky:if(a>=6&&p>=258){e.next_out=o,e.avail_out=p,e.next_in=s,e.avail_in=a,t.hold=C,t.bits=x,pX(e,ue),o=e.next_out,i=e.output,p=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,C=t.hold,x=t.bits,t.mode===Ia&&(t.back=-1);break}for(t.back=0;Ue=t.lencode[C&(1<<t.lenbits)-1],We=Ue>>>24,He=Ue>>>16&255,Je=65535&Ue,!(We<=x);){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(He&&!(240&He)){for(Xe=We,et=He,nt=Je;Ue=t.lencode[nt+((C&(1<<Xe+et)-1)>>Xe)],We=Ue>>>24,He=Ue>>>16&255,Je=65535&Ue,!(Xe+We<=x);){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}C>>>=Xe,x-=Xe,t.back+=Xe}if(C>>>=We,x-=We,t.back+=We,t.length=Je,0===He){t.mode=16205;break}if(32&He){t.back=-1,t.mode=Ia;break}if(64&He){e.msg="invalid literal/length code",t.mode=dr;break}t.extra=15&He,t.mode=16201;case 16201:if(t.extra){for(At=t.extra;x<At;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}t.length+=C&(1<<t.extra)-1,C>>>=t.extra,x-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;Ue=t.distcode[C&(1<<t.distbits)-1],We=Ue>>>24,He=Ue>>>16&255,Je=65535&Ue,!(We<=x);){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(!(240&He)){for(Xe=We,et=He,nt=Je;Ue=t.distcode[nt+((C&(1<<Xe+et)-1)>>Xe)],We=Ue>>>24,He=Ue>>>16&255,Je=65535&Ue,!(Xe+We<=x);){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}C>>>=Xe,x-=Xe,t.back+=Xe}if(C>>>=We,x-=We,t.back+=We,64&He){e.msg="invalid distance code",t.mode=dr;break}t.offset=Je,t.extra=15&He,t.mode=16203;case 16203:if(t.extra){for(At=t.extra;x<At;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}t.offset+=C&(1<<t.extra)-1,C>>>=t.extra,x-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=dr;break}t.mode=16204;case 16204:if(0===p)break e;if(ce=ue-p,t.offset>ce){if(ce=t.offset-ce,ce>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=dr;break}ce>t.wnext?(ce-=t.wnext,ge=t.wsize-ce):ge=t.wnext-ce,ce>t.length&&(ce=t.length),Re=t.window}else Re=i,ge=o-t.offset,ce=t.length;ce>p&&(ce=p),p-=ce,t.length-=ce;do{i[o++]=Re[ge++]}while(--ce);0===t.length&&(t.mode=ky);break;case 16205:if(0===p)break e;i[o++]=t.length,p--,t.mode=ky;break;case 16206:if(t.wrap){for(;x<32;){if(0===a)break e;a--,C|=r[s++]<<x,x+=8}if(ue-=p,e.total_out+=ue,t.total+=ue,4&t.wrap&&ue&&(e.adler=t.check=t.flags?ri(t.check,i,ue,o-ue):Fp(t.check,i,ue,o-ue)),ue=p,4&t.wrap&&(t.flags?C:KR(C))!==t.check){e.msg="incorrect data check",t.mode=dr;break}C=0,x=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;x<32;){if(0===a)break e;a--,C+=r[s++]<<x,x+=8}if(4&t.wrap&&C!==(4294967295&t.total)){e.msg="incorrect length check",t.mode=dr;break}C=0,x=0}t.mode=16208;case 16208:mt=EX;break e;case dr:mt=wR;break e;case 16210:return ER;default:return js}return e.next_out=o,e.avail_out=p,e.next_in=s,e.avail_in=a,t.hold=C,t.bits=x,(t.wsize||ue!==e.avail_out&&t.mode<dr&&(t.mode<16206||n!==vR))&&YR(e,e.output,e.next_out,ue-e.avail_out),U-=e.avail_in,ue-=e.avail_out,e.total_in+=U,e.total_out+=ue,t.total+=ue,4&t.wrap&&ue&&(e.adler=t.check=t.flags?ri(t.check,i,ue,e.next_out-ue):Fp(t.check,i,ue,e.next_out-ue)),e.data_type=t.bits+(t.last?64:0)+(t.mode===Ia?128:0)+(t.mode===By||16194===t.mode?256:0),(0===U&&0===ue||n===vR)&&mt===yc&&(mt=DX),mt},inflateEnd:e=>{if(vc(e))return js;let n=e.state;return n.window&&(n.window=null),e.state=null,yc},inflateGetHeader:(e,n)=>{if(vc(e))return js;const t=e.state;return 2&t.wrap?(t.head=n,n.done=!1,yc):js},inflateSetDictionary:(e,n)=>{const t=n.length;let r,i,s;return vc(e)||(r=e.state,0!==r.wrap&&r.mode!==Ny)?js:r.mode===Ny&&(i=1,i=Fp(i,n,t,0),i!==r.check)?wR:(s=YR(e,n,t,t),s?(r.mode=16210,ER):(r.havedict=1,yc))},inflateInfo:"pako inflate (from Nodeca project)"},zX=function HX(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const XR=Object.prototype.toString,{Z_NO_FLUSH:KX,Z_FINISH:WX,Z_OK:Vp,Z_STREAM_END:W1,Z_NEED_DICT:G1,Z_STREAM_ERROR:GX,Z_DATA_ERROR:QR,Z_MEM_ERROR:JX}=pc;function Hp(e){this.options=Oy.assign({chunkSize:65536,windowBits:15,to:""},e||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(e&&e.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(15&n.windowBits||(n.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lR,this.strm.avail_out=0;let t=xa.inflateInit2(this.strm,n.windowBits);if(t!==Vp)throw new Error(fc[t]);if(this.header=new zX,xa.inflateGetHeader(this.strm,this.header),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=$p.string2buf(n.dictionary):"[object ArrayBuffer]"===XR.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(t=xa.inflateSetDictionary(this.strm,n.dictionary),t!==Vp)))throw new Error(fc[t])}function J1(e,n){const t=new Hp(n);if(t.push(e),t.err)throw t.msg||fc[t.err];return t.result}Hp.prototype.push=function(e,n){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=n===~~n?n:!0===n?WX:KX,t.input="[object ArrayBuffer]"===XR.call(e)?new Uint8Array(e):e,t.next_in=0,t.avail_in=t.input.length;;){for(0===t.avail_out&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=xa.inflate(t,o),s===G1&&i&&(s=xa.inflateSetDictionary(t,i),s===Vp?s=xa.inflate(t,o):s===QR&&(s=G1));t.avail_in>0&&s===W1&&t.state.wrap>0&&0!==e[t.next_in];)xa.inflateReset(t),s=xa.inflate(t,o);switch(s){case GX:case QR:case G1:case JX:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(0===t.avail_out||s===W1))if("string"===this.options.to){let p=$p.utf8border(t.output,t.next_out),C=t.next_out-p,x=$p.buf2string(t.output,p);t.next_out=C,t.avail_out=r-C,C&&t.output.set(t.output.subarray(p,p+C),0),this.onData(x)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(s!==Vp||0!==a){if(s===W1)return s=xa.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===t.avail_in)break}}return!0},Hp.prototype.onData=function(e){this.chunks.push(e)},Hp.prototype.onEnd=function(e){e===Vp&&(this.result="string"===this.options.to?this.chunks.join(""):Oy.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var tQ={Inflate:Hp,inflate:J1,inflateRaw:function ZX(e,n){return(n=n||{}).raw=!0,J1(e,n)},ungzip:J1,constants:pc};var wQ=d(8813);function eM(e){return new Date(1e3*e).toISOString().replace(/\.\d{3}/,"")}const zp="VerifiablePresentation";const _Q=new wQ.Validator;class ed{static validateCredentialPayload(n){this.validateContext(n.vcDataModel["@context"]),this.validateVcType(n.type),this.validateCredentialSubject(n.vcDataModel.credentialSubject),n.vcDataModel.issuanceDate&&this.validateTimestamp(n.vcDataModel.issuanceDate),n.vcDataModel.expirationDate&&this.validateTimestamp(n.vcDataModel.expirationDate)}static validateContext(n){const t=this.asArray(n);if(t.length<1||-1===t.indexOf(X1))throw new Error(`@context is missing default context "${X1}"`)}static validateVcType(n){const t=this.asArray(n);if(t.length<1||-1===t.indexOf(Kp))throw new Error(`type is missing default "${Kp}"`)}static validateVpType(n){const t=this.asArray(n);if(t.length<1||-1===t.indexOf(zp))throw new Error(`type is missing default "${zp}"`)}static validateCredentialSubject(n){if(0===Object.keys(n).length)throw new Error("credentialSubject must not be empty")}static validateTimestamp(n){if(!function bQ(e){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())}(n)&&!function DQ(e){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())}(n))throw new Error("timestamp is not valid xml schema 112 timestamp")}static validateCredentialSchema(n){return function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){const t=n.credentialSchema;if(!t||Array.isArray(t)&&0===t.length)throw new Error("Credential schema is missing or empty");const r=Array.isArray(t)?t[0].id:t.id;let i;try{const o=yield fetch(r);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);i=yield o.json()}catch(o){throw new Error(`Failed to fetch schema from ${r}: ${o.message}`)}const s=_Q.validate(n,i);if(!s.valid)throw new Error(`Schema Validation Errors: ${JSON.stringify(s.errors)}`)})}static asArray(n){return Array.isArray(n)?n:[n]}}var Y1=function(e,n,t,r){return new(t||(t=Promise))(function(s,o){function a(x){try{C(r.next(x))}catch(U){o(U)}}function p(x){try{C(r.throw(x))}catch(U){o(U)}}function C(x){x.done?s(x.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(x.value).then(a,p)}C((r=r.apply(e,n||[])).next())})};const X1="https://www.w3.org/2018/credentials/v1",Kp="VerifiableCredential";class Ly{constructor(n){this.vcDataModel=n}get type(){return this.vcDataModel.type[this.vcDataModel.type.length-1]}get issuer(){return this.vcDataModel.issuer.toString()}get subject(){return Array.isArray(this.vcDataModel.credentialSubject)?this.vcDataModel.credentialSubject[0].id:this.vcDataModel.credentialSubject.id}sign(n){return Y1(this,void 0,void 0,function*(){return yield lc.sign({signerDid:n.did,payload:Object.assign({vc:this.vcDataModel,nbf:Math.floor(new Date(this.vcDataModel.issuanceDate).getTime()/1e3),jti:this.vcDataModel.id,iss:n.did.uri,sub:this.subject,iat:Math.floor(Date.now()/1e3)},this.vcDataModel.expirationDate&&{exp:Math.floor(new Date(this.vcDataModel.expirationDate).getTime()/1e3)})})})}toString(){return JSON.stringify(this.vcDataModel)}static create(n){return Y1(this,void 0,void 0,function*(){const{type:t,issuer:r,subject:i,data:s,issuanceDate:o,expirationDate:a,credentialStatus:p,credentialSchema:C,evidence:x}=n,U=JSON.parse(JSON.stringify(s));if("object"!=typeof U)throw new Error("Expected data to be parseable into a JSON object");if(!r||!i)throw new Error("Issuer and subject must be defined");if("string"!=typeof r||"string"!=typeof i)throw new Error("Issuer and subject must be of type string");const ue=Object.assign({id:i},U),ce=[X1];null!==p&&ce.push(nM);const ge=Object.assign(Object.assign(Object.assign(Object.assign({"@context":ce,type:Array.isArray(t)?[Kp,...t]:t?[Kp,t]:[Kp],id:`urn:uuid:${ip.randomUuid()}`,issuer:r,issuanceDate:o||(new Date).toISOString().replace(/\.\d+Z$/,"Z"),credentialSubject:ue},a&&{expirationDate:a}),p&&{credentialStatus:p}),C&&{credentialSchema:C}),x&&{evidence:x});return Q1(ge),new Ly(ge)})}static verify(n){return Y1(this,arguments,void 0,function*({vcJwt:t}){const{payload:r}=yield lc.verify({jwt:t}),{exp:i,iss:s,nbf:o,jti:a,sub:p,vc:C}=r;if(!C)throw new Error("vc property missing.");const x=r.vc;if(i&&x.expirationDate&&i!==Math.floor(new Date(x.expirationDate).getTime()/1e3))throw new Error("Verification failed: exp claim does not match expirationDate");if(i&&(x.expirationDate=eM(i)),!s)throw new Error("Verification failed: iss claim is required");if(s!==x.issuer)throw new Error("Verification failed: iss claim does not match expected issuer");if(o&&o>Math.floor(Date.now()/1e3))throw new Error("Verification failed: nbf claim is in the future");if(o&&x.issuanceDate&&o!==Math.floor(new Date(x.issuanceDate).getTime()/1e3))throw new Error("Verification failed: nbf claim does not match issuanceDate");if(o&&(x.issuanceDate=eM(o)),p&&!Array.isArray(x.credentialSubject)&&p!==x.credentialSubject.id)throw new Error("Verification failed: sub claim does not match credentialSubject.id");if(p&&!Array.isArray(x.credentialSubject)&&(x.credentialSubject.id=p),a&&a!==x.id)throw new Error("Verification failed: jti claim does not match id");return a&&(x.id=a),Q1(x),x.credentialSchema&&(yield ed.validateCredentialSchema(x)),{issuer:r.iss,subject:r.sub,vc:x}})}static parseJwt({vcJwt:n}){const r=lc.parse({jwt:n}).decoded.payload.vc;if(!r)throw Error("Jwt payload missing vc property");return Q1(r),new Ly(r)}}function Q1(e){ed.validateContext(e["@context"]),ed.validateVcType(e.type),ed.validateCredentialSubject(e.credentialSubject),e.issuanceDate&&ed.validateTimestamp(e.issuanceDate),e.expirationDate&&ed.validateTimestamp(e.expirationDate)}const nM="https://w3id.org/vc/status-list/2021/v1";let IQ=(()=>{class e{transform(t,r){if(t){const i=t.lastIndexOf(":");if(-1!==i){const s=t.slice(0,i+1),o=t.slice(i+1);return s+o.slice(0,5)+"..."+o.slice(-5)}return t.slice(0,5)+"..."+t.slice(-5)}return t}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Fi({name:"did",type:e,pure:!0,standalone:!0})}return e})();function xQ(e,n){1&e&&(Gn(0,"h3",1),Pr(1,"Loading... please wait..."),Zn())}function TQ(e,n){1&e&&Pr(0," Male ")}function OQ(e,n){1&e&&Pr(0," Female ")}function PQ(e,n){if(1&e&&(Gn(0,"h2"),Pr(1),Zn(),Gn(2,"p"),Pr(3),Zn(),Gn(4,"p"),Pr(5),Zn(),Gn(6,"p"),Uu(7,TQ,1,0)(8,OQ,1,0),Zn(),Gn(9,"p"),sa(10,"img",3),Zn()),2&e){const t=cf(2);zr(),oa(t.vcData.name),zr(2),gl(" ",t.vcData.identifier,"\n"),zr(2),gl(" ",t.vcData.dateOfBirth,"\n"),zr(2),hl("M"==t.vcData.gender?7:8),zr(3),Dm("src","data:image/png;base64,",t.vcData.photo,"",sv)}}function FQ(e,n){if(1&e&&(Gn(0,"div",2),Pr(1),function zI(e,n){const t=ln();let r;const i=e+kt;t.firstCreatePass?(r=function N$(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Eu(r.type)),a=Gi(Jt);try{const p=wh(!1),C=s();return wh(p),function Rw(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,ft(),i,C),C}finally{Gi(a)}}(2,"did"),Zn(),Uu(3,PQ,11,6)),2&e){const t=cf();zr(),gl(" ",KI(2,2,t.did),"\n"),zr(2),hl(t.vcData?3:-1)}}const MQ=e=>["/t",e];function NQ(e,n){1&e&&(Gn(0,"h3",0),Pr(1,"Loading... please wait..."),Zn())}function BQ(e,n){if(1&e&&(Gn(0,"a",3)(1,"span",5),Pr(2),Zn()()),2&e){const t=n.$implicit;pl("routerLink",Lw(2,MQ,t)),zr(2),oa(t)}}function kQ(e,n){if(1&e&&(Gn(0,"h3"),Pr(1),Zn(),Gn(2,"div",1)(3,"p"),Pr(4),Zn(),Gn(5,"div",2),_w(6,BQ,3,4,"a",3,Sw),Zn(),sa(8,"div",4),Zn()),2&e){const t=cf();zr(),oa(t.entry.data.title),zr(3),oa(t.entry.data.abstract),zr(2),Aw(t.entry.record.tags.labels),zr(2),pl("innerHTML",t.sanitizeHtml(t.entry.data.body),D_)}}const $Q=e=>["/r",e];function jQ(e,n){1&e&&(Gn(0,"h3",0),Pr(1,"Loading... please wait..."),Zn())}function UQ(e,n){if(1&e&&(Gn(0,"a",2)(1,"h4"),Pr(2),Zn(),Gn(3,"p",3),Pr(4),Zn()()),2&e){const t=n.$implicit;pl("routerLink",Lw(3,$Q,t.id)),zr(2),oa(t.data.title),zr(2),oa(t.data.abstract)}}function VQ(e,n){if(1&e&&(Gn(0,"h3"),Pr(1),Zn(),Gn(2,"div",1),_w(3,UQ,5,5,"a",2,Sw),Zn()),2&e){const t=cf();zr(),oa(t.tag),zr(2),Aw(t.data.groups[t.tag])}}const HQ=[{path:"",component:(()=>{class e{sanitizer=yt(ig);data=yt(fb);route=yt(pa);title="app";loading=!0;did="";load(t){var r=this;return(0,Og.A)(function*(){if(!t)return void console.warn("No DID provided");typeof Web5<"u"?console.log("Web5 is available:",Web5):console.error("Web5 is not available");const{web5:i,did:s}=yield Web5.Web5.connect();console.log(i,s),console.log("From DID:",t);const o=yield i.dwn.records.query({from:t,message:{filter:{tags:{type:"FreeID"},schema:"IdentityCredential",dataFormat:"application/vc+jwt"}}});if(console.log("Response:",o.records),r.data.groups={},o.records)for(const a of o.records){console.log("REcord:",a);const p=yield a.data.text(),C=Ly.parseJwt({vcJwt:p});r.vc=C,r.vcData=C.vcDataModel.credentialSubject,console.log(r.vc)}r.loading=!1,r.data.loaded=!0,r.data.complete=!0,console.log(r.data.groups)})()}vc=null;vcData=null;sanitizeHtml(t){return this.sanitizer.bypassSecurityTrustHtml(t)}ngOnInit(){this.did=this.route.snapshot.queryParamMap.get("did"),this.load(this.did)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ac({type:e,selectors:[["app-home"]],standalone:!0,features:[yl],decls:4,vars:1,consts:[["id","help",1,"headline"],[1,"loading"],[1,"wrap"],[1,"image",3,"src"]],template:function(r,i){1&r&&(Gn(0,"h1",0),Pr(1,"Identification Verification"),Zn(),Uu(2,xQ,2,0,"h3",1)(3,FQ,4,4)),2&r&&(zr(2),hl(i.loading?2:3))},dependencies:[DE,Tg,IQ],styles:["[_nghost-%COMP%]{max-width:960px;display:flex;flex-direction:column;align-items:center}.image[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{width:100%}"]})}return e})()},{path:"r/:id",component:(()=>{class e{route;sanitizer=yt(ig);data=yt(fb);title="app";entries=[];groups={};loading=!0;entry;id;labels=[];constructor(t){this.route=t,this.id=this.route.snapshot.paramMap.get("id"),console.log("ID from route:",this.id)}load(t,r){var i=this;return(0,Og.A)(function*(){const s=i.data.entry(r);if(s)return i.entry=s,void(i.loading=!1);if(!t)return void console.warn("No DID provided");if(!r)return void console.warn("No Record ID provided");typeof Web5<"u"?console.log("Web5 is available:",Web5):console.error("Web5 is not available");const{web5:o,did:a}=yield Web5.Web5.connect();console.log(o,a),console.log("From DID:",t);const p=yield o.dwn.records.read({from:t,message:{filter:{recordId:r}}});if(console.log("Response:",p.record),p.record){const C=p.record;console.log("REcord:",C);const x=yield C.data.json();i.entry={record:C,data:x,id:C.id}}i.loading=!1})()}sanitizeHtml(t){return this.sanitizer.bypassSecurityTrustHtml(t)}ngOnInit(){this.load("did:dht:8qamgpthwxcqmxfb7bbj4rcuzej4qzr4em1aubr6u6s6npeq8foy",this.id)}static \u0275fac=function(r){return new(r||e)(Jt(pa))};static \u0275cmp=Ac({type:e,selectors:[["app-view"]],standalone:!0,features:[yl],decls:2,vars:1,consts:[[1,"loading"],[1,"topic-view"],[1,"chips"],[3,"routerLink"],[1,"help-body",3,"innerHTML"],[1,"chip"]],template:function(r,i){1&r&&Uu(0,NQ,2,0,"h3",0)(1,kQ,9,3),2&r&&hl(i.loading?0:1)},dependencies:[Tg,Ml],styles:[".chips[_ngcontent-%COMP%]{width:100%;margin:1em 0}.chip[_ngcontent-%COMP%]{background-color:var(--section-background-color);padding:.4em 1em;border-radius:14px;font-size:.8em;margin-right:.1em}"]})}return e})()},{path:"t/:tag",component:(()=>{class e{route;sanitizer=yt(ig);data=yt(fb);title="app";loading=!0;tag;constructor(t){this.route=t,this.tag=this.route.snapshot.paramMap.get("tag"),console.log("Tag from route:",this.tag)}load(t){var r=this;return(0,Og.A)(function*(){if(!t)return void console.warn("No DID provided");typeof Web5<"u"?console.log("Web5 is available:",Web5):console.error("Web5 is not available");const{web5:i,did:s}=yield Web5.Web5.connect();console.log(i,s),console.log("From DID:",t);const a={from:t,message:{filter:{tags:{labels:r.tag},protocol:"https://schema.ariton.app/text",protocolPath:"entry",schema:"https://schema.ariton.app/text/schema/entry",dataFormat:"application/json"}}};console.log("QUERY:",a);const p=yield i.dwn.records.query(a);if(console.log("Response:",p.records),r.data.groups[r.tag]=[],p.records)for(const C of p.records){console.log("REcord:",C);const x=yield C.data.json();r.data.groups[r.tag].push({record:C,data:x,id:C.id})}r.loading=!1,r.data.loaded=!0,r.data.complete=!1,console.log(r.data.groups)})()}sanitizeHtml(t){return this.sanitizer.bypassSecurityTrustHtml(t)}ngOnInit(){this.data.complete?this.loading=!1:this.load("did:dht:8qamgpthwxcqmxfb7bbj4rcuzej4qzr4em1aubr6u6s6npeq8foy")}static \u0275fac=function(r){return new(r||e)(Jt(pa))};static \u0275cmp=Ac({type:e,selectors:[["app-tag"]],standalone:!0,features:[yl],decls:2,vars:1,consts:[[1,"loading"],[1,"topic-container"],[1,"topic",3,"routerLink"],[1,"help-abstract"]],template:function(r,i){1&r&&Uu(0,jQ,2,0,"h3",0)(1,VQ,5,1),2&r&&hl(i.loading?0:1)},dependencies:[DE,Tg,Ml],styles:["[_nghost-%COMP%]{max-width:960px;display:flex;flex-direction:column;align-items:center}"]})}return e})()}],zQ={providers:[function Hj(e){const n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Jw({ngZoneFactory:()=>{const i=Zw(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&ki("NgZone_CoalesceEvent"),new zn(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return od([{provide:Vj,useValue:!0},{provide:zd,useValue:!1},r])}({eventCoalescing:!0}),function VK(e,...n){return od([{provide:Rl,multi:!0,useValue:e},[],{provide:pa,useFactory:pP,deps:[Fo]},{provide:hf,multi:!0,useFactory:hP},n.map(t=>t.\u0275providers)])}(HQ)]},KQ=()=>["/"];(function yV(e,n){return A9({rootComponent:e,...GT(n)})})((()=>{class e{ngOnInit(){const t=document.getElementById("light-icon"),r=document.getElementById("dark-icon"),i=document.querySelector(".theme-toggle"),s=document.querySelector(".screenshot-light"),o=document.querySelector(".screenshot-dark"),a=document.documentElement;i.addEventListener("click",()=>{"dark"===a.getAttribute("data-theme")?(a.removeAttribute("data-theme"),a.style.setProperty("color-scheme","light"),t.setAttribute("display","inline-block"),r.setAttribute("display","none"),s.classList.remove("hidden"),o.classList.add("hidden")):(a.setAttribute("data-theme","dark"),a.style.setProperty("color-scheme","dark"),t.setAttribute("display","none"),r.setAttribute("display","inline-block"),s.classList.add("hidden"),o.classList.remove("hidden"))}),window.matchMedia("(prefers-color-scheme: dark)"),r.setAttribute("display","none")}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ac({type:e,selectors:[["app-root"]],standalone:!0,features:[yl],decls:31,vars:2,consts:[[1,"header-container"],[3,"routerLink"],[1,"ariton-logo-container"],[1,"toggle"],["href","#","onclick","event.preventDefault();",1,"theme-toggle"],["width","30","height","30","id","light-icon"],["cx","15","cy","15","r","6","fill","currentColor"],["id","ray","stroke","currentColor","stroke-width","2","stroke-linecap","round","x1","15","y1","1","x2","15","y2","4"],["href","#ray","transform","rotate(45 15 15)"],["href","#ray","transform","rotate(90 15 15)"],["href","#ray","transform","rotate(135 15 15)"],["href","#ray","transform","rotate(180 15 15)"],["href","#ray","transform","rotate(225 15 15)"],["href","#ray","transform","rotate(270 15 15)"],["href","#ray","transform","rotate(315 15 15)"],["width","30","height","30","id","dark-icon"],["fill","currentColor","d","\n              M 23, 5\n              A 12 12 0 1 0 23, 25\n              A 12 12 0 0 1 23, 5"],[1,"download-container"],["alt","Ariton logo",1,"ariton-logo-footer","hide-tiny"],[1,"hide-small"],["href","https://ariton.app","target","_blank"]],template:function(r,i){1&r&&(Gn(0,"header")(1,"div",0)(2,"nav")(3,"ul")(4,"li")(5,"a",1)(6,"div",2),Pr(7," FreeID Verification "),Zn()()(),Gn(8,"li",3)(9,"a",4),function eS(){Yt.lFrame.currentNamespace="svg"}(),Gn(10,"svg",5),sa(11,"circle",6)(12,"line",7)(13,"use",8)(14,"use",9)(15,"use",10)(16,"use",11)(17,"use",12)(18,"use",13)(19,"use",14),Zn(),Gn(20,"svg",15),sa(21,"path",16),Zn()()()()()()(),function tS(){!function MN(){Yt.lFrame.currentNamespace=null}()}(),Gn(22,"main"),sa(23,"router-outlet"),Zn(),Gn(24,"div",17),sa(25,"div",18),Gn(26,"span",19),Pr(27,"Provided by Ariton"),Zn(),Gn(28,"a",20)(29,"button"),Pr(30,"Ariton"),Zn()()()),2&r&&(zr(5),pl("routerLink",function LI(e,n,t){const r=Ni()+e,i=ft();return i[r]===rn?_o(i,r,t?n.call(t):n()):function Zd(e,n){return e[n]}(i,r)}(1,KQ)))},dependencies:[tb,DE,Tg,Ml],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}.toggle[_ngcontent-%COMP%]{flex-grow:10!important;align-self:right!important;margin-left:auto!important;text-align:right}"]})}return e})(),zQ).catch(e=>console.error(e))},5315:(Z,A,d)=>{"use strict";var K,b=Object.defineProperty,S=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyNames,O=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,u=(K,te)=>{var le={};for(var Fe in K)P.call(K,Fe)&&te.indexOf(Fe)<0&&(le[Fe]=K[Fe]);if(null!=K&&O)for(var Fe of O(K))te.indexOf(Fe)<0&&y.call(K,Fe)&&(le[Fe]=K[Fe]);return le},h=(K,te,le)=>new Promise((Fe,J)=>{var de=Ee=>{try{ae(le.next(Ee))}catch(I){J(I)}},Ie=Ee=>{try{ae(le.throw(Ee))}catch(I){J(I)}},ae=Ee=>Ee.done?Fe(Ee.value):Promise.resolve(Ee.value).then(de,Ie);ae((le=le.apply(K,te)).next())}),_={};((K,te)=>{for(var le in te)b(K,le,{get:te[le],enumerable:!0})})(_,{createHashMapping:()=>z,createHashMappingSync:()=>Q,decodeJwt:()=>D,decodeSdJwt:()=>E,decodeSdJwtSync:()=>N,getClaims:()=>M,getClaimsSync:()=>k,getSDAlgAndPayload:()=>oe,splitSdJwt:()=>T,unpack:()=>j,unpackArray:()=>B,unpackObj:()=>L,unpackSync:()=>ne}),Z.exports=(K=_,((K,te,le,Fe)=>{if(te&&"object"==typeof te||"function"==typeof te)for(let J of R(te))!P.call(K,J)&&undefined!==J&&b(K,J,{get:()=>te[J],enumerable:!(Fe=S(te,J))||Fe.enumerable});return K})(b({},"__esModule",{value:!0}),K));var g=d(7862),v=d(9994),D=K=>{const{0:te,1:le,2:Fe,length:J}=K.split(".");if(3!==J)throw new g.SDJWTException("Invalid JWT as input");return{header:JSON.parse((0,g.base64urlDecode)(te)),payload:JSON.parse((0,g.base64urlDecode)(le)),signature:Fe}},T=K=>{const[te,...le]=K.split(v.SD_SEPARATOR);if(0===le.length)return{jwt:te,disclosures:[]};const Fe=le.pop();return{jwt:te,disclosures:le,kbJwt:Fe||void 0}},E=(K,te)=>h(void 0,null,function*(){const[le,...Fe]=K.split(v.SD_SEPARATOR),J=D(le);if(0===Fe.length)return{jwt:J,disclosures:[]};const de=Fe.pop(),Ie=de?D(de):void 0,{_sd_alg:ae}=oe(J.payload);return{jwt:J,disclosures:yield Promise.all(Fe.map(I=>g.Disclosure.fromEncode(I,{alg:ae,hasher:te}))),kbJwt:Ie}}),N=(K,te)=>{const[le,...Fe]=K.split(v.SD_SEPARATOR),J=D(le);if(0===Fe.length)return{jwt:J,disclosures:[]};const de=Fe.pop(),Ie=de?D(de):void 0,{_sd_alg:ae}=oe(J.payload);return{jwt:J,disclosures:Fe.map(I=>g.Disclosure.fromEncodeSync(I,{alg:ae,hasher:te})),kbJwt:Ie}},M=(K,te,le)=>h(void 0,null,function*(){const{unpackedObj:Fe}=yield j(K,te,le);return Fe}),k=(K,te,le)=>{const{unpackedObj:Fe}=ne(K,te,le);return Fe},B=(K,te,le="")=>{const Fe={},J=[];return K.forEach((de,Ie)=>{if("object"==typeof de&&null!==de){const ae=de[v.SD_LIST_KEY];if(ae){const Ee=te[ae];if(Ee){const I=le?`${le}.${Ie}`:`${Ie}`;Fe[I]=ae;const{unpackedObj:$,disclosureKeymap:q}=L(Ee.value,te,I);J.push($),Object.assign(Fe,q)}}else{const Ee=le?`${le}.${Ie}`:`${Ie}`,{unpackedObj:I,disclosureKeymap:$}=L(de,te,Ee);J.push(I),Object.assign(Fe,$)}}else J.push(de)}),{unpackedObj:J,disclosureKeymap:Fe}},L=(K,te,le="")=>{const Fe={};if("object"==typeof K&&null!==K){if(Array.isArray(K))return B(K,te,le);for(const I in K)if(I!==v.SD_DIGEST&&I!==v.SD_LIST_KEY&&"object"==typeof K[I]){const $=le?`${le}.${I}`:I,{unpackedObj:q,disclosureKeymap:G}=L(K[I],te,$);K[I]=q,Object.assign(Fe,G)}const J=K,{_sd:de}=J,Ie=u(J,["_sd"]),ae={};if(de)for(const I of de){const $=te[I];if($?.key){const q=le?`${le}.${$.key}`:$.key;Fe[q]=I;const{unpackedObj:G,disclosureKeymap:re}=L($.value,te,q);ae[$.key]=G,Object.assign(Fe,re)}}return{unpackedObj:Object.assign(Ie,ae),disclosureKeymap:Fe}}return{unpackedObj:K,disclosureKeymap:Fe}},z=(K,te)=>h(void 0,null,function*(){const le={};for(let Fe=0;Fe<K.length;Fe++){const J=K[Fe];le[yield J.digest(te)]=J}return le}),Q=(K,te)=>{const le={};for(let Fe=0;Fe<K.length;Fe++){const J=K[Fe];le[J.digestSync(te)]=J}return le},oe=K=>{const te=K,{_sd_alg:le}=te,Fe=u(te,["_sd_alg"]);return"string"!=typeof le?{_sd_alg:"sha-256",payload:Fe}:{_sd_alg:le,payload:Fe}},j=(K,te,le)=>h(void 0,null,function*(){const{_sd_alg:Fe,payload:J}=oe(K),Ie=yield z(te,{hasher:le,alg:Fe});return L(J,Ie)}),ne=(K,te,le)=>{const{_sd_alg:Fe,payload:J}=oe(K),Ie=Q(te,{hasher:le,alg:Fe});return L(J,Ie)}},2084:(Z,A,d)=>{"use strict";var k,b=Object.defineProperty,S=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,c=(k,B,L)=>new Promise((z,Q)=>{var oe=K=>{try{ne(L.next(K))}catch(te){Q(te)}},j=K=>{try{ne(L.throw(K))}catch(te){Q(te)}},ne=K=>K.done?z(K.value):Promise.resolve(K.value).then(oe,j);ne((L=L.apply(k,B)).next())}),w={};((k,B)=>{for(var L in B)b(k,L,{get:B[L],enumerable:!0})})(w,{createHashMappingForSerializedDisclosure:()=>N,present:()=>D,presentSync:()=>T,presentableKeys:()=>g,presentableKeysSync:()=>v,selectDisclosures:()=>M,transformPresentationFrame:()=>E}),Z.exports=(k=w,((k,B,L,z)=>{if(B&&"object"==typeof B||"function"==typeof B)for(let Q of R(B))!O.call(k,Q)&&undefined!==Q&&b(k,Q,{get:()=>B[Q],enumerable:!(z=S(B,Q))||z.enumerable});return k})(b({},"__esModule",{value:!0}),k));var m=d(9994),h=d(7862),_=d(5315),g=(k,B,L)=>c(void 0,null,function*(){const{disclosureKeymap:z}=yield(0,_.unpack)(k,B,L);return Object.keys(z).sort()}),v=(k,B,L)=>{const{disclosureKeymap:z}=(0,_.unpackSync)(k,B,L);return Object.keys(z).sort()},D=(k,B,L)=>c(void 0,null,function*(){const{jwt:z,kbJwt:Q}=(0,_.splitSdJwt)(k),{jwt:{payload:oe},disclosures:j}=yield(0,_.decodeSdJwt)(k,L),{_sd_alg:ne}=(0,_.getSDAlgAndPayload)(oe),K={alg:ne,hasher:L},te=E(B),le=yield(0,_.createHashMapping)(j,K),{disclosureKeymap:Fe}=yield(0,_.unpack)(oe,j,L);return[z,...te.map(de=>le[Fe[de]]).filter(de=>void 0!==de).map(de=>de.encode()),Q??""].join(m.SD_SEPARATOR)}),T=(k,B,L)=>{const{jwt:z,kbJwt:Q}=(0,_.splitSdJwt)(k),{jwt:{payload:oe},disclosures:j}=(0,_.decodeSdJwtSync)(k,L),{_sd_alg:ne}=(0,_.getSDAlgAndPayload)(oe),K={alg:ne,hasher:L},te=E(B),le=(0,_.createHashMappingSync)(j,K),{disclosureKeymap:Fe}=(0,_.unpackSync)(oe,j,L);return[z,...te.map(de=>le[Fe[de]]).filter(de=>void 0!==de).map(de=>de.encode()),Q??""].join(m.SD_SEPARATOR)},E=(k,B="")=>Object.entries(k).reduce((L,[z,Q])=>{const oe=B?`${B}.${z}`:z;return"boolean"==typeof Q?Q&&L.push(oe):L.push(oe,...E(Q,oe)),L},[]),N=k=>{const B={};for(let L=0;L<k.length;L++){const z=k[L],{digest:Q,encoded:oe,key:j,salt:ne,value:K}=z;B[Q]=h.Disclosure.fromArray(j?[ne,j,K]:[ne,K],{digest:Q,encoded:oe})}return B},M=(k,B,L)=>{if(0===B.length)return[];const z=N(B),{disclosureKeymap:Q}=(0,_.unpackObj)(k,z);return E(L).map(K=>z[Q[K]]).filter(K=>void 0!==K).map(K=>{const{salt:te,key:le,value:Fe,_digest:J}=K;if(!J)throw new h.SDJWTException("Implementation error: _digest is not defined");return{digest:J,encoded:K.encode(),salt:te,key:le,value:Fe}})}},9994:Z=>{"use strict";var _,A=Object.defineProperty,d=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,y={};((_,g)=>{for(var v in g)A(_,v,{get:g[v],enumerable:!0})})(y,{KB_JWT_TYP:()=>h,SD_DECOY:()=>m,SD_DIGEST:()=>w,SD_LIST_KEY:()=>c,SD_SEPARATOR:()=>u}),Z.exports=(_=y,((_,g,v,D)=>{if(g&&"object"==typeof g||"function"==typeof g)for(let T of b(g))!S.call(_,T)&&undefined!==T&&A(_,T,{get:()=>g[T],enumerable:!(D=d(g,T))||D.enumerable});return _})(A({},"__esModule",{value:!0}),_));var u="~",c="...",w="_sd",m="_sd_decoy",h="kb+jwt"},7862:(Z,A,d)=>{"use strict";var T,b=Object.defineProperty,S=Object.getOwnPropertyDescriptor,R=Object.getOwnPropertyNames,O=Object.prototype.hasOwnProperty,c=(T,E,N)=>new Promise((M,k)=>{var B=Q=>{try{z(N.next(Q))}catch(oe){k(oe)}},L=Q=>{try{z(N.throw(Q))}catch(oe){k(oe)}},z=Q=>Q.done?M(Q.value):Promise.resolve(Q.value).then(B,L);z((N=N.apply(T,E)).next())}),w={};((T,E)=>{for(var N in E)b(T,N,{get:E[N],enumerable:!0})})(w,{Disclosure:()=>D,SDJWTException:()=>v,base64urlDecode:()=>_,base64urlEncode:()=>h,uint8ArrayToBase64Url:()=>g}),Z.exports=(T=w,((T,E,N,M)=>{if(E&&"object"==typeof E||"function"==typeof E)for(let k of R(E))!O.call(T,k)&&undefined!==k&&b(T,k,{get:()=>E[k],enumerable:!(M=S(E,k))||M.enumerable});return T})(b({},"__esModule",{value:!0}),T));var m=d(2398),h=m.Base64.encodeURI,_=m.Base64.decode,g=T=>m.Base64.fromUint8Array(T,!0),v=class fM extends Error{constructor(E,N){super(E),Object.setPrototypeOf(this,fM.prototype),this.name="SDJWTException",this.details=N}getFullMessage(){return`${this.name}: ${this.message} ${this.details?`- ${JSON.stringify(this.details)}`:""}`}},D=class $y{constructor(E,N){if(this._digest=N?.digest,this._encoded=N?.encoded,2===E.length)return this.salt=E[0],void(this.value=E[1]);if(3===E.length)return this.salt=E[0],this.key=E[1],void(this.value=E[2]);throw new v("Invalid disclosure data")}static fromEncode(E,N){return c(this,null,function*(){const{hasher:M,alg:k}=N,B=yield M(E,k),L=g(B),z=JSON.parse(_(E));return $y.fromArray(z,{digest:L,encoded:E})})}static fromEncodeSync(E,N){const{hasher:M,alg:k}=N,B=M(E,k),L=g(B),z=JSON.parse(_(E));return $y.fromArray(z,{digest:L,encoded:E})}static fromArray(E,N){return new $y(E,N)}encode(){return this._encoded||(this._encoded=h(JSON.stringify(this.decode()))),this._encoded}decode(){return this.key?[this.salt,this.key,this.value]:[this.salt,this.value]}digest(E){return c(this,null,function*(){const{hasher:N,alg:M}=E;if(!this._digest){const k=yield N(this.encode(),M);this._digest=g(k)}return this._digest})}digestSync(E){const{hasher:N,alg:M}=E;if(!this._digest){const k=N(this.encode(),M);this._digest=g(k)}return this._digest}}},7636:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(3858),A)},6091:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},723:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5515:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},8414:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5517:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},7728:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},9762:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Directives=void 0,A.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"}},891:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ExchangeStatus=void 0,A.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"}},7847:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},826:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},6911:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},7954:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},9506:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},3843:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},9711:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5179:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},8020:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},4078:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},1755:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},3947:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},3725:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},7260:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5873:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},3858:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(6091),A),S(d(723),A),S(d(5515),A),S(d(8414),A),S(d(5517),A),S(d(7728),A),S(d(9762),A),S(d(891),A),S(d(7847),A),S(d(826),A),S(d(6911),A),S(d(7954),A),S(d(9506),A),S(d(3843),A),S(d(9711),A),S(d(5179),A),S(d(8020),A),S(d(4078),A),S(d(1755),A),S(d(3947),A),S(d(3725),A),S(d(7260),A),S(d(5873),A),S(d(731),A),S(d(9959),A),S(d(1787),A),S(d(5526),A),S(d(8946),A),S(d(2704),A),S(d(3065),A),S(d(2834),A),S(d(2206),A),S(d(5723),A),S(d(1748),A),S(d(125),A),S(d(9668),A),S(d(7669),A),S(d(6179),A),S(d(9369),A),S(d(6982),A),S(d(6521),A),S(d(8858),A),S(d(8029),A),S(d(3296),A)},731:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},9959:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},1787:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5526:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Optionality=void 0,A.Optionality={Required:"required",Preferred:"preferred"}},8946:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},2704:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},3065:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},2834:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},2206:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5723:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},1748:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},125:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},9668:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},7669:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Rules=void 0,A.Rules={All:"all",Pick:"pick"}},6179:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},9369:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},6982:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.Status=void 0,A.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"}},6521:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},8858:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},8029:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},3296:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},720:(Z,A,d)=>{"use strict";A.E8=void 0;const S=d(2700);Object.defineProperty(A,"E8",{enumerable:!0,get:function(){return S.PEX}})},3395:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.hasErrors=A.Checked=A.Status=void 0,A.Status={INFO:"info",WARN:"warn",ERROR:"error"},A.Checked=class{constructor(S,R,O){this.tag=S,this.status=R,this.message=O}},A.hasErrors=S=>S.filter(O=>function R(O){return O.status===A.Status.ERROR}(O)).length>0},7889:function(Z,A,d){"use strict";var b=this&&this.__awaiter||function(m,h,_,g){return new(_||(_=Promise))(function(D,T){function E(k){try{M(g.next(k))}catch(B){T(B)}}function N(k){try{M(g.throw(k))}catch(B){T(B)}}function M(k){k.done?D(k.value):function v(D){return D instanceof _?D:new _(function(T){T(D)})}(k.value).then(E,N)}M((g=g.apply(m,h||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0}),A.PEX=void 0;const S=d(1151),R=d(3395),O=d(143),P=d(4864),y=d(9938),u=d(3486),c=d(930);class w{constructor(h){this._evaluationClientWrapper=new O.EvaluationClientWrapper,this.options=h}evaluatePresentation(h,_,g){var v,D,T;const E=void 0!==g?.generatePresentationSubmission?g.generatePresentationSubmission:void 0===g?.presentationSubmission,N=y.SSITypesBuilder.toInternalPresentationDefinition(h),M=JSON.parse(JSON.stringify(_)),k=y.SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(M,null===(v=this.options)||void 0===v?void 0:v.hasher),B=null!==(D=g?.presentationSubmission)&&void 0!==D?D:k.decoded.presentation_submission;if(!B&&!E)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const L=S.CredentialMapper.isW3cPresentation(k.presentation)&&k.presentation.holder?[k.presentation.holder]:[],z=Object.assign(Object.assign({},g),{holderDIDs:L,presentationSubmission:B,generatePresentationSubmission:E}),Q=this._evaluationClientWrapper.evaluate(N,k.vcs,z);return!(null===(T=Q.value)||void 0===T)&&T.descriptor_map.length&&(new O.EvaluationClientWrapper).selectFrom(N,k.vcs,z).areRequiredCredentialsPresent!==R.Status.ERROR&&(Q.errors=[]),Q}evaluateCredentials(h,_,g){var v;const D=y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(_,null===(v=this.options)||void 0===v?void 0:v.hasher);this._evaluationClientWrapper=new O.EvaluationClientWrapper;const T=y.SSITypesBuilder.toInternalPresentationDefinition(h),E=this._evaluationClientWrapper.evaluate(T,D,g);if(E.value&&E.value.descriptor_map.length){const M=(new O.EvaluationClientWrapper).selectFrom(T,D,g);E.areRequiredCredentialsPresent=M.areRequiredCredentialsPresent,E.errors=M.errors}else E.areRequiredCredentialsPresent=R.Status.ERROR;return E}selectFrom(h,_,g){var v;const D=JSON.parse(JSON.stringify(_)),T=y.SSITypesBuilder.toInternalPresentationDefinition(h);return this._evaluationClientWrapper=new O.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(T,y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(D,null===(v=this.options)||void 0===v?void 0:v.hasher),g)}presentationSubmissionFrom(h,_,g){var v;const D=y.SSITypesBuilder.toInternalPresentationDefinition(h);return this._evaluationClientWrapper.submissionFrom(D,y.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(_,null===(v=this.options)||void 0===v?void 0:v.hasher),g)}presentationFrom(h,_,g){var v,D;const T=this.presentationSubmissionFrom(h,_,g),E=_.some(k=>S.CredentialMapper.isSdJwtDecodedCredential(k)||S.CredentialMapper.isSdJwtEncoded(k));if(g?.presentationSubmissionLocation===P.PresentationSubmissionLocation.PRESENTATION&&E)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const N=null!==(v=g?.presentationSubmissionLocation)&&void 0!==v?v:E?P.PresentationSubmissionLocation.EXTERNAL:P.PresentationSubmissionLocation.PRESENTATION;return{presentation:w.constructPresentation(_,Object.assign(Object.assign({},g),{presentationSubmission:N===P.PresentationSubmissionLocation.PRESENTATION?T:void 0,hasher:null===(D=this.options)||void 0===D?void 0:D.hasher})),presentationSubmissionLocation:N,presentationSubmission:T}}static constructPresentation(h,_){var g,v,D,T;const E=Array.isArray(h)?h:[h];if(E.some(N=>S.CredentialMapper.isSdJwtDecodedCredential(N)||S.CredentialMapper.isSdJwtEncoded(N))){if(E.length>1)throw new Error("Only a single credential is supported when creating a presentation with an SD-JWT VC");if(_?.presentationSubmission)throw new Error("Presentation submission cannot be included in the presentation when creating a presentation with an SD-JWT VC");if(_?.basePresentationPayload)throw new Error("Base presentation payload cannot be when creating a presentation from an SD-JWT VC");const N=S.CredentialMapper.isSdJwtEncoded(E[0])?S.CredentialMapper.decodeVerifiableCredential(E[0],_?.hasher):E[0];if(!_?.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const M=null!==(g=N.signedPayload._sd_alg)&&void 0!==g?g:"sha-256",k=(0,u.calculateSdHash)(N.compactSdJwtVc,M,_.hasher),B={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),_sd_hash:k}};return Object.assign(Object.assign({},N),{kbJwt:B})}{if(!h)throw Error("At least a verifiable credential needs to be passed in to create a presentation");const N=Array.isArray(h)?h:[h],M=N.map(Q=>S.CredentialMapper.toWrappedVerifiableCredential(Q)),k=Array.from(new Set(M.flatMap(Q=>(0,u.getSubjectIdsAsString)(Q.credential))));1!==k.length&&!_?.holderDID&&console.log(`We deduced ${k.length} subject from ${M.length} Verifiable Credentials, and no holder property was given. This might lead to undesired results`);const B=null!==(v=_?.holderDID)&&void 0!==v?v:1===k.length?k[0]:void 0,L=null!==(D=_?.basePresentationPayload)&&void 0!==D&&D.type?Array.isArray(_.basePresentationPayload.type)?_.basePresentationPayload.type:[_.basePresentationPayload.type]:[];L.includes("VerifiablePresentation")||L.push("VerifiablePresentation");const z=null!==(T=_?.basePresentationPayload)&&void 0!==T&&T["@context"]?Array.isArray(_.basePresentationPayload["@context"])?_.basePresentationPayload["@context"]:[_.basePresentationPayload["@context"]]:[];return z.includes("https://www.w3.org/2018/credentials/v1")||z.push("https://www.w3.org/2018/credentials/v1"),_?.presentationSubmission&&(L.includes("PresentationSubmission")||L.push("PresentationSubmission"),z.includes("https://identity.foundation/presentation-exchange/submission/v1")||z.push("https://identity.foundation/presentation-exchange/submission/v1")),Object.assign(Object.assign(Object.assign(Object.assign({},_?.basePresentationPayload),{"@context":z,type:L,holder:B}),!!_?.presentationSubmission&&{presentation_submission:_.presentationSubmission}),{verifiableCredential:N})}}static validateDefinition(h){const _=(0,u.definitionVersionDiscovery)(h);if(_.error)throw new Error(_.error);const g=[];return g.push(_.version===y.PEVersion.v1?{bundler:new c.PresentationDefinitionV1VB("root"),target:y.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(h)}:{bundler:new c.PresentationDefinitionV2VB("root"),target:y.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(h)}),(new c.ValidationEngine).validate(g)}static validateSubmission(h){return(new c.ValidationEngine).validate([{bundler:new c.PresentationSubmissionVB("root"),target:h}])}verifiablePresentationFrom(h,_,g,v){return b(this,void 0,void 0,function*(){var D,T;const{holderDID:E,signatureOptions:N,proofOptions:M}=v,B=E?[E]:[],L=function k(){let le=[];if(M?.typeSupportsSelectiveDisclosure){if(!M?.type)throw Error("Please provide a proof type if you enable selective disclosure");le=[M.type]}return le}(),z=this.evaluateCredentials(h,_,{holderDIDs:B,limitDisclosureSignatureSuites:L}),Q=this.presentationFrom(h,z.verifiableCredential,v),oe=this.evaluatePresentation(h,Q.presentation,Object.assign({limitDisclosureSignatureSuites:L},Q.presentationSubmissionLocation===P.PresentationSubmissionLocation.EXTERNAL&&{presentationSubmission:Q.presentationSubmission}));if(!oe.value)throw new Error("Could not get evaluation results from presentationResult");const j={type:M?.type,verificationMethod:N?.verificationMethod,created:M?.created?M.created:(new Date).toISOString(),proofPurpose:M?.proofPurpose,proofValue:N?.proofValue,jws:N?.jws,challenge:M?.challenge,nonce:M?.nonce,domain:M?.domain};let ne=Q.presentation;if(S.CredentialMapper.isSdJwtDecodedCredential(Q.presentation)){if(null===(D=this.options)||void 0===D||!D.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const le=null!==(T=Q.presentation.signedPayload._sd_alg)&&void 0!==T?T:"sha-256",Fe=(0,u.calculateSdHash)(Q.presentation.compactSdJwtVc,le,this.options.hasher),J={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),nonce:M?.nonce,_sd_hash:Fe}};ne=Object.assign(Object.assign({},ne),{kbJwt:J})}const K={options:Object.assign(Object.assign({},v),{presentationSubmissionLocation:Q.presentationSubmissionLocation}),presentation:ne,presentationDefinition:h,selectedCredentials:_,proof:j,presentationSubmission:oe.value,evaluationResults:oe};return{verifiablePresentation:yield g(K),presentationSubmissionLocation:Q.presentationSubmissionLocation,presentationSubmission:oe.value}})}static definitionVersionDiscovery(h){return(0,u.definitionVersionDiscovery)(h)}}A.PEX=w},8992:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PEXv1=void 0;const b=d(1151),S=d(7889),R=d(143),O=d(4864),P=d(9938),y=d(930);A.PEXv1=class u extends S.PEX{evaluatePresentation(w,m,h){return P.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(w),super.evaluatePresentation(w,m,h)}evaluateCredentials(w,m,h){return P.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(w),super.evaluateCredentials(w,m,h)}selectFrom(w,m,h){const _=JSON.parse(JSON.stringify(m));return this._evaluationClientWrapper=new R.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(P.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(w),P.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(_),h)}presentationFrom(w,m,h){var _;const g=this._evaluationClientWrapper.submissionFrom(P.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(w),P.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(m),h),v=m.some(E=>b.CredentialMapper.isSdJwtDecodedCredential(E)||b.CredentialMapper.isSdJwtEncoded(E));if(h?.presentationSubmissionLocation===O.PresentationSubmissionLocation.PRESENTATION&&v)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const D=null!==(_=h?.presentationSubmissionLocation)&&void 0!==_?_:v?O.PresentationSubmissionLocation.EXTERNAL:O.PresentationSubmissionLocation.PRESENTATION;return{presentation:S.PEX.constructPresentation(m,Object.assign(Object.assign({},h),{presentationSubmission:D===O.PresentationSubmissionLocation.PRESENTATION?g:void 0})),presentationSubmissionLocation:D,presentationSubmission:g}}static validateDefinition(w){const m=P.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(w);return(new y.ValidationEngine).validate([{bundler:new y.PresentationDefinitionV1VB("root"),target:m}])}static validateSubmission(w){return S.PEX.validateSubmission(w)}}},1945:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PEXv2=void 0;const b=d(1151),S=d(7889),R=d(143),O=d(4864),P=d(9938),y=d(930);A.PEXv2=class u extends S.PEX{evaluatePresentation(w,m,h){return P.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(w),super.evaluatePresentation(w,m,h)}evaluateCredentials(w,m,h){return P.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(w),super.evaluateCredentials(w,m,h)}selectFrom(w,m,h){return this._evaluationClientWrapper=new R.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(P.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(w),P.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(m),h)}presentationFrom(w,m,h){var _;const g=this._evaluationClientWrapper.submissionFrom(P.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(w),P.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(m),h),v=m.some(E=>b.CredentialMapper.isSdJwtDecodedCredential(E)||b.CredentialMapper.isSdJwtEncoded(E));if(h?.presentationSubmissionLocation===O.PresentationSubmissionLocation.PRESENTATION&&v)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const D=null!==(_=h?.presentationSubmissionLocation)&&void 0!==_?_:v?O.PresentationSubmissionLocation.EXTERNAL:O.PresentationSubmissionLocation.PRESENTATION;return{presentation:S.PEX.constructPresentation(m,Object.assign(Object.assign({},h),{presentationSubmission:D===O.PresentationSubmissionLocation.PRESENTATION?g:void 0})),presentationSubmissionLocation:D,presentationSubmission:g}}static validateDefinition(w){const m=P.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(w);return(new y.ValidationEngine).validate([{bundler:new y.PresentationDefinitionV2VB("root"),target:m}])}static validateSubmission(w){return S.PEX.validateSubmission(w)}}},8947:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},5994:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.HandlerCheckResult=void 0,A.HandlerCheckResult=class{constructor(b,S,R,O,P,y){this.input_descriptor_path=b,this.verifiable_credential_path=S,this.evaluator=R,this.status=O,this.message=P,this.payload=y}}},2127:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(8947),A),S(d(5994),A),S(d(3565),A),S(d(1235),A)},3565:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},1235:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},950:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(A,"__esModule",{value:!0}),A.EvaluationClient=void 0;const S=d(1151),R=d(3395),O=b(d(4080)),P=d(3486),y=d(1001),u=[S.IProofType.BbsBlsSignatureProof2020,"DataIntegrityProof.anoncreds-2023"];A.EvaluationClient=class c{constructor(){this.failed_catched={tag:"root",status:R.Status.ERROR,message:O.default.UNKNOWN_EXCEPTION,stacktrace:""},this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=u,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate(m,h,_){this._restrictToDIDMethods=_?.restrictToDIDMethods?(0,P.uniformDIDMethods)(_?.restrictToDIDMethods):[],this._dids=_?.holderDIDs?(0,P.filterToRestrictedDIDs)(_.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=_?.limitDisclosureSignatureSuites,this._restrictToFormats=_?.restrictToFormats,this._generatePresentationSubmission=void 0===_?.generatePresentationSubmission||_.generatePresentationSubmission,_?.presentationSubmission&&(this._presentationSubmission=_.presentationSubmission);let g=this.initEvaluationHandlers();for(g?.handle(m,h);g?.hasNext();){g=g.getNext();try{g?.handle(m,h)}catch(v){throw this.failed_catched.message+=v.message,this.failed_catched.stacktrace=v,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids(m){this._dids=m}assertPresentationSubmission(){if("string"==typeof this._presentationSubmission&&(console.log("Presentation submission present, but as string not object. External calls did not follow contract. Correcting"),this._presentationSubmission=JSON.parse(this._presentationSubmission)),!(this.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission(m){this._generatePresentationSubmission=m}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission(m){this._presentationSubmission=m}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs(m){this._wrappedVcs=m}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||u}set limitDisclosureSignatureSuites(m){this._limitDisclosureSignatureSuites=m}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods(m){this._restrictToDIDMethods=(0,P.uniformDIDMethods)(m)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats(m){this._restrictToFormats=m}initEvaluationHandlers(){const m=new y.UriEvaluationHandler(this);return m.setNext(new y.DIDRestrictionEvaluationHandler(this)).setNext(new y.FormatRestrictionEvaluationHandler(this)).setNext(new y.InputDescriptorFilterEvaluationHandler(this)).setNext(new y.PredicateRelatedFieldEvaluationHandler(this)).setNext(new y.LimitDisclosureEvaluationHandler(this)).setNext(new y.SubjectIsIssuerEvaluationHandler(this)).setNext(new y.SubjectIsHolderEvaluationHandler(this)).setNext(new y.SameSubjectEvaluationHandler(this)).setNext(new y.MarkForSubmissionEvaluationHandler(this)),m}}},8995:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.EvaluationClientWrapper=void 0;const b=d(4273),S=d(7636),R=d(1151),O=d(3395),P=d(4864),y=d(3486),u=d(950);A.EvaluationClientWrapper=class c{constructor(){this._client=new u.EvaluationClient}getEvaluationClient(){return this._client}selectFrom(m,h,_){var g;let v;this._client.evaluate(m,h,_);const D=[...this.formatNotInfo(O.Status.WARN)],T=[...this.formatNotInfo(O.Status.ERROR)];if(m.submission_requirements){const E=this._client.results.filter(z=>"MarkForSubmissionEvaluation"===z.evaluator&&z.payload.group&&z.status!==O.Status.ERROR),N=Array.from(new Set(E));let M;try{M=this.matchSubmissionRequirements(m,m.submission_requirements,N)}catch(z){const Q={status:O.Status.ERROR,message:JSON.stringify(z),tag:"matchSubmissionRequirements"};return{errors:T?[...T,Q]:[Q],warnings:D,areRequiredCredentialsPresent:O.Status.ERROR}}const B=this.extractMatches(M).map(z=>b.JSONPath.nodes(this._client.wrappedVcs.map(Q=>Q.original),z)[0].value),L=this.determineAreRequiredCredentialsPresent(m,M);v={errors:L===O.Status.INFO?[]:T,matches:[...M],areRequiredCredentialsPresent:L,verifiableCredential:B,warnings:D}}else{const E=this._client.results.filter(M=>"MarkForSubmissionEvaluation"===M.evaluator&&M.status!==O.Status.ERROR);if(this.checkWithoutSubmissionRequirements(E,m).length)return{errors:T,matches:[],areRequiredCredentialsPresent:O.Status.ERROR,verifiableCredential:h.map(M=>M.original),warnings:D};{const M=this.matchWithoutSubmissionRequirements(E,m),B=this.extractMatches(M).map(L=>b.JSONPath.nodes(this._client.wrappedVcs.map(z=>z.original),L)[0].value);v={errors:[],matches:[...M],areRequiredCredentialsPresent:O.Status.INFO,verifiableCredential:B,warnings:D}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(v,h),v.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent(m,v?.matches),this.remapMatches(h.map(E=>E.original),v.matches,v?.verifiableCredential),null===(g=v.matches)||void 0===g||g.forEach(E=>{this.updateSubmissionRequirementMatchPathToAlias(E,"verifiableCredential")}),v.areRequiredCredentialsPresent===O.Status.INFO?v.errors=[]:(v.errors=T,v.warnings=D,v.verifiableCredential=h.map(E=>E.original)),v}remapMatches(m,h,_){h?.forEach(g=>{g.from_nested?this.remapMatches(m,g.from_nested,_):g.vc_path.forEach((v,D,T)=>{const E=b.JSONPath.query(m,v)[0],N=_?.findIndex(M=>JSON.stringify(M)===JSON.stringify(E));if(-1===N)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?\nverifiableCredential: ${E}`);T[D]=`$[${N}]`})})}extractMatches(m){const h=[];return m.forEach(_=>{h.push(..._.vc_path),_.from_nested&&h.push(...this.extractMatches(_.from_nested))}),Array.from(new Set(h))}checkWithoutSubmissionRequirements(m,h){const _=[];if(!h.input_descriptors)return[];if(!m.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:O.Status.ERROR,payload:"Not all the InputDescriptors are addressed"}];const g=h.input_descriptors,v=y.ObjectUtils.getDistinctFieldInObject(m,"input_descriptor_path");if(v.length!==g.length){const D=v.map(T=>y.JsonPathUtils.extractInputField(h,[T])[0].value).map(T=>T.id);for(let T=0;T<h.input_descriptors.length;T++)-1==D.indexOf(h.input_descriptors[T].id)&&_.push({input_descriptor_path:`$.input_descriptors[${T}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:O.Status.ERROR,payload:"Not all the InputDescriptors are addressed"})}return _}matchSubmissionRequirements(m,h,_){const g=[];for(const v of h){const D={name:m.name||m.id,rule:v.rule,vc_path:[]};if(v.from&&(D.from=v.from),v.min&&(D.min=v.min),v.max&&(D.max=v.max),v.count&&(D.count=v.count),v.from){const T=this.mapMatchingDescriptors(m,v,_);T&&(D.vc_path.push(...T.vc_path),D.name=T.name,g.push(D))}else{if(!v.from_nested)throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'");try{D.from_nested=this.matchSubmissionRequirements(m,v.from_nested,_),g.push(D)}catch(T){throw new Error(`Error in handling value of from_nested: ${v.from_nested}: err: ${T}`)}}}return g}matchWithoutSubmissionRequirements(m,h){const _=[],g=this.createIdToVcMap(m);for(const[v,D]of g.entries())if(D&&D.length)for(const T of D){const E=y.JsonPathUtils.extractInputField(h,[v]);E.length&&_.push({name:E[0].value.name||E[0].value.id,rule:S.Rules.All,vc_path:[T]})}return this.removeDuplicateSubmissionRequirementMatches(_)}mapMatchingDescriptors(m,h,_){var g;const v={rule:h.rule,vc_path:[]};if(h?.from){v.from=h.from;for(const D of _){const T=b.JSONPath.query(m,D.input_descriptor_path)[0];T.group&&-1===T.group.indexOf(h.from)||(v.name=T.name||T.id,D.payload.group.includes(h.from)&&-1===(null===(g=v.vc_path)||void 0===g?void 0:g.indexOf(D.verifiable_credential_path))&&v.vc_path.push(D.verifiable_credential_path))}}return v}evaluate(m,h,_){var g,v,D,T;this._client.evaluate(m,h,_);const E={areRequiredCredentialsPresent:O.Status.INFO,verifiableCredential:h.map(N=>N.original)};if(E.warnings=this.formatNotInfo(O.Status.WARN),E.errors=this.formatNotInfo(O.Status.ERROR),this._client.assertPresentationSubmission(),null!==(g=this._client.presentationSubmission)&&void 0!==g&&g.descriptor_map.length){const N=null===(v=this._client.presentationSubmission)||void 0===v?void 0:v.descriptor_map.length;for(let M=0;M<N;M++)this._client.presentationSubmission.descriptor_map[M]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[M]);this._client.presentationSubmission.descriptor_map.splice(0,N),E.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToVpPath(E.value),E.verifiableCredential=this._client.wrappedVcs.map(N=>N.original),E.areRequiredCredentialsPresent=null!==(T=null===(D=E.value)||void 0===D?void 0:D.descriptor_map)&&void 0!==T&&T.length?O.Status.INFO:O.Status.ERROR,E}formatNotInfo(m){return this._client.results.filter(h=>h.status===m).map(h=>{const _=h.verifiable_credential_path.substring(1);return{tag:h.evaluator,status:h.status,message:`${h.message}: ${h.input_descriptor_path}: $.verifiableCredential${_}`}})}submissionFrom(m,h,_){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if(m.submission_requirements){const D=this._client.results.filter(B=>"MarkForSubmissionEvaluation"===B.evaluator&&B.payload.group&&B.status!==O.Status.ERROR),[T,E]=this.matchUserSelectedVcs(D,h),N=new Map;"input_descriptors"in m&&m.input_descriptors.forEach(B=>{B.group&&B.group.forEach(L=>{N.has(L)?N.set(L,N.get(L)+1):N.set(L,1)})});const M=this.evaluateRequirements(m.submission_requirements,T,N,0),k=E.filter(B=>M[1].find(L=>L.verifiable_credential_path===B[1]));return this.updatePresentationSubmission(k),this.updatePresentationSubmissionPathToVpPath(),_?.presentationSubmissionLocation===P.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}const g=this._client.results.filter(D=>"MarkForSubmissionEvaluation"===D.evaluator&&D.status!==O.Status.ERROR),v=this.matchUserSelectedVcs(g,h);return this.updatePresentationSubmission(v[1]),this.updatePresentationSubmissionPathToVpPath(),_?.presentationSubmissionLocation===P.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}updatePresentationSubmission(m){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter(h=>m.find(_=>_[0]===h.path)).map(h=>{const _=m.find(g=>g[0]===h.path);return _&&(h.path=_[1]),h}))}updatePresentationSubmissionToExternal(){this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.map(h=>{if(h.path_nested)return h;if("vc+sd-jwt"===h.format)return h;const _=h.format,g=Object.assign({},h);return g.path_nested=Object.assign({},h),g.path="$",_.startsWith("ldp_")?g.format="ldp_vp":_.startsWith("di_")?g.format="di_vp":"jwt_vc"===_?(g.format="jwt_vp",g.path_nested.path=g.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")):"jwt_vc_json"===_&&(g.format="jwt_vp_json",g.path_nested.path=g.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")),g})}matchUserSelectedVcs(m,h){const _=h.map((D,T)=>[T,JSON.stringify(D.original)]),g=this._client.wrappedVcs.map((D,T)=>[T,JSON.stringify(D.original)]),v=[];return _.forEach((D,T)=>{g.forEach((E,N)=>{E[1]===D[1]&&v.push([`$[${N}]`,`$[${T}]`])})}),[m=m.filter(D=>v.find(T=>T[0]===D.verifiable_credential_path)).map(D=>{const T=v.find(E=>E[0]===D.verifiable_credential_path);return T&&(D.verifiable_credential_path=T[1]),D}),v]}evaluateRequirements(m,h,_,g){let v=0;const D=[];for(const T of m)if(T.from){if(T.rule===S.Rules.All){const[E,N]=this.countMatchingInputDescriptors(T,h);if(E!==(_.get(T.from)||0))throw Error(`Not all input descriptors are members of group ${T.from}`);v++,D.push(...N)}else if(T.rule===S.Rules.Pick){const[E,N]=this.countMatchingInputDescriptors(T,h);try{this.handleCount(T,E,g),v++}catch(M){if(0===g)throw M}D.push(...N)}}else if(T.from_nested){const[E,N]=this.evaluateRequirements(T.from_nested,h,_,++g);v+=E,D.push(...N),this.handleCount(T,E,g)}return[v,D]}countMatchingInputDescriptors(m,h){let _=0;const g=[];for(const v of h)v.payload.group.includes(m.from)&&(g.push(v),_++);return[_,g]}handleCount(m,h,_){if(m.count&&h!==m.count)throw Error(`Count: expected: ${m.count} actual: ${h} at level: ${_}`);if(m.min&&h<m.min)throw Error(`Min: expected: ${m.min} actual: ${h} at level: ${_}`);if(m.max&&h>m.max)throw Error(`Max: expected: ${m.max} actual: ${h} at level: ${_}`)}removeDuplicateSubmissionRequirementMatches(m){return m.filter((h,_)=>{const g=JSON.stringify(h);return _===m.findIndex(v=>JSON.stringify(v)===g)})}fillSelectableCredentialsToVerifiableCredentialsMapping(m,h){var _;m&&(null===(_=m.verifiableCredential)||void 0===_||_.forEach(g=>{var v;const D=h.findIndex(T=>R.CredentialMapper.areOriginalVerifiableCredentialsEqual(T.original,g));if(-1===D)throw new Error("index is not right");null===(v=m.vcIndexes)||void 0===v||v.push(D)}))}determineAreRequiredCredentialsPresent(m,h,_){if(!h||!h.length)return O.Status.ERROR;const g=h.map(v=>this.determineSubmissionRequirementStatus(m,v));if(!_)return g.includes(O.Status.ERROR)?O.Status.ERROR:g.includes(O.Status.WARN)?O.Status.WARN:O.Status.INFO;{if(_.rule===S.Rules.All&&g.includes(O.Status.ERROR))return O.Status.ERROR;const v=g.filter(D=>D!==O.Status.ERROR).length;if(_.count)return _.count>v?O.Status.ERROR:_.count<v?O.Status.WARN:O.Status.INFO;if(_.min&&_.min>v)return O.Status.ERROR;if(_.max&&_.max<v)return O.Status.WARN}return O.Status.INFO}determineSubmissionRequirementStatus(m,h){if(h.from&&h.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!h.from&&!h.from_nested&&1!==h.vc_path.length)return O.Status.ERROR;if(h.from){const _=this.countGroupIDs(m.input_descriptors,h.from);switch(h.rule){case S.Rules.All:return h.vc_path.length===_?O.Status.INFO:O.Status.WARN;case S.Rules.Pick:return this.getPickRuleStatus(h);default:return O.Status.ERROR}}else if(h.from_nested)return this.determineAreRequiredCredentialsPresent(m,h.from_nested,h);return O.Status.INFO}getPickRuleStatus(m){return 0===m.vc_path.length?O.Status.ERROR:m.count&&m.vc_path.length!==m.count?m.vc_path.length>m.count?O.Status.WARN:O.Status.ERROR:m.min&&m.vc_path.length<m.min?O.Status.ERROR:m.max&&m.vc_path.length>m.max?O.Status.WARN:O.Status.INFO}updateSubmissionRequirementMatchPathToAlias(m,h){const _=[];m.vc_path.forEach(g=>{_.push(g.replace("$","$."+h))}),m.vc_path=_,m.from_nested&&m.from_nested.forEach(g=>{this.updateSubmissionRequirementMatchPathToAlias(g,h)})}updatePresentationSubmissionPathToVpPath(m){const h=m?m.descriptor_map:this._client.generatePresentationSubmission?this._client.presentationSubmission.descriptor_map:void 0;h?.forEach(_=>{"vc+sd-jwt"===_.format?_.path="$":this.replacePathWithAlias(_,"verifiableCredential")})}replacePathWithAlias(m,h){m.path=m.path.replace("$[",`$.${h}[`),m.path_nested&&this.replacePathWithAlias(m.path_nested,h)}createIdToVcMap(m){const h=new Map,_=new Map;for(let g=0;g<m.length;g++){const v=m[g].input_descriptor_path;if(_.has(v)){const D=_.get(v);D&&D.push(m[g])}else _.set(v,[m[g]])}for(const[g,v]of _.entries()){const D=[];for(let T=0;T<v.length;T++)-1===D.indexOf(v[T].verifiable_credential_path)&&D.push(v[T].verifiable_credential_path);h.set(g,D)}return h}countGroupIDs(m,h){let _=0;for(const g of m)g.group&&g.group.includes(h)&&_++;return _}}},2893:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.AbstractEvaluationHandler=void 0;const b=d(4273),S=d(3395);A.AbstractEvaluationHandler=class R{constructor(P){this._client=P}setNext(P){return this.nextHandler=P,P}getNext(){return this.nextHandler}hasNext(){return null!=this.nextHandler}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs(P){this._client.wrappedVcs=P}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission(P){this._client.presentationSubmission=P}getResults(){return this._client.results}updatePresentationSubmission(P){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach((y,u,c)=>{let w;this.getResults().filter(h=>h.status===S.Status.ERROR&&h.evaluator===this.getName()).find(h=>(w=b.JSONPath.query(P,h.input_descriptor_path)[0],h.verifiable_credential_path===y.path&&w?.id===y.id))&&delete c[u]})}removeDuplicate(P){return P.reduce((y,u)=>y.find(w=>w.input_descriptor_path===u.input_descriptor_path&&w.verifiable_credential_path===u.verifiable_credential_path)?y:y.concat([u]),[])}}},4028:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(A,"__esModule",{value:!0}),A.DIDRestrictionEvaluationHandler=void 0;const S=d(1151),R=d(3395),O=b(d(4080)),P=d(3486),y=d(2893);A.DIDRestrictionEvaluationHandler=class u extends y.AbstractEvaluationHandler{constructor(w){super(w)}getName(){return"DIDRestrictionEvaluation"}handle(w,m){w.input_descriptors.forEach((h,_)=>{m.forEach((g,v)=>{const D=this.getIssuerIdFromWrappedVerifiableCredential(g);this.client.hasRestrictToDIDMethods()&&D&&!(0,P.isRestrictedDID)(D,this.client.restrictToDIDMethods)&&D.toLowerCase().startsWith("did:")?this.getResults().push(this.generateErrorResult(_,`$[${v}]`,g)):this.getResults().push(this.generateSuccessResult(_,`$[${v}]`,g,`${D} is allowed`))})}),this.updatePresentationSubmission(w)}getIssuerIdFromWrappedVerifiableCredential(w){if(S.CredentialMapper.isW3cCredential(w.credential))return"object"==typeof w.credential.issuer?w.credential.issuer.id:w.credential.issuer;if(S.CredentialMapper.isSdJwtDecodedCredential(w.credential))return w.credential.decodedPayload.iss;throw new Error("Unsupported credential type")}generateErrorResult(w,m,h){return{input_descriptor_path:`$.input_descriptors[${w}]`,evaluator:this.getName(),status:R.Status.ERROR,message:O.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:m,payload:{format:h.format}}}generateSuccessResult(w,m,h,_){return{input_descriptor_path:`$.input_descriptors[${w}]`,evaluator:this.getName(),status:R.Status.INFO,message:_??O.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:m,payload:{format:h.format}}}}},9819:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},614:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(A,"__esModule",{value:!0}),A.FormatRestrictionEvaluationHandler=void 0;const S=d(3395),R=b(d(4080)),O=d(2893);A.FormatRestrictionEvaluationHandler=class P extends O.AbstractEvaluationHandler{constructor(u){super(u)}getName(){return"FormatRestrictionEvaluation"}handle(u,c){const w=this.client.restrictToFormats?Object.keys(this.client.restrictToFormats):void 0;u.input_descriptors.forEach((m,h)=>{c.forEach((_,g)=>{const v="format"in m&&m.format?Object.keys(m.format):[_.format];let D=w??v;"format"in m&&m.format&&void 0!==w&&(D=Object.keys(m.format).filter(T=>w.includes(T))),D.includes(_.format)?this.getResults().push(this.generateSuccessResult(h,`$[${g}]`,_,`${_.format} is allowed from ${JSON.stringify(D)}`)):this.getResults().push(this.generateErrorResult(h,`$[${g}]`,_))})}),this.updatePresentationSubmission(u)}generateErrorResult(u,c,w){return{input_descriptor_path:`$.input_descriptors[${u}]`,evaluator:this.getName(),status:S.Status.ERROR,message:R.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:c,payload:{format:w.format}}}generateSuccessResult(u,c,w,m){return{input_descriptor_path:`$.input_descriptors[${u}]`,evaluator:this.getName(),status:S.Status.INFO,message:m??R.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:c,payload:{format:w.format}}}}},1001:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(2893),A),S(d(9819),A),S(d(298),A),S(d(9477),A),S(d(5537),A),S(d(19),A),S(d(1599),A),S(d(4257),A),S(d(7966),A),S(d(3217),A),S(d(614),A),S(d(4028),A)},298:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(A,"__esModule",{value:!0}),A.InputDescriptorFilterEvaluationHandler=void 0;const S=d(4273),R=b(d(9208)),O=b(d(1953)),P=d(3395),y=b(d(4080)),u=d(3486),c=d(2893),w=new R.default({verbose:!1,code:{source:!1,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});(0,O.default)(w);class m extends c.AbstractEvaluationHandler{constructor(_){super(_),m.keepCacheSizeInCheck()}getName(){return"FilterEvaluation"}handle(_,g){const v=S.JSONPath.nodes(_,"$..fields[*]");g.forEach((D,T)=>{this.createNoFieldResults(_,T,D),v.forEach(E=>{let N=[];E.value.path&&(N=u.JsonPathUtils.extractInputField(D.decoded,E.value.path));let M=!1;for(const k of N)if(this.evaluateFilter(k,E.value)){M=!0;const B={result:Object.assign({},N[0]),valid:!0,format:D.format};this.getResults().push(Object.assign({},this.createResultObject(S.JSONPath.stringify(E.path.slice(0,3)),T,B)))}if(!M)if(N.length){const k={result:Object.assign({},N[0]),valid:!1,format:D.format};this.createResponse(E,T,k,y.default.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else this.createResponse(E,T,{valid:!1,format:D.format},y.default.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)})}),this.updatePresentationSubmission(_)}createNoFieldResults(_,g,v){_.input_descriptors.map((T,E)=>({index:E,inDesc:T})).filter(T=>{var E,N,M;return void 0===(null===(E=T.inDesc.constraints)||void 0===E?void 0:E.fields)||0===(null===(M=null===(N=T.inDesc.constraints)||void 0===N?void 0:N.fields)||void 0===M?void 0:M.length)}).forEach(T=>{const E={result:[],valid:!0,format:v.format};this.getResults().push(Object.assign({},this.createResultObject(`$.input_descriptors[${T.index}]`,g,E)))})}createResponse(_,g,v,D){this.getResults().push(Object.assign(Object.assign({},this.createResultObject(S.JSONPath.stringify(_.path.slice(0,3)),g,v)),{status:P.Status.ERROR,message:D}))}createResultObject(_,g,v){return{input_descriptor_path:_,verifiable_credential_path:`$[${g}]`,evaluator:this.getName(),status:P.Status.INFO,message:y.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:v}}evaluateFilter(_,g){var v,D;null!==(v=g.filter)&&void 0!==v&&v.format&&"date"===g.filter.format&&this.transformDateFormat(_);let T=!0;if(g.filter){const E=JSON.stringify({filter:g.filter,value:_.value}),N=Date.now();T=null===(D=m.FILTER_CACHE.get(E))||void 0===D?void 0:D.value,void 0===T&&(m.keepCacheSizeInCheck(),T=w.validate(g.filter,_.value),m.FILTER_CACHE.set(E,{value:T,ts:N+m.DEFAULT_FILTER_CACHE_TTL}))}return T}transformDateFormat(_){const g=new Date(_.value);let v=g.getUTCMonth()+1+"";1===v.length&&(v="0"+v);let D=g.getUTCDate()+"";1===D.length&&(D="0"+D),_.value=g.getUTCFullYear()+"-"+v+"-"+D,_.value=g.toISOString().substring(0,g.toISOString().indexOf("T"))}static keepCacheSizeInCheck(_){var g,v,D;const T=null!==(g=_?.ttl)&&void 0!==g?g:m.DEFAULT_FILTER_CACHE_TTL,E=null!==(v=_?.maxCacheSize)&&void 0!==v?v:m.DEFAULT_MAX_FILTER_CACHE_SIZE,N=null!==(D=_?.resetCacheSize)&&void 0!==D?D:m.DEFAULT_RESET_CACHE_SIZE,M=Date.now();for(const[B,L]of m.FILTER_CACHE)L.ts+T<M&&m.FILTER_CACHE.delete(B);const k=m.FILTER_CACHE.size;if(k>E){const B=m.FILTER_CACHE.keys();for(let L=0;L<k-N;L++)m.FILTER_CACHE.delete(B.next().value)}}}A.InputDescriptorFilterEvaluationHandler=m,m.FILTER_CACHE=new Map,m.DEFAULT_MAX_FILTER_CACHE_SIZE=100,m.DEFAULT_FILTER_CACHE_TTL=3e4,m.DEFAULT_RESET_CACHE_SIZE=m.DEFAULT_MAX_FILTER_CACHE_SIZE/2},5537:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(A,"__esModule",{value:!0}),A.LimitDisclosureEvaluationHandler=void 0;const S=d(7636),R=d(1151),O=d(3395),P=b(d(4080)),y=d(3486),u=d(2893);A.LimitDisclosureEvaluationHandler=class c extends u.AbstractEvaluationHandler{constructor(m){super(m)}getName(){return"LimitDisclosureEvaluation"}handle(m,h){m.input_descriptors.forEach((_,g)=>{var v,D,T;null!==(v=_.constraints)&&void 0!==v&&v.fields&&((null===(D=_.constraints)||void 0===D?void 0:D.limit_disclosure)===S.Optionality.Required||(null===(T=_.constraints)||void 0===T?void 0:T.limit_disclosure)===S.Optionality.Preferred)&&this.evaluateLimitDisclosure(h,_.constraints,g)})}isLimitDisclosureSupported(m,h,_,g){if("vc+sd-jwt"===m.format)return!0;const v=this.client.limitDisclosureSignatureSuites,D=m.decoded.proof;if(!D||Array.isArray(D)||!D.type)return!1;const T=D.cryptosuite?`${D.type}.${D.cryptosuite}`:D.type;return!!v?.includes(T)||(g==S.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(_,h),!1)}evaluateLimitDisclosure(m,h,_){const g=h?.fields,v=h.limit_disclosure;m.forEach((D,T)=>{v&&this.isLimitDisclosureSupported(D,T,_,v)&&this.enforceLimitDisclosure(D,g,_,T,m,v)})}enforceLimitDisclosure(m,h,_,g,v,D){if(R.CredentialMapper.isWrappedSdJwtVerifiableCredential(m)){const T=this.createSdJwtPresentationFrame(m.credential,h,_,g);T&&((0,y.applySdJwtLimitDisclosure)(m.credential,T),m.decoded=m.credential.decodedPayload,m.original=R.CredentialMapper.isSdJwtDecodedCredential(m.original)?m.credential:m.credential.compactSdJwtVc,this.createSuccessResult(_,`$[${g}]`,D))}else{if(!R.CredentialMapper.isW3cCredential(m.credential))throw new Error(`Unsupported format for selective disclosure ${m.format}`);{const T=this.createVcWithRequiredFields(m.credential,h,_,g);T&&(v[g].credential=T,this.createSuccessResult(_,`$[${g}]`,D))}}}createSdJwtPresentationFrame(m,h,_,g){const v={};for(const D of h)if(D.path){const T=y.JsonPathUtils.extractInputField(m.decodedPayload,D.path);if(!(T.length>0))return void this.createMandatoryFieldNotFoundResult(_,g,D.path);y.JsonPathUtils.setValue(v,T[0].path,!0)}return v}createVcWithRequiredFields(m,h,_,g){let v={};v=Object.assign(v,m),v.credentialSubject={};for(const D of h)if(D.path){const T=y.JsonPathUtils.extractInputField(m,D.path);if(!(T.length>0))return void this.createMandatoryFieldNotFoundResult(_,g,D.path);v=this.copyResultPathToDestinationCredential(T[0],m,v)}return v}copyResultPathToDestinationCredential(m,h,_){let g=Object.assign({},h.credentialSubject);return m.path.forEach(v=>{g[v]&&(g={[v]:g[v]})}),_.credentialSubject=Object.assign(Object.assign({},_.credentialSubject),g),_}createSuccessResult(m,h,_){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${m}]`,verifiable_credential_path:`${h}`,evaluator:this.getName(),status:_===S.Optionality.Required?O.Status.INFO:O.Status.WARN,message:P.default.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult(m,h,_){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${m}]`,verifiable_credential_path:`$[${h}]`,evaluator:this.getName(),status:O.Status.ERROR,message:P.default.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:_})}createLimitDisclosureNotSupportedResult(m,h){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${m}]`,verifiable_credential_path:`$[${h}]`,evaluator:this.getName(),status:O.Status.ERROR,message:P.default.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}},19:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(A,"__esModule",{value:!0}),A.MarkForSubmissionEvaluationHandler=void 0;const S=d(4273),R=d(3395),O=b(d(4080)),P=d(2893);A.MarkForSubmissionEvaluationHandler=class y extends P.AbstractEvaluationHandler{constructor(c){super(c)}getName(){return"MarkForSubmissionEvaluation"}handle(c,w){const m=[...this.getResults()],h=m.filter(g=>g.status===R.Status.ERROR),_=this.retrieveNoErrorStatus(m,h);this.client.wrappedVcs=w,this.produceErrorResults(h),this.produceSuccessResults(_,c)}retrieveNoErrorStatus(c,w){return c.filter(h=>h.status!==R.Status.ERROR).filter(h=>!w.find(_=>h.input_descriptor_path===_.input_descriptor_path&&h.verifiable_credential_path===_.verifiable_credential_path))}produceSuccessResults(c,w){this.removeDuplicate(c).forEach(m=>{const _=S.JSONPath.nodes(w,m.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:m.input_descriptor_path,verifiable_credential_path:m.verifiable_credential_path,evaluator:this.getName(),status:R.Status.INFO,payload:{group:_},message:O.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})})}produceErrorResults(c){this.removeDuplicate(c).forEach(w=>{const m=Object.assign({},w.payload);m.evaluator=w.evaluator,this.getResults().push(Object.assign(Object.assign({},w),{evaluator:this.getName(),message:O.default.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:m}))})}}},1599:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(A,"__esModule",{value:!0}),A.PredicateRelatedFieldEvaluationHandler=void 0;const S=d(7636),R=d(3395),O=b(d(4080)),P=d(2893);A.PredicateRelatedFieldEvaluationHandler=class y extends P.AbstractEvaluationHandler{constructor(c){super(c)}getName(){return"PredicateRelatedFieldEvaluation"}handle(c){c.input_descriptors.forEach((w,m)=>{w.constraints&&this.examinePredicateRelatedField(m,w.constraints)})}examinePredicateRelatedField(c,w){if(w?.fields)for(let m=0;m<w.fields.length;m++)for(let h=0;h<this.getResults().length;h++)this.examinePredicateForFilterEvaluationResult(this.getResults(),h,c,w,m)}examinePredicateForFilterEvaluationResult(c,w,m,h,_){var g;const v=this.retrieveResultInputDescriptorIdx(c[w].input_descriptor_path);if(c[w].payload&&c[w].payload.result&&c[w].payload.result.path&&"FilterEvaluation"===c[w].evaluator&&m===v&&h&&h.fields&&h.fields[_]&&h.fields[_].predicate&&h.fields[_].path&&null!==(g=h.fields[_].path)&&void 0!==g&&g.includes(this.concatenatePath(c[w].payload.result.path))){const D=Object.assign({},c[w].payload.result),T=this.createResultObject(m,w,D,c);h.fields[_].predicate===S.Optionality.Required||(T.payload.value=!0),c.push(T)}}retrieveResultInputDescriptorIdx(c){const m=c.indexOf("$.input_descriptors["),h=c.substring(m+20),_=h.indexOf("]"),g=h.substring(0,_);return parseInt(g)}concatenatePath(c){let w="";for(let m=0;m<c.length;m++)"number"==typeof c[m]?(w=w.substring(0,w.length-1),w+="[*]."):w+=c[m]+".";return w.substring(0,w.length-1)}createResultObject(c,w,m,h){return{input_descriptor_path:`$.input_descriptors[${c}]`,verifiable_credential_path:h[w].verifiable_credential_path,evaluator:this.getName(),status:R.Status.INFO,message:O.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:m}}}},4257:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SameSubjectEvaluationHandler=void 0;const b=d(4273),S=d(7636),R=d(3395),O=d(2893);A.SameSubjectEvaluationHandler=class P extends O.AbstractEvaluationHandler{constructor(u){super(u),this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(R.Status.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(R.Status.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(R.Status.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(u,c){const w=this.mapSameSubjectFieldIdsToInputDescriptors(u),m=this.mapCredentialsToResultObjecs(c,w),h=this.countSameSubjectOccurrences(w,m);this.generateErrorResults(h,m),this.updatePresentationSubmission(u)}mapSameSubjectFieldIdsToInputDescriptors(u){this.fieldIds.push(...b.JSONPath.nodes(u,"$..fields[*].id")),this.sameSubject.push(...b.JSONPath.nodes(u,"$..same_subject[*]"));const c=[];return this.fieldIds.forEach(w=>{const m=this.sameSubject.find(h=>h.value.field_id.includes(w.value));m&&c.push([w,m])}),c}generateErrorResults(u,c){u.forEach((w,m)=>{const h=c.filter(_=>m===_.payload.fieldIdSet).map(_=>_.payload.credentialSubject.id);(h.length!==w||1!==new Set(h).size)&&c.forEach((_,g,v)=>{_.payload.fieldIdSet===m&&(_.status=R.Status.ERROR,_.message=this.messages.get(R.Status.ERROR),v[g]=_)})}),this.client.results.push(...c)}countSameSubjectOccurrences(u,c){const w=new Map;return u.forEach(m=>{c.filter(_=>m[1].value.field_id===_.payload.fieldIdSet)&&(w.has(m[1].value.field_id)&&w.get(m[1].value.field_id)?w.set(m[1].value.field_id,w.get(m[1].value.field_id)+1):w.set(m[1].value.field_id,1))}),w}mapCredentialsToResultObjecs(u,c){const w=[...b.JSONPath.nodes(u.map(h=>h.credential),"$..credentialSubject")],m=[];return w.forEach(h=>{const _=c.find(g=>0!==b.JSONPath.query(h.value,`$..${g[0].value}`).length);_&&_[1].value.directive===S.Optionality.Required?m.push({input_descriptor_path:b.JSONPath.stringify(_[0].path.slice(0,3)),status:R.Status.INFO,evaluator:this.getName(),payload:{fieldIdSet:_[1].value.field_id,credentialSubject:h.value},message:this.messages.get(R.Status.INFO),verifiable_credential_path:b.JSONPath.stringify(h.path.slice(0,2))}):_&&_[1].value.directive===S.Optionality.Preferred&&m.push({input_descriptor_path:b.JSONPath.stringify(_[0].path.slice(0,3)),status:R.Status.WARN,evaluator:this.getName(),payload:{fieldIdSet:_[1].value.field_id,credentialSubject:h.value},message:this.messages.get(R.Status.WARN),verifiable_credential_path:b.JSONPath.stringify(h.path.slice(0,2))})}),m}}},9477:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SubjectIsHolderEvaluationHandler=void 0;const b=d(4273),S=d(7636),R=d(3395),O=d(2893);A.SubjectIsHolderEvaluationHandler=class P extends O.AbstractEvaluationHandler{constructor(u){super(u),this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(R.Status.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(R.Status.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(R.Status.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(u,c){this.findIsHolderFieldIdsToInputDescriptorsSets(u),this.findAllCredentialSubjects(c),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,R.Status.INFO,S.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,R.Status.WARN,S.Optionality.Preferred),this.updatePresentationSubmission(u)}findIsHolderFieldIdsToInputDescriptorsSets(u){var c;this.fieldIds.push(...b.JSONPath.nodes(u,"$..fields[*].id")),this.isHolder.push(...b.JSONPath.nodes(u,"$..is_holder[*]"));const w=null===(c=this.fieldIds)||void 0===c?void 0:c.map(h=>h.value),m=[];m.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,w,S.Optionality.Preferred)),m.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,w,S.Optionality.Required)),m.forEach(h=>this.getResults().push(this.createResult(h[1],h[0],["",{}],R.Status.ERROR,void 0)))}evaluateFields(u,c,w,m){const h=[];return c.filter(_=>_.value.directive===m).filter(_=>_.value.field_id.every(g=>w.includes(g))).forEach(_=>u.set(b.JSONPath.stringify(_.path.slice(0,3)),_.value.field_id)),c.filter(_=>_.value.directive===m).filter(_=>!_.value.field_id.every(g=>w.includes(g))).forEach(_=>h.push([b.JSONPath.stringify(_.path.slice(0,3)),_.value.field_id])),h}findAllCredentialSubjects(u){const c=b.JSONPath.nodes(u.map(w=>w.credential),"$..credentialSubject");for(let w=0;w<c.length;w++){const m=c[w],h=b.JSONPath.stringify(m.path.slice(0,2));this.credentialsSubjectsByPath.set(h,m.value),this.credentialsByPath.set(h,u[w])}}confirmAllFieldSetHasSameSubject(u,c,w){const m=Array.from(u).flatMap(v=>Array.from(this.credentialsSubjectsByPath).filter(D=>v[1].find(T=>Object.keys(D[1]).includes(T)))),h=this.mapCredentialPathsToInputDescriptors(w),_=Array.from(m).flatMap(v=>Object.keys(v[1]).filter(D=>"id"!==D)),g=Array.from(u.values()).flatMap(v=>v.every(D=>_.includes(D)))[0];m.forEach(v=>{const D=h.get(v[0]);g&&v[1].id&&this.client.dids.includes(v[1].id)?this.getResults().push(this.createResult(Object.keys(v[1]).filter(T=>"id"!==T),D,v,c,this.credentialsByPath.get(v[0]))):this.getResults().push(this.createResult(Object.keys(v[1]).filter(T=>"id"!==T),D,v,R.Status.ERROR,this.credentialsByPath.get(v[0])))})}mapCredentialPathsToInputDescriptors(u){var c;const w=new Map;return null===(c=this.fieldIds)||void 0===c||c.forEach(m=>{const h=b.JSONPath.stringify(m.path.slice(0,3));this.credentialsSubjectsByPath.forEach((_,g)=>{const v=this.isHolder.find(D=>b.JSONPath.stringify(D.path.slice(0,3))===h);Object.keys(_).includes(m.value)&&v?.value.directive===u&&w.set(g,h)})}),w}createResult(u,c,w,m,h,_){return{input_descriptor_path:c,verifiable_credential_path:w[0],evaluator:this.getName(),status:m,payload:Object.assign({fieldIdSet:u,credentialSubject:w[1]},h?{format:h.format}:{}),message:_??this.messages.get(m)}}}},7966:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(A,"__esModule",{value:!0}),A.SubjectIsIssuerEvaluationHandler=void 0;const S=d(7636),R=d(1151),O=d(3395),P=b(d(4080)),y=d(3486),u=d(2893);A.SubjectIsIssuerEvaluationHandler=class c extends u.AbstractEvaluationHandler{constructor(m){super(m)}getName(){return"SubjectIsIssuerEvaluation"}handle(m,h){m.input_descriptors.forEach((_,g)=>{const v=_.constraints;v?.subject_is_issuer===S.Optionality.Required?this.checkSubjectIsIssuer(_.id,h,g):this.getResults().push(...h.map((D,T)=>this.generateSuccessResult(g,`$[${T}]`,D,"not applicable")))}),this.updatePresentationSubmission(m)}checkSubjectIsIssuer(m,h,_){this.client.presentationSubmission.descriptor_map.forEach(g=>{if(g.id===m){const v=y.JsonPathUtils.extractInputField(h.map(D=>D.credential),[g.path]);for(const D of v){const T=(0,y.getIssuerString)(D.value);D&&D.value&&(0,y.getSubjectIdsAsString)(D.value).every(E=>E===T)?this.getResults().push(this.generateSuccessResult(_,g.path,R.CredentialMapper.toWrappedVerifiableCredential(D.value))):this.getResults().push(this.generateErrorResult(_,g.path,R.CredentialMapper.toWrappedVerifiableCredential(D.value)))}}})}generateErrorResult(m,h,_){return{input_descriptor_path:`$.input_descriptors[${m}]`,evaluator:this.getName(),status:O.Status.ERROR,message:P.default.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:h,payload:{format:_.format}}}generateSuccessResult(m,h,_,g){return{input_descriptor_path:`$.input_descriptors[${m}]`,evaluator:this.getName(),status:O.Status.INFO,message:g??P.default.SUBJECT_IS_ISSUER,verifiable_credential_path:h,payload:{format:_.format}}}}},3217:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(A,"__esModule",{value:!0}),A.UriEvaluationHandler=void 0;const S=d(4273),R=d(1151),O=d(5975),P=d(3395),y=d(9938),u=b(d(4080)),c=d(2893);class w extends c.AbstractEvaluationHandler{constructor(h){super(h)}getName(){return"UriEvaluation"}handle(h,_){var g,v,D;h.input_descriptors.forEach((N,M)=>{const k=h.getVersion()!==y.PEVersion.v2?N.schema.map(B=>B.uri):[];_.forEach((B,L)=>{const z=w.buildVcContextAndSchemaUris(B.credential,h.getVersion());this.evaluateUris(B,z,k,M,L,h.getVersion())})});const T=(null===(g=h.format)||void 0===g?void 0:g.di)||(null===(v=h.format)||void 0===v?void 0:v.di_vc)||(null===(D=h.format)||void 0===D?void 0:D.di_vp),E=this.getResults().filter(N=>N.status===P.Status.INFO).map(N=>{var M,k,B,L;let z=null===(M=N.payload)||void 0===M?void 0:M.format;if(T&&("ldp_vc"===z||"ldp"===z)){const ne=S.JSONPath.nodes(_,N.verifiable_credential_path).map(le=>le.value).map(le=>le.type===R.OriginalType.JSONLD&&le.credential.proof?(Array.isArray(le.credential.proof)?le.credential.proof:[le.credential.proof]).filter(de=>"DataIntegrityProof"===de.type&&void 0!==de.cryptosuite):[]).reduce((le,Fe)=>le.filter(J=>Fe.includes(J))),K=S.JSONPath.nodes(h,N.input_descriptor_path)[0].value,te=!K.format||(null===(k=K?.format)||void 0===k?void 0:k.di)||(null===(B=K?.format)||void 0===B?void 0:B.di_vc)||(null===(L=K?.format)||void 0===L?void 0:L.di_vp);ne.length>0&&te&&(z="di_vc")}return{id:S.JSONPath.nodes(h,N.input_descriptor_path)[0].value.id,format:z,path:N.verifiable_credential_path}});this.client.generatePresentationSubmission&&(!this.presentationSubmission||0===Object.keys(this.presentationSubmission).length)&&(this.presentationSubmission={id:(0,O.nanoid)(),definition_id:h.id,descriptor_map:E})}evaluateUris(h,_,g,v,D,T){let E=!1;if(T===y.PEVersion.v1){for(let N=0;N<g.length;N++)w.containsHashlink(g[N])&&this.getResults().push(this.createWarnResultObject(v,D));for(let N=0;N<_.length;N++)null!=g.find(M=>M===_[N])&&(E=!0)}else E=!0;E?this.getResults().push(this.createSuccessResultObject(h,g,v,D)):this.getResults().push(this.createErrorResultObject(h,g,v,D))}static buildVcContextAndSchemaUris(h,_){const g=[];return R.CredentialMapper.isW3cCredential(h)&&(Array.isArray(h["@context"])?h["@context"].forEach(v=>g.push(v)):g.push(h["@context"]),Array.isArray(h.credentialSchema)&&h.credentialSchema.length>0?h.credentialSchema.forEach(v=>g.push(v.id)):h.credentialSchema&&g.push(h.credentialSchema.id),_===y.PEVersion.v1&&(Array.isArray(h.type)?h.type.forEach(v=>g.push(v)):h.type&&g.push(h.type))),R.CredentialMapper.isSdJwtDecodedCredential(h)&&_===y.PEVersion.v1&&g.push(h.decodedPayload.vct),g}createSuccessResultObject(h,_,g,v){const D=this.createResult(g,v);return D.status=P.Status.INFO,D.message=u.default.URI_EVALUATION_PASSED,D.payload={format:h.format,vcContext:R.CredentialMapper.isW3cCredential(h.credential)?h.credential["@context"]:void 0,vcCredentialSchema:R.CredentialMapper.isW3cCredential(h.credential)?h.credential.credentialSchema:void 0,inputDescriptorsUris:_},D}createErrorResultObject(h,_,g,v){const D=this.createResult(g,v);return D.status=P.Status.ERROR,D.message=u.default.URI_EVALUATION_DIDNT_PASS,D.payload={format:h.format,vcContext:R.CredentialMapper.isW3cCredential(h.credential)?h.credential["@context"]:void 0,vcCredentialSchema:R.CredentialMapper.isW3cCredential(h.credential)?h.credential.credentialSchema:void 0,inputDescriptorsUris:_},D}createWarnResultObject(h,_){const g=this.createResult(h,_);return g.status=P.Status.WARN,g.message=u.default.URI_EVALUATION_DIDNT_PASS,g.payload=u.default.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,g}createResult(h,_){return{input_descriptor_path:`$.input_descriptors[${h}]`,verifiable_credential_path:`$[${_}]`,evaluator:this.getName(),status:P.Status.INFO,message:void 0}}static containsHashlink(h){return!(this.matchAll(h,w.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll(h,w.HASHLINK_URL_ENCODED_REGEX).next().done)}}A.UriEvaluationHandler=w,w.matchAll=d(2373),w.HASHLINK_URL_ENCODED_REGEX=/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g,w.HASHLINK_QUERY_URL_REGEX=/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g},143:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.HandlerCheckResult=A.EvaluationClientWrapper=A.EvaluationClient=void 0;const b=d(2127);Object.defineProperty(A,"HandlerCheckResult",{enumerable:!0,get:function(){return b.HandlerCheckResult}});const S=d(950);Object.defineProperty(A,"EvaluationClient",{enumerable:!0,get:function(){return S.EvaluationClient}});var R=d(8995);Object.defineProperty(A,"EvaluationClientWrapper",{enumerable:!0,get:function(){return R.EvaluationClientWrapper}})},2700:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(m,h,_,g){void 0===g&&(g=_);var v=Object.getOwnPropertyDescriptor(h,_);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[_]}}),Object.defineProperty(m,g,v)}:function(m,h,_,g){void 0===g&&(g=_),m[g]=h[_]}),S=this&&this.__exportStar||function(m,h){for(var _ in m)"default"!==_&&!Object.prototype.hasOwnProperty.call(h,_)&&b(h,m,_)};Object.defineProperty(A,"__esModule",{value:!0}),A.PEXv2=A.PEXv1=A.PEX=A.Status=A.Checked=A.PEVersion=A.ValidationEngine=A.HandlerCheckResult=void 0;const R=d(3395);Object.defineProperty(A,"Checked",{enumerable:!0,get:function(){return R.Checked}}),Object.defineProperty(A,"Status",{enumerable:!0,get:function(){return R.Status}});const O=d(7889);Object.defineProperty(A,"PEX",{enumerable:!0,get:function(){return O.PEX}});const P=d(8992);Object.defineProperty(A,"PEXv1",{enumerable:!0,get:function(){return P.PEXv1}});const y=d(1945);Object.defineProperty(A,"PEXv2",{enumerable:!0,get:function(){return y.PEXv2}});const u=d(143);Object.defineProperty(A,"HandlerCheckResult",{enumerable:!0,get:function(){return u.HandlerCheckResult}});const c=d(9938);Object.defineProperty(A,"PEVersion",{enumerable:!0,get:function(){return c.PEVersion}});const w=d(930);Object.defineProperty(A,"ValidationEngine",{enumerable:!0,get:function(){return w.ValidationEngine}}),S(d(4864),A)},4864:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(4277),A)},4277:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.KeyEncoding=A.PresentationSubmissionLocation=void 0;var d=function(S){return S[S.EXTERNAL=0]="EXTERNAL",S[S.PRESENTATION=1]="PRESENTATION",S}(d||(A.PresentationSubmissionLocation=d={})),b=function(S){return S.Jwk="Jwk",S.Base58="Base58",S.Hex="Hex",S.Multibase="Multibase",S}(b||(A.KeyEncoding=b={}))},9358:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PEVersion=A.InternalPresentationDefinitionV2=A.InternalPresentationDefinitionV1=void 0,A.InternalPresentationDefinitionV1=class d{constructor(O,P,y,u,c,w){this.id=O,this.input_descriptors=P,this.format=y,this.name=u,this.purpose=c,this.submission_requirements=w}getVersion(){return S.v1}},A.InternalPresentationDefinitionV2=class b{constructor(O,P,y,u,c,w,m){this.format=y,this.frame=u,this.id=O,this.input_descriptors=P,this.name=c,this.purpose=w,this.submission_requirements=m}getVersion(){return S.v2}};var S=function(R){return R.v1="v1",R.v2="v2",R}(S||(A.PEVersion=S={}))},4080:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var d=function(b){return b.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",b.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",b.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",b.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",b.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",b.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",b.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",b.SUBJECT_IS_NOT_ISSUER="subject is not issuer",b.SUBJECT_IS_ISSUER="subject is issuer",b.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",b.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",b.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",b.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",b.UNKNOWN_EXCEPTION="unknown exception occurred: ",b.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential",b}(d||{});A.default=d},8819:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SSITypesBuilder=void 0;const b=d(1151),S=d(3486),R=d(9358);class O{static modelEntityToInternalPresentationDefinitionV1(y){const u=O.createCopyAndModifyPresentationDefinition(y);return new R.InternalPresentationDefinitionV1(u.id,u.input_descriptors,u.format,u.name,u.purpose,u.submission_requirements)}static modelEntityInternalPresentationDefinitionV2(y){const u=O.createCopyAndModifyPresentationDefinition(y);return new R.InternalPresentationDefinitionV2(u.id,u.input_descriptors,u.format,u.frame,u.name,u.purpose,u.submission_requirements)}static createCopyAndModifyPresentationDefinition(y){const u=JSON.parse(JSON.stringify(y));return S.JsonPathUtils.changePropertyNameRecursively(u,"_const","const"),S.JsonPathUtils.changePropertyNameRecursively(u,"_enum","enum"),S.JsonPathUtils.changeSpecialPathsRecursively(u),u}static mapExternalVerifiablePresentationToWrappedVP(y,u){return b.CredentialMapper.toWrappedVerifiablePresentation(y,{hasher:u})}static mapExternalVerifiableCredentialsToWrappedVcs(y,u){return b.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray(y)?y:[y],{hasher:u})}static toInternalPresentationDefinition(y){const u=JSON.parse(JSON.stringify(y)),c=(0,S.definitionVersionDiscovery)(u);if(c.error)throw c.error;return c.version==R.PEVersion.v1?O.modelEntityToInternalPresentationDefinitionV1(u):O.modelEntityInternalPresentationDefinitionV2(u)}}A.SSITypesBuilder=O},9938:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(4080),A),S(d(9358),A),S(d(8819),A)},7426:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ObjectUtils=void 0;class d{static asArray(S){return Array.isArray(S)?S:[S]}static isObject(S){return"[object Object]"===Object.prototype.toString.call(S)}static isUrlAbsolute(S){d.isString(S)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(S)}static isString(S){return"string"==typeof S||"[object String]"===Object.prototype.toString.call(S)}static getDistinctFieldInObject(S,R){const O=S.map(P=>P[R]);return Array.from(new Set(O))}static cloneDeep(S){return JSON.parse(JSON.stringify(S))}}A.ObjectUtils=d},8471:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ObjectValidationUtils=void 0,A.ObjectValidationUtils=class d{static optionalNonEmptyString(S){return null==S||S.length>0}static nonEmptyString(S){return null!=S&&S.length>0}static isValidDIDURI(S){return new RegExp("^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/([a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@])*)?").test(S)}}},9446:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(A,"__esModule",{value:!0}),A.filterToRestrictedDIDs=A.isRestrictedDID=A.uniformDIDMethods=A.definitionVersionDiscovery=A.getIssuerString=A.getSubjectIdsAsString=void 0;const S=d(9938),R=b(d(6515)),O=b(d(3046)),P=d(7426),y=d(5408);function m(g,v){var D;let T=null!==(D=g?.map(E=>E.toLowerCase()).map(E=>E.startsWith("did:")?E:`did:${E}`))&&void 0!==D?D:[];if(v?.removePrefix){const E=v.removePrefix.endsWith(":")?v.removePrefix.length:v.removePrefix.length+1;T=T.map(N=>N.startsWith(v.removePrefix)?N.substring(E):N)}return T.includes("did")?[]:T}A.getSubjectIdsAsString=function u(g){return(Array.isArray(g.credentialSubject)?g.credentialSubject:[g.credentialSubject]).filter(D=>!!D.id).map(D=>D.id)},A.getIssuerString=function c(g){return P.ObjectUtils.isString(g.issuer)?g.issuer:g.issuer.id},A.definitionVersionDiscovery=function w(g){const v=JSON.parse(JSON.stringify(g));y.JsonPathUtils.changePropertyNameRecursively(v,"_const","const"),y.JsonPathUtils.changePropertyNameRecursively(v,"_enum","enum");const D={presentation_definition:v};let T=(0,O.default)(D);return T?{version:S.PEVersion.v2}:(T=(0,R.default)(D),T?{version:S.PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})},A.uniformDIDMethods=m,A.isRestrictedDID=function h(g,v){const D=m(v);return 0===D.length||D.some(T=>g.toLowerCase().startsWith(T))},A.filterToRestrictedDIDs=function _(g,v){const D=m(v);return 0===D.length?g:D.flatMap(T=>g.filter(E=>E.toLowerCase().startsWith(T)))}},3486:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(5408),A),S(d(7426),A),S(d(8471),A),S(d(9446),A),S(d(8870),A)},5408:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.JsonPathUtils=void 0;const b=d(4273);class S{static extractInputField(O,P){let y=[];if(P)for(const u of P)if(y=b.JSONPath.nodes(O,u),y.length)break;return y}static changePropertyNameRecursively(O,P,y){const u=S.extractInputField(O,["$.."+P]);for(const c of u)this.copyResultPathToDestinationDefinition(c.path,O,y)}static setValue(O,P,y){const u="string"==typeof P?P:b.JSONPath.stringify(P);return b.JSONPath.value(O,u,y),O}static copyResultPathToDestinationDefinition(O,P,y){let u=P;for(let c=1;c<O.length;c++)if(c+1<O.length&&(u=u[O[c]]),O.length==c+1){u[y]=u[O[c]],delete u[O[c]];break}}static changeSpecialPathsRecursively(O){const P=S.extractInputField(O,["$..path"]);for(const y of P)this.modifyPathsWithSpecialCharacter(y.path,O)}static modifyPathsWithSpecialCharacter(O,P){let y=P;for(let u=1;u<O.length;u++)if(u+1<O.length&&(y=y[O[u]]),O.length==u+1){const c=y[O[u]],w=[];for(let m=0;m<c.length;m++)w.push(this.modifyPathWithSpecialCharacter(c[m]));y[O[u]]=w;break}}static modifyPathWithSpecialCharacter(O){const P=this.matchAll(O,this.REGEX_PATH);return this.modifyPathRecursive(P,O)}static modifyPathRecursive(O,P){let y=O.next(),u=!1;for(;y&&!y.done&&!u;){const c=y.value.index;if(c&&1==c)P=P.charAt(0)+"['"+y.value[0]+"']"+P.substring(c+y.value[0].length),u=!0,this.modifyPathRecursive(O,P);else if(c&&c>1&&"['"!==P.substring(c-2,c)&&'["'!==P.substring(c-2,c))if(".."===P.substring(c-2,c)){P=P.substring(0,c-2)+"..['"+y.value[0]+"']"+P.substring(c+y.value[0].length),u=!0;const w=this.matchAll(P,this.REGEX_PATH);this.modifyPathRecursive(w,P)}else"."===P.charAt(c-1)&&(P=P.substring(0,c-1)+"['"+y.value[0]+"']"+P.substring(c+y.value[0].length),u=!0,this.modifyPathRecursive(O,P));y=O.next()}return P}}A.JsonPathUtils=S,S.matchAll=d(2373),S.REGEX_PATH=/@\w+/g},8870:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(m,h,_,g){void 0===g&&(g=_);var v=Object.getOwnPropertyDescriptor(h,_);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[_]}}),Object.defineProperty(m,g,v)}:function(m,h,_,g){void 0===g&&(g=_),m[g]=h[_]}),S=this&&this.__setModuleDefault||(Object.create?function(m,h){Object.defineProperty(m,"default",{enumerable:!0,value:h})}:function(m,h){m.default=h}),R=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var h={};if(null!=m)for(var _ in m)"default"!==_&&Object.prototype.hasOwnProperty.call(m,_)&&b(h,m,_);return S(h,m),h};Object.defineProperty(A,"__esModule",{value:!0}),A.applySdJwtLimitDisclosure=A.calculateSdHash=void 0;const O=d(5315),P=d(2084),y=R(d(4151)),u=d(7426);A.calculateSdHash=function c(m,h,_){const g=_(m,h);return y.toString(g,"base64url")},A.applySdJwtLimitDisclosure=function w(m,h){const _=m.disclosures.map(M=>({digest:M.digest,encoded:M.encoded,salt:M.decoded[0],value:3===M.decoded.length?M.decoded[2]:M.decoded[1],key:3===M.decoded.length?M.decoded[1]:void 0})),g=(0,P.selectDisclosures)(u.ObjectUtils.cloneDeep(m.signedPayload),_,h);m.disclosures=g.map(M=>({encoded:M.encoded,decoded:M.key?[M.salt,M.key,M.value]:[M.salt,M.value],digest:M.digest}));const v=m.disclosures.map(M=>M.encoded),D=m.compactSdJwtVc.split("~");m.compactSdJwtVc=D.filter((M,k)=>0===k||k===D.length-1||v.includes(M)).join("~");const{payload:T}=(0,O.getSDAlgAndPayload)(u.ObjectUtils.cloneDeep(m.signedPayload)),E=(0,P.createHashMappingForSerializedDisclosure)(g),{unpackedObj:N}=(0,O.unpackObj)(T,E);m.decodedPayload=N}},8612:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ConstraintsVB=void 0;const b=d(7636),S=d(387),R=d(767);class O extends R.ValidationBundler{constructor(y){super(y,"constraints"),this.disclosureLimitShouldHaveKnownValueMsg="limit_disclosure should have known value",this.statusShouldHaveKnownValueMsg="Unknown status property",this.statusDirectiveShouldHaveKnownValueMsg="status directive should have known value",this.subjectIsIssuerShouldBeKnownValueMsg="subject_is_issuer should be known value",this.fieldIdIsMandatoryMsg="field_id property is mandatory",this.fieldIdMustBeArrayOfStringsMsg="field_id property must be an array of strings",this.fieldIdMustCorrespondToFieldIdMsg="field_id must correspond to a present field object id property",this.directivePropertyIsMandatoryMsg="directive property is mandatory",this.oneOfTheKnownDirectivePropertiesMandatoryMsg="directive property must be one of [required, preferred]"}getValidations(y){let u=[];return y&&(u=[{tag:this.getTag(),target:y,predicate:c=>O.disclosureLimitShouldHaveKnownValue(c.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:y,predicate:c=>O.statusShouldHaveKnownValue(c.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:y,predicate:O.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:y,predicate:c=>O.shouldBeKnownOption(c.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:y,predicate:c=>this.fieldIdInSubjectMustCorrespondToFieldId(c,c.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:y,predicate:c=>this.fieldIdInSubjectMustCorrespondToFieldId(c,c.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(y?.is_holder),...this.getSubjectsValidations(y?.same_subject),...this.getFieldsValidations(y)]),u}getFieldsValidations(y){var u;return null!==(u=y?.fields)&&void 0!==u&&u.length?new S.FieldsVB(this.getTag()).getValidations(y.fields):[]}static disclosureLimitShouldHaveKnownValue(y){return!y||y===b.Optionality.Preferred||y===b.Optionality.Required}static statusShouldHaveKnownValue(y){return null==y||null!=y.active||null!=y.revoked||null!=y.suspended}static statusDirectiveShouldHaveKnownValue(){return y=>{var u,c,w;return this.pdStatusShouldBeKnown(null===(u=y?.statuses)||void 0===u?void 0:u.active)&&this.pdStatusShouldBeKnown(null===(c=y?.statuses)||void 0===c?void 0:c.revoked)&&this.pdStatusShouldBeKnown(null===(w=y?.statuses)||void 0===w?void 0:w.suspended)}}static pdStatusShouldBeKnown(y){return!y||y.directive===b.Directives.Allowed||y.directive===b.Directives.Disallowed||y.directive===b.Directives.Required}static shouldBeKnownOption(y){return!y||0===y.filter(u=>u.directive!==b.Optionality.Preferred&&u.directive!==b.Optionality.Required).length}getSubjectsValidations(y){if(y){let u=[];for(let c=0;c<y.length;c++)u=[{tag:this.getMyTag(c),target:y[c],predicate:w=>Array.isArray(w.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(c),target:y[c],predicate:w=>!!w.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(c),target:y[c],predicate:w=>w.field_id.length===w.field_id.filter(m=>"string"==typeof m).length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(c),target:y[c],predicate:w=>void 0!==w.directive,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(c),target:y[c],predicate:w=>w.directive===b.Optionality.Preferred||w.directive===b.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return u}return[]}getMyTag(y){return this.parentTag+"."+this.myTag+"["+y+"]"}fieldIdInSubjectMustCorrespondToFieldId(y,u){if(u)for(const c of u)for(const w of c.field_id)if(!O.isValidFieldId(y,w))return!1;return!0}static isValidFieldId(y,u){return!!y?.fields&&y.fields.map(c=>c.id).includes(u)}}A.ConstraintsVB=O},387:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(A,"__esModule",{value:!0}),A.FieldsVB=void 0;const S=d(4273),R=d(7636),O=b(d(6598)),P=b(d(1264)),y=d(767);class u extends y.ValidationBundler{constructor(w){super(w,"fields"),this.mustHaveValidJsonPathsMsg='field object "path" property must contain array of valid json paths',this.pathObjMustHaveValidJsonPathMsg='field object "path" property must contain valid json paths.',this.filterMustBeValidJsonSchemaMsg='field object "filter" property must be valid json schema',this.filterIsMustInPresenceOfPredicateMsg='field object must have a "filter" property if "predicate" is present',this.filterIsNotValidJsonSchemaDescriptorMsg='could not parse "filter" object as a valid json schema descriptor.',this.purposeShouldBeANonEmptyStringMsg="purpose should be a non empty string",this.shouldBeKnownOptionMsg="Unknown predicate property"}getValidations(w){let m=[];if(w)for(let h=0;h<w.length;h++)m=[...m,...this.getValidationsFor(w[h],h)];return m}getValidationsFor(w,m){return[{tag:this.getMyTag(m),target:w,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(m),target:w,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(m),target:w,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(m),target:w,predicate:h=>u.optionalNonEmptyString(h?.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(m),target:w,predicate:h=>u.shouldBeKnownOption(h?.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(w){return this.parentTag+"."+this.myTag+"["+w+"]"}mustHaveValidJsonPaths(){return w=>null!=w.path&&w.path.length>0&&this._validateJsonPaths(w.path)}_validateJsonPaths(w){const m=[];if(w.forEach(h=>{try{S.JSONPath.parse(h)}catch{m.push(h)}}),m.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(m));return!0}filterMustBeValidJsonSchema(){return w=>this._validateFilter(w.filter)}_validateFilter(w){if(null==w)return!0;let m=!1;try{m=(0,P.default)(w),m||(m=(0,O.default)(w))}catch{throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(w))}return m}filterIsMustInPresenceOfPredicate(){return w=>!(null!=w.predicate&&null==w.filter)}static optionalNonEmptyString(w){return null==w||w.length>0}static shouldBeKnownOption(w){return null==w||w==R.Optionality.Required||w==R.Optionality.Preferred}}A.FieldsVB=u},9241:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FrameVB=void 0;const b=d(3486),S=d(767);class R extends S.ValidationBundler{constructor(P){super(P,"frame"),this.frameIsValidMsg="frame value is not valid"}getValidations(P){let y=[];return y=[...y,...this.getMyValidations(P)],y}getMyValidations(P){return[{tag:this.getMyTag(),target:P,predicate:R.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(P){if(!P||Array.isArray(P)||"object"!=typeof P)return!1;const y=P;if(y&&y["@id"])for(const u of b.ObjectUtils.asArray(P["@id"]))if(!b.ObjectUtils.isObject(u)&&!b.ObjectUtils.isUrlAbsolute(u)||b.ObjectUtils.isString(u)&&0===u.indexOf("_:"))return!1;if(y["@types"])for(const u of b.ObjectUtils.asArray(P["@types"]))if(!b.ObjectUtils.isObject(u)&&!b.ObjectUtils.isUrlAbsolute(u)||b.ObjectUtils.isString(u)&&0===u.indexOf("_:"))return!1;return!0}}A.FrameVB=R},5056:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(387),A),S(d(853),A),S(d(4840),A),S(d(7506),A),S(d(2915),A),S(d(3170),A),S(d(7091),A),S(d(767),A),S(d(8612),A)},853:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InputDescriptorsV1VB=void 0;const b=d(3486),S=d(8612),R=d(767);A.InputDescriptorsV1VB=class O extends R.ValidationBundler{constructor(y){super(y,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string",this.shouldHaveValidSchemaURIMsg="schema should have valid URI"}getValidations(y){let u=[];return u.push({tag:this.getTag(),target:y,predicate:c=>this.shouldHaveUniqueIds(c),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:y,predicate:c=>this.shouldHaveUniqueFieldsIds(c),message:"fields id must be unique"}),y.forEach((c,w)=>{u=[...u,...this.getValidationFor(c,w),...this.constraintsValidations(c,w)]}),u}getValidationFor(y,u){return[{tag:this.getMyTag(u),target:y,predicate:c=>b.ObjectValidationUtils.nonEmptyString(c?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:y,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(u),target:y,predicate:c=>b.ObjectValidationUtils.optionalNonEmptyString(c?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:y,predicate:c=>b.ObjectValidationUtils.optionalNonEmptyString(c?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(y){const u=[],c=new Set,w=[];return y.map(m=>{var h;return null===(h=m.constraints)||void 0===h?void 0:h.fields}).forEach(m=>{m&&w.push(...m)}),w.forEach(m=>{m.id&&u.push(m.id)}),u.forEach(m=>c.add(m)),u.length===c.size}shouldHaveUniqueIds(y){const u=[],c=new Set;return y.forEach(w=>u.push(w.id)),u.forEach(w=>c.add(w)),u.length===c.size}getMyTag(y){return this.parentTag+"."+this.myTag+"["+y+"]"}isValidSchema(){return y=>y.schema.filter(u=>this.isAValidURI(u.uri)&&(null==u.required||"boolean"==typeof u.required)).length>0}isAValidURI(y){if(!y)return!1;if(!b.ObjectValidationUtils.nonEmptyString(y))return!1;if(y.startsWith("http://")||y.startsWith("https://"))try{new URL(y)}catch{return b.ObjectValidationUtils.isValidDIDURI(y)}return!0}constraintsValidations(y,u){return y.constraints?new S.ConstraintsVB(this.getMyTag(u)).getValidations(y.constraints):[]}}},4840:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.InputDescriptorsV2VB=void 0;const b=d(3486),S=d(8612),R=d(767);A.InputDescriptorsV2VB=class O extends R.ValidationBundler{constructor(y){super(y,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string"}getValidations(y){let u=[];return u.push({tag:this.getTag(),target:y,predicate:c=>this.shouldNotHaveSchema(c),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:y,predicate:c=>this.shouldHaveUniqueIds(c),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:y,predicate:c=>this.shouldHaveUniqueFieldsIds(c),message:"fields id must be unique"}),y.forEach((c,w)=>{u=[...u,...this.getValidationFor(c,w),...this.constraintsValidations(c,w)]}),u}getValidationFor(y,u){return[{tag:this.getMyTag(u),target:y,predicate:c=>b.ObjectValidationUtils.nonEmptyString(c?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:y,predicate:c=>b.ObjectValidationUtils.optionalNonEmptyString(c?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:y,predicate:c=>b.ObjectValidationUtils.optionalNonEmptyString(c?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(y){const u=[],c=new Set,w=[];return y.map(m=>{var h;return null===(h=m.constraints)||void 0===h?void 0:h.fields}).forEach(m=>{m&&w.push(...m)}),w.forEach(m=>{m.id&&u.push(m.id)}),u.forEach(m=>c.add(m)),u.length===c.size}shouldHaveUniqueIds(y){const u=[],c=new Set;return y.forEach(w=>u.push(w.id)),u.forEach(w=>c.add(w)),u.length===c.size}getMyTag(y){return this.parentTag+"."+this.myTag+"["+y+"]"}constraintsValidations(y,u){return y.constraints?new S.ConstraintsVB(this.getMyTag(u)).getValidations(y.constraints):[]}shouldNotHaveSchema(y){let u=!1;return y.forEach(c=>{c.schema&&(u=!0)}),!u}}},7506:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(A,"__esModule",{value:!0}),A.PresentationDefinitionV1VB=void 0;const S=d(2209),R=d(3851),O=b(d(6515)),P=d(853),y=d(7091),u=d(767);class c extends u.ValidationBundler{constructor(m){super(m,"presentation_definition")}getValidations(m){return m.submission_requirements?[...this.myValidations(m),...new P.InputDescriptorsV1VB(this.myTag).getValidations(m.input_descriptors),...new y.SubmissionRequirementVB(this.myTag).getValidations(m.submission_requirements)]:[...this.myValidations(m),...new P.InputDescriptorsV1VB(this.myTag).getValidations(m.input_descriptors)]}myValidations(m){return[{tag:this.getTag(),target:m,predicate:h=>null!=h,message:"presentation_definition should be non null."},{tag:this.getTag(),target:m,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:m,predicate:h=>c.nonEmptyString(h?.id),message:"id should not be empty"},{tag:this.getTag(),target:m,predicate:h=>c.optionalNonEmptyString(h?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:m,predicate:h=>c.optionalNonEmptyString(h?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:m,predicate:h=>c.formatValuesShouldNotBeEmpty(h?.format),message:"formats values should not empty"},{tag:this.getTag(),target:m,predicate:h=>c.formatValuesShouldBeAmongKnownValues(h?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:m,predicate:h=>c.groupShouldMatchSubmissionRequirements(h),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:m,predicate:h=>c.shouldNotHaveFrameProperty(h),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString(m){return null==m||m.length>0}static nonEmptyString(m){return null!=m&&m.length>0}static formatValuesShouldNotBeEmpty(m){var h,_,g,v,D,T,E,N,M,k,B;let L=!0;return null!=m?.jwt&&(L=L&&(null===(h=m.jwt.alg)||void 0===h?void 0:h.length)>0),null!=m?.jwt_vc&&(L=L&&(null===(_=m.jwt_vc.alg)||void 0===_?void 0:_.length)>0),null!=m?.jwt_vc_json&&(L=L&&(null===(g=m.jwt_vc_json.alg)||void 0===g?void 0:g.length)>0),null!=m?.jwt_vp&&(L=L&&(null===(v=m.jwt_vp.alg)||void 0===v?void 0:v.length)>0),null!=m?.jwt_vp_json&&(L=L&&(null===(D=m.jwt_vp_json.alg)||void 0===D?void 0:D.length)>0),null!=m?.ldp&&(L=L&&(null===(T=m.ldp.proof_type)||void 0===T?void 0:T.length)>0),null!=m?.ldp_vc&&(L=L&&(null===(E=m.ldp_vc.proof_type)||void 0===E?void 0:E.length)>0),null!=m?.ldp_vp&&(L=L&&(null===(N=m.ldp_vp.proof_type)||void 0===N?void 0:N.length)>0),null!=m?.di&&(L=L&&(null===(M=m.di.proof_type)||void 0===M?void 0:M.length)>0),null!=m?.di_vc&&(L=L&&(null===(k=m.di_vc.proof_type)||void 0===k?void 0:k.length)>0),null!=m?.di_vp&&(L=L&&(null===(B=m.di_vp.proof_type)||void 0===B?void 0:B.length)>0),L}static formatValuesShouldBeAmongKnownValues(m){let h=[];if(m){const _=S.JwtAlgos.getJwtAlgos(),g=R.LdpTypes.getLdpTypes();h=[];for(const[v,D]of Object.entries(m))v.startsWith("jwt")?h.push(...c.isJWTAlgoKnown(D,_)):h.push(...c.isLDPProofKnown(D,g))}return 0===h.length}static isJWTAlgoKnown(m,h){const _=[];if(null!=m&&null!=m.alg)for(const g of m.alg)h.includes(g)||_.push(g);return _}static isLDPProofKnown(m,h){const _=[];if(null!=m&&null!=m.proof_type)for(const g of m.proof_type)h.includes(g)||_.push(g);return _}static groupShouldMatchSubmissionRequirements(m){if(null!=m.submission_requirements&&m.submission_requirements.length>0){const h=[];m.input_descriptors.forEach(T=>{T.group&&h.push(...T.group)});const _=new Set(h),g=[];c.flatten(m.submission_requirements).forEach(T=>{T.from&&(Array.isArray(T.from)?g.push(...T.from):g.push(T.from))});const v=new Set(g);return 0===new Set([...v].filter(T=>null!=T&&T.length>0&&!_.has(T))).size}return!0}static flatten(m){return m?.reduce((h,_)=>h.concat(Array.isArray(_.from_nested)?this.flatten(_.from_nested):_),[])}shouldBeAsPerJsonSchema(){return m=>(0,O.default)({presentation_definition:m})}static shouldNotHaveFrameProperty(m){return!m.frame}}A.PresentationDefinitionV1VB=c},2915:function(Z,A,d){"use strict";var b=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(A,"__esModule",{value:!0}),A.PresentationDefinitionV2VB=void 0;const S=d(2209),R=d(3851),O=b(d(3046)),P=d(9241),y=d(4840),u=d(7091),c=d(767);class w extends c.ValidationBundler{constructor(h){super(h,"presentation_definition")}getValidations(h){let _=[];return _=h.submission_requirements?[...this.myValidations(h),...new y.InputDescriptorsV2VB(this.myTag).getValidations(h.input_descriptors),...new u.SubmissionRequirementVB(this.myTag).getValidations(h.submission_requirements)]:[...this.myValidations(h),...new y.InputDescriptorsV2VB(this.myTag).getValidations(h.input_descriptors)],h.frame&&_.push(...new P.FrameVB(this.myTag).getValidations(h.frame)),_}myValidations(h){return[{tag:this.getTag(),target:h,predicate:_=>null!=_,message:"presentation_definition should be non null."},{tag:this.getTag(),target:h,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:h,predicate:_=>w.nonEmptyString(_?.id),message:"id should not be empty"},{tag:this.getTag(),target:h,predicate:_=>w.optionalNonEmptyString(_?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:h,predicate:_=>w.optionalNonEmptyString(_?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:h,predicate:_=>w.formatValuesShouldNotBeEmpty(_?.format),message:"formats values should not empty"},{tag:this.getTag(),target:h,predicate:_=>w.formatValuesShouldBeAmongKnownValues(_?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:h,predicate:_=>w.groupShouldMatchSubmissionRequirements(_),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString(h){return null==h||h.length>0}static nonEmptyString(h){return null!=h&&h.length>0}static formatValuesShouldNotBeEmpty(h){var _,g,v,D,T,E,N,M,k,B,L;let z=!0;return null!=h?.jwt&&(z=z&&(null===(_=h.jwt.alg)||void 0===_?void 0:_.length)>0),null!=h?.jwt_vc&&(z=z&&(null===(g=h.jwt_vc.alg)||void 0===g?void 0:g.length)>0),null!=h?.jwt_vc_json&&(z=z&&(null===(v=h.jwt_vc_json.alg)||void 0===v?void 0:v.length)>0),null!=h?.jwt_vp&&(z=z&&(null===(D=h.jwt_vp.alg)||void 0===D?void 0:D.length)>0),null!=h?.jwt_vp_json&&(z=z&&(null===(T=h.jwt_vp_json.alg)||void 0===T?void 0:T.length)>0),null!=h?.ldp&&(z=z&&(null===(E=h.ldp.proof_type)||void 0===E?void 0:E.length)>0),null!=h?.ldp_vc&&(z=z&&(null===(N=h.ldp_vc.proof_type)||void 0===N?void 0:N.length)>0),null!=h?.ldp_vp&&(z=z&&(null===(M=h.ldp_vp.proof_type)||void 0===M?void 0:M.length)>0),null!=h?.di&&(z=z&&(null===(k=h.di.proof_type)||void 0===k?void 0:k.length)>0),null!=h?.di_vc&&(z=z&&(null===(B=h.di_vc.proof_type)||void 0===B?void 0:B.length)>0),null!=h?.di_vp&&(z=z&&(null===(L=h.di_vp.proof_type)||void 0===L?void 0:L.length)>0),z}static formatValuesShouldBeAmongKnownValues(h){let _=[];if(h){const g=S.JwtAlgos.getJwtAlgos(),v=R.LdpTypes.getLdpTypes();_=[];for(const[D,T]of Object.entries(h))D.startsWith("jwt")?_.push(...w.isJWTAlgoKnown(T,g)):_.push(...w.isLDPProofKnown(T,v))}return 0===_.length}static isJWTAlgoKnown(h,_){const g=[];if(null!=h&&null!=h.alg)for(const v of h.alg)_.includes(v)||g.push(v);return g}static isLDPProofKnown(h,_){const g=[];if(null!=h&&null!=h.proof_type)for(const v of h.proof_type)_.includes(v)||g.push(v);return g}static groupShouldMatchSubmissionRequirements(h){if(null!=h.submission_requirements&&h.submission_requirements.length>0){const _=[];h.input_descriptors.forEach(E=>{E.group&&_.push(...E.group)});const g=new Set(_),v=[];w.flatten(h.submission_requirements).forEach(E=>{E.from&&v.push(E.from)});const D=new Set(v);return 0===new Set([...D].filter(E=>null!=E&&E.length>0&&!g.has(E))).size}return!0}static flatten(h){return h?.reduce((_,g)=>_.concat(Array.isArray(g.from_nested)?this.flatten(g.from_nested):g),[])}shouldBeAsPerJsonSchema(){return h=>(0,O.default)({presentation_definition:h})}}A.PresentationDefinitionV2VB=w},3170:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.PresentationSubmissionVB=void 0;const b=d(4273),S=d(3395),R=d(767);class O extends R.ValidationBundler{constructor(y){super(y,"presentation_submission")}getValidations(y){return[{tag:this.getTag(),target:y,predicate:u=>null!=u,message:"presentation_submission should be non null."},{tag:this.getTag(),target:y,predicate:u=>O.nonEmptyString(u?.id),message:"id should not be empty"},{tag:this.getTag(),target:y,predicate:u=>O.nonEmptyString(u?.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:y,predicate:u=>O.descriptorMapMustBePresent(u?.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:y,predicate:u=>O.idMustBeSameForEachLevelOfNesting(u?.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:y,predicate:u=>O.formatsShouldBeKnown(u?.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:y,predicate:u=>O.pathsShouldBeValidJsonPaths(u?.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString(y){return null!=y&&y.length>0}static descriptorMapMustBePresent(y){return null!=y&&y.length>0}static idMustBeSameForEachLevelOfNesting(y){let u=!0;if(null!=y)for(let c=0;c<y.length;c++)u=u&&O.isIdSameForEachLevelOfNesting(y[c],y[c].id);return u}static isIdSameForEachLevelOfNesting(y,u){let c=!0;return null!=y&&null!=y.path_nested&&(c=y.path_nested.id==u&&c&&O.isIdSameForEachLevelOfNesting(y.path_nested,u)),c}static formatsShouldBeKnown(y){let u=!0;if(null!=y){const c=["jwt","jwt_vc","jwt_vc_json","jwt_vp","jwt_vp_json","ldp","ldp_vc","ldp_vp","di","di_vc","di_vp","vc+sd-jwt"];for(let w=0;w<y.length;w++)u=O.formatShouldBeKnown(y[w],c)}return u}static formatShouldBeKnown(y,u){let c=!0;return null!=y&&(c=u.includes(y.format)),null!=y.path_nested&&(c=c&&O.formatShouldBeKnown(y.path_nested,u)),c}static pathsShouldBeValidJsonPaths(y){let u=!0;if(null!=y)for(let c=0;c<y.length;c++)u=O.pathShouldBeValid(y[c],[]);return u}static pathShouldBeValid(y,u){if(null!=y){try{b.JSONPath.parse(y.path)}catch{u.push(y.path)}null!=y.path_nested&&O.pathShouldBeValid(y.path_nested,u)}if(u.length>0)throw new S.Checked("",S.Status.ERROR,"These were not parsable json paths: "+JSON.stringify(u));return!0}}A.PresentationSubmissionVB=O},7091:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SubmissionRequirementVB=void 0;const b=d(767);class S extends b.ValidationBundler{constructor(O){super(O,"submission_requirements"),this.ruleIsMandatoryMsg="rule is a mandatory field",this.needsOneFromOrFromNestedMsg="needs exactly one of from or from_nested",this.fromNestedShouldBeArrayMsg="The value of the from_nested property MUST be an array",this.isCountPositiveIntMsg="count must be a practical positive number",this.isMinPositiveIntMsg="min must be a practical positive number",this.isMaxPositiveIntMsg="max must be a practical positive number",this.ruleShouldBePickOrAllMsg="rule should be either pick or all"}getValidations(O){let P=[];if(null!=O&&O.length>0)for(let y=0;y<O.length;y++)P=[...P,...this.getMyValidations(y,O),...this.getSubValidations(y,O)];return P}getMyValidations(O,P){return[{tag:this.getMyTag(O),target:P[O],predicate:S.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(O),target:P[O],predicate:S.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(O),target:P[O],predicate:S.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(O),target:P[O],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(O),target:P[O],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(O),target:P[O],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(O),target:P[O],predicate:S.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(O){return this.parentTag+"."+this.myTag+"["+O+"]"}getSubValidations(O,P){const y=P[O].from_nested;return null!=y?new S(this.getFromNestedTag(O)).getValidations(y):[]}getFromNestedTag(O){return this.getMyTag(O)+".from_nested"}isCountPositiveInt(O){return"pick"!==O.rule||null==O.count||0<O.count}isMinPositiveInt(O){return"pick"!==O.rule||null==O.min||0<=O.min}isMaxPositiveInt(O){return"pick"!==O.rule||null==O.max||0<O.max}static ruleIsMandatory(O){return null!=O.rule}static needsOneFromOrFromNested(O){return null==O.from!=(null==O.from_nested)}static fromNestedShouldBeArray(O){return null==O.from_nested||Array.isArray(O.from_nested)}static ruleShouldBePickOrAll(O){return"pick"===O.rule||"all"===O.rule}}A.SubmissionRequirementVB=S},767:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ValidationBundler=void 0;const b=d(3395);A.ValidationBundler=class S{constructor(O,P){this.parentTag=O,this.myTag=P}getTag(){return null!=this.parentTag?this.parentTag+"."+this.myTag:this.myTag}toChecked(O){return new b.Checked(this.getTag(),b.Status.ERROR,O)}}},320:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(1130),A),S(d(3398),A),S(d(903),A)},2209:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.JwtAlgos=void 0,A.JwtAlgos=class d{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}},3851:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.LdpTypes=void 0,A.LdpTypes=class d{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020","DataIntegrityProof"]}}},3398:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},903:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ValidationEngine=void 0;const b=d(320);A.ValidationEngine=class S{validate(O){let P=[];for(const y of O)P=P.concat(y.bundler.getValidations(y.target));return(0,b.validate)(P)}}},1130:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.validate=void 0;const b=d(3395);A.validate=R=>{function P(m){return new b.Checked(m.tag,b.Status.ERROR,m.message)}function y(m){return new b.Checked(m,b.Status.INFO,"ok")}const w=R.map(m=>function u(m){let h;try{h=m.predicate(m.target)?y(m.tag):P(m)}catch{h=P(m)}return h}(m)).reduce((m,h)=>(h.status!==b.Status.INFO&&m.push(h),m),[]);return(0,b.hasErrors)(w)?w:[y("root")]}},930:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(5056),A),S(d(320),A)},6598:Z=>{"use strict";Z.exports=u,Z.exports.default=u;const d={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},b=Object.prototype.hasOwnProperty,S={type:["number","string","boolean"]};function R(c,{instancePath:w="",rootData:_=c}={}){let g=null,v=0;if("number"!=typeof c&&"string"!=typeof c&&"boolean"!=typeof c){const D={instancePath:w,schemaPath:"#/type",keyword:"type",params:{type:S.type},message:"must be number,string,boolean",schema:S.type,parentSchema:S,data:c};null===g?g=[D]:g.push(D),v++}return R.errors=g,0===v}const O={type:["number","string"]};function P(c,{instancePath:w="",rootData:_=c}={}){let g=null,v=0;if("number"!=typeof c&&"string"!=typeof c){const D={instancePath:w,schemaPath:"#/type",keyword:"type",params:{type:O.type},message:"must be number,string",schema:O.type,parentSchema:O,data:c};null===g?g=[D]:g.push(D),v++}return P.errors=g,0===v}function y(c,{instancePath:w="",rootData:_=c}={}){let g=null,v=0;if(c&&"object"==typeof c&&!Array.isArray(c)){if(void 0===c.type){const D={instancePath:w,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:d.required,parentSchema:d,data:c};null===g?g=[D]:g.push(D),v++}for(const D in c)if(!b.call(d.properties,D)){const T={instancePath:w,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties",schema:!1,parentSchema:d,data:c};null===g?g=[T]:g.push(T),v++}if(void 0!==c.const&&(R(c.const,{instancePath:w+"/const",parentData:c,parentDataProperty:"const",rootData:_})||(g=null===g?R.errors:g.concat(R.errors),v=g.length)),void 0!==c.enum){let D=c.enum;if(Array.isArray(D)){const T=D.length;for(let E=0;E<T;E++)P(D[E],{instancePath:w+"/enum/"+E,parentData:D,parentDataProperty:E,rootData:_})||(g=null===g?P.errors:g.concat(P.errors),v=g.length)}else{const T={instancePath:w+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.enum.type,parentSchema:d.properties.enum,data:D};null===g?g=[T]:g.push(T),v++}}if(void 0!==c.exclusiveMaximum&&(P(c.exclusiveMaximum,{instancePath:w+"/exclusiveMaximum",parentData:c,parentDataProperty:"exclusiveMaximum",rootData:_})||(g=null===g?P.errors:g.concat(P.errors),v=g.length)),void 0!==c.exclusiveMinimum&&(P(c.exclusiveMinimum,{instancePath:w+"/exclusiveMinimum",parentData:c,parentDataProperty:"exclusiveMinimum",rootData:_})||(g=null===g?P.errors:g.concat(P.errors),v=g.length)),void 0!==c.format){let D=c.format;if("string"!=typeof D){const T={instancePath:w+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.format.type,parentSchema:d.properties.format,data:D};null===g?g=[T]:g.push(T),v++}}if(void 0!==c.maxLength){let D=c.maxLength;if("number"!=typeof D){const T={instancePath:w+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:d.properties.maxLength.type,parentSchema:d.properties.maxLength,data:D};null===g?g=[T]:g.push(T),v++}}if(void 0!==c.maximum&&(P(c.maximum,{instancePath:w+"/maximum",parentData:c,parentDataProperty:"maximum",rootData:_})||(g=null===g?P.errors:g.concat(P.errors),v=g.length)),void 0!==c.minLength){let D=c.minLength;if("number"!=typeof D){const T={instancePath:w+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:d.properties.minLength.type,parentSchema:d.properties.minLength,data:D};null===g?g=[T]:g.push(T),v++}}if(void 0!==c.minimum&&(P(c.minimum,{instancePath:w+"/minimum",parentData:c,parentDataProperty:"minimum",rootData:_})||(g=null===g?P.errors:g.concat(P.errors),v=g.length)),void 0!==c.not){let D=c.not;if(!D||"object"!=typeof D||Array.isArray(D)){const T={instancePath:w+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.not.type,parentSchema:d.properties.not,data:D};null===g?g=[T]:g.push(T),v++}}if(void 0!==c.pattern){let D=c.pattern;if("string"!=typeof D){const T={instancePath:w+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.pattern.type,parentSchema:d.properties.pattern,data:D};null===g?g=[T]:g.push(T),v++}}if(void 0!==c.type){let D=c.type;if("string"!=typeof D){const T={instancePath:w+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.type.type,parentSchema:d.properties.type,data:D};null===g?g=[T]:g.push(T),v++}}}else{const D={instancePath:w,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:c};null===g?g=[D]:g.push(D),v++}return y.errors=g,0===v}function u(c,{instancePath:w="",parentData:m,parentDataProperty:h,rootData:_=c}={}){let g=null,v=0;return y(c,{instancePath:w,parentData:m,parentDataProperty:h,rootData:_})||(g=null===g?y.errors:g.concat(y.errors),v=g.length),u.errors=g,0===v}},1264:Z=>{"use strict";Z.exports=c,Z.exports.default=c;const d={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},contains:{$ref:"#/definitions/FilterV2"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},items:{anyOf:[{$ref:"#/definitions/FilterV2"},{items:{$ref:"#/definitions/FilterV2"},minItems:1,type:"array"}]},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},type:"object"},b=Object.prototype.hasOwnProperty,S={type:["number","string","boolean"]};function R(w,{instancePath:m="",rootData:g=w}={}){let v=null,D=0;if("number"!=typeof w&&"string"!=typeof w&&"boolean"!=typeof w){const T={instancePath:m,schemaPath:"#/type",keyword:"type",params:{type:S.type},message:"must be number,string,boolean",schema:S.type,parentSchema:S,data:w};null===v?v=[T]:v.push(T),D++}return R.errors=v,0===D}const O={type:["number","string"]};function P(w,{instancePath:m="",rootData:g=w}={}){let v=null,D=0;if("number"!=typeof w&&"string"!=typeof w){const T={instancePath:m,schemaPath:"#/type",keyword:"type",params:{type:O.type},message:"must be number,string",schema:O.type,parentSchema:O,data:w};null===v?v=[T]:v.push(T),D++}return P.errors=v,0===D}const y={validate:u};function u(w,{instancePath:m="",rootData:g=w}={}){let v=null,D=0;if(w&&"object"==typeof w&&!Array.isArray(w)){for(const E in w)if(!b.call(d.properties,E)){const N={instancePath:m,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:E},message:"must NOT have additional properties",schema:!1,parentSchema:d,data:w};null===v?v=[N]:v.push(N),D++}if(void 0!==w.const&&(R(w.const,{instancePath:m+"/const",parentData:w,parentDataProperty:"const",rootData:g})||(v=null===v?R.errors:v.concat(R.errors),D=v.length)),void 0!==w.contains&&(y.validate(w.contains,{instancePath:m+"/contains",parentData:w,parentDataProperty:"contains",rootData:g})||(v=null===v?y.validate.errors:v.concat(y.validate.errors),D=v.length)),void 0!==w.enum){let E=w.enum;if(Array.isArray(E)){const N=E.length;for(let M=0;M<N;M++)P(E[M],{instancePath:m+"/enum/"+M,parentData:E,parentDataProperty:M,rootData:g})||(v=null===v?P.errors:v.concat(P.errors),D=v.length)}else{const N={instancePath:m+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.enum.type,parentSchema:d.properties.enum,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.exclusiveMaximum&&(P(w.exclusiveMaximum,{instancePath:m+"/exclusiveMaximum",parentData:w,parentDataProperty:"exclusiveMaximum",rootData:g})||(v=null===v?P.errors:v.concat(P.errors),D=v.length)),void 0!==w.exclusiveMinimum&&(P(w.exclusiveMinimum,{instancePath:m+"/exclusiveMinimum",parentData:w,parentDataProperty:"exclusiveMinimum",rootData:g})||(v=null===v?P.errors:v.concat(P.errors),D=v.length)),void 0!==w.format){let E=w.format;if("string"!=typeof E){const N={instancePath:m+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.format.type,parentSchema:d.properties.format,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.formatExclusiveMaximum){let E=w.formatExclusiveMaximum;if("string"!=typeof E){const N={instancePath:m+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.formatExclusiveMaximum.type,parentSchema:d.properties.formatExclusiveMaximum,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.formatExclusiveMinimum){let E=w.formatExclusiveMinimum;if("string"!=typeof E){const N={instancePath:m+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.formatExclusiveMinimum.type,parentSchema:d.properties.formatExclusiveMinimum,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.formatMaximum){let E=w.formatMaximum;if("string"!=typeof E){const N={instancePath:m+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.formatMaximum.type,parentSchema:d.properties.formatMaximum,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.formatMinimum){let E=w.formatMinimum;if("string"!=typeof E){const N={instancePath:m+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.formatMinimum.type,parentSchema:d.properties.formatMinimum,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.items){let E=w.items;const N=D;let M=!1;const k=D;y.validate(E,{instancePath:m+"/items",parentData:w,parentDataProperty:"items",rootData:g})||(v=null===v?y.validate.errors:v.concat(y.validate.errors),D=v.length);var T=k===D;if(M=M||T,!M){const B=D;if(Array.isArray(E)){if(E.length<1){const Q={instancePath:m+"/items",schemaPath:"#/properties/items/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.properties.items.anyOf[1],data:E};null===v?v=[Q]:v.push(Q),D++}const z=E.length;for(let Q=0;Q<z;Q++)y.validate(E[Q],{instancePath:m+"/items/"+Q,parentData:E,parentDataProperty:Q,rootData:g})||(v=null===v?y.validate.errors:v.concat(y.validate.errors),D=v.length)}else{const z={instancePath:m+"/items",schemaPath:"#/properties/items/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties.items.anyOf[1].type,parentSchema:d.properties.items.anyOf[1],data:E};null===v?v=[z]:v.push(z),D++}T=B===D,M=M||T}if(M)D=N,null!==v&&(N?v.length=N:v=null);else{const B={instancePath:m+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:d.properties.items.anyOf,parentSchema:d.properties.items,data:E};null===v?v=[B]:v.push(B),D++}}if(void 0!==w.maxLength){let E=w.maxLength;if("number"!=typeof E){const N={instancePath:m+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:d.properties.maxLength.type,parentSchema:d.properties.maxLength,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.maximum&&(P(w.maximum,{instancePath:m+"/maximum",parentData:w,parentDataProperty:"maximum",rootData:g})||(v=null===v?P.errors:v.concat(P.errors),D=v.length)),void 0!==w.minLength){let E=w.minLength;if("number"!=typeof E){const N={instancePath:m+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:d.properties.minLength.type,parentSchema:d.properties.minLength,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.minimum&&(P(w.minimum,{instancePath:m+"/minimum",parentData:w,parentDataProperty:"minimum",rootData:g})||(v=null===v?P.errors:v.concat(P.errors),D=v.length)),void 0!==w.not){let E=w.not;if(!E||"object"!=typeof E||Array.isArray(E)){const N={instancePath:m+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties.not.type,parentSchema:d.properties.not,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.pattern){let E=w.pattern;if("string"!=typeof E){const N={instancePath:m+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.pattern.type,parentSchema:d.properties.pattern,data:E};null===v?v=[N]:v.push(N),D++}}if(void 0!==w.type){let E=w.type;if("string"!=typeof E){const N={instancePath:m+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.type.type,parentSchema:d.properties.type,data:E};null===v?v=[N]:v.push(N),D++}}}else{const E={instancePath:m,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:w};null===v?v=[E]:v.push(E),D++}return u.errors=v,0===D}function c(w,{instancePath:m="",parentData:h,parentDataProperty:_,rootData:g=w}={}){let v=null,D=0;return u(w,{instancePath:m,parentData:h,parentDataProperty:_,rootData:g})||(v=null===v?u.errors:v.concat(u.errors),D=v.length),c.errors=v,0===D}},6515:Z=>{"use strict";Z.exports=k,Z.exports.default=k;const A={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},d={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},b=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$","u"),S=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),R=new RegExp("^di_vc$|^di_vp$|^di$","u"),O=new RegExp("additionalProperties","u");function P(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(B&&"object"==typeof B&&!Array.isArray(B)){for(const K in B)if(!("vc+sd-jwt"===K||b.test(K)||S.test(K)||R.test(K)||O.test(K))){const te={instancePath:L,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:d,data:B};null===j?j=[te]:j.push(te),ne++}if(void 0!==B["vc+sd-jwt"]){let K=B["vc+sd-jwt"];if(K&&"object"==typeof K&&!Array.isArray(K)){for(const te in K)if("sd-jwt_alg_values"!==te&&"kb-jwt_alg_values"!==te){const le={instancePath:L+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:d.properties["vc+sd-jwt"],data:K};null===j?j=[le]:j.push(le),ne++}if(void 0!==K["sd-jwt_alg_values"]){let te=K["sd-jwt_alg_values"];if(Array.isArray(te)){if(te.length<1){const Fe={instancePath:L+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:te};null===j?j=[Fe]:j.push(Fe),ne++}const le=te.length;for(let Fe=0;Fe<le;Fe++){let J=te[Fe];if("string"!=typeof J){const de={instancePath:L+"/vc+sd-jwt/sd-jwt_alg_values/"+Fe,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:d.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:J};null===j?j=[de]:j.push(de),ne++}}}else{const le={instancePath:L+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:d.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K["kb-jwt_alg_values"]){let te=K["kb-jwt_alg_values"];if(Array.isArray(te)){if(te.length<1){const Fe={instancePath:L+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:te};null===j?j=[Fe]:j.push(Fe),ne++}const le=te.length;for(let Fe=0;Fe<le;Fe++){let J=te[Fe];if("string"!=typeof J){const de={instancePath:L+"/vc+sd-jwt/kb-jwt_alg_values/"+Fe,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:d.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:J};null===j?j=[de]:j.push(de),ne++}}}else{const le={instancePath:L+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:d.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:te};null===j?j=[le]:j.push(le),ne++}}}else{const te={instancePath:L+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.properties["vc+sd-jwt"].type,parentSchema:d.properties["vc+sd-jwt"],data:K};null===j?j=[te]:j.push(te),ne++}}for(const K in B)if(b.test(K)){let te=B[K];if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.alg){const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].required,parentSchema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:te};null===j?j=[le]:j.push(le),ne++}for(const le in te)if("alg"!==le){const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties",schema:!1,parentSchema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:te};null===j?j=[Fe]:j.push(Fe),ne++}if(void 0!==te.alg){let le=te.alg;if(Array.isArray(le)){if(le.length<1){const J={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:le};null===j?j=[J]:j.push(J),ne++}const Fe=le.length;for(let J=0;J<Fe;J++){let de=le[J];if("string"!=typeof de){const Ie={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+J,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items.type,parentSchema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}}else{const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.type,parentSchema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}}else{const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].type,parentSchema:d.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:te};null===j?j=[le]:j.push(le),ne++}}for(const K in B)if(S.test(K)){let te=B[K];if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.proof_type){const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:te};null===j?j=[le]:j.push(le),ne++}for(const le in te)if("proof_type"!==le){const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties",schema:!1,parentSchema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:te};null===j?j=[Fe]:j.push(Fe),ne++}if(void 0!==te.proof_type){let le=te.proof_type;if(Array.isArray(le)){if(le.length<1){const J={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:le};null===j?j=[J]:j.push(J),ne++}const Fe=le.length;for(let J=0;J<Fe;J++){let de=le[J];if("string"!=typeof de){const Ie={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+J,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}}else{const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}}else{const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:d.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:te};null===j?j=[le]:j.push(le),ne++}}for(const K in B)if(R.test(K)){let te=B[K];if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0===te.proof_type){const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"],data:te};null===j?j=[le]:j.push(le),ne++}if(void 0===te.cryptosuite){const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"],data:te};null===j?j=[le]:j.push(le),ne++}for(const le in te)if("proof_type"!==le&&"cryptosuite"!==le){const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:le},message:"must NOT have additional properties",schema:!1,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"],data:te};null===j?j=[Fe]:j.push(Fe),ne++}if(void 0!==te.proof_type){let le=te.proof_type;if(Array.isArray(le)){if(le.length<1){const J={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:le};null===j?j=[J]:j.push(J),ne++}const Fe=le.length;for(let J=0;J<Fe;J++){let de=le[J];if("string"!=typeof de){const Ie={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+J,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}}else{const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}if(void 0!==te.cryptosuite){let le=te.cryptosuite;if(Array.isArray(le)){if(le.length<1){const J={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:le};null===j?j=[J]:j.push(J),ne++}const Fe=le.length;for(let J=0;J<Fe;J++){let de=le[J];if("string"!=typeof de){const Ie={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+J,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}}else{const Fe={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}}else{const le={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:d.patternProperties["^di_vc$|^di_vp$|^di$"],data:te};null===j?j=[le]:j.push(le),ne++}}for(const K in B)if(O.test(K)){const te={instancePath:L+"/"+K.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:d.patternProperties.additionalProperties,data:B[K]};null===j?j=[te]:j.push(te),ne++}}else{const K={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:B};null===j?j=[K]:j.push(K),ne++}return P.errors=j,0===ne}const y={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},u={validate:c};function c(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(!B||"object"!=typeof B||Array.isArray(B)){const Ie={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.type,parentSchema:y,data:B};null===j?j=[Ie]:j.push(Ie),ne++}const K=ne;let te=!1,le=null;const Fe=ne;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.rule){const Ie={instancePath:L,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:y.oneOf[0].required,parentSchema:y.oneOf[0],data:B};null===j?j=[Ie]:j.push(Ie),ne++}if(void 0===B.from){const Ie={instancePath:L,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:y.oneOf[0].required,parentSchema:y.oneOf[0],data:B};null===j?j=[Ie]:j.push(Ie),ne++}for(const Ie in B)if("name"!==Ie&&"purpose"!==Ie&&"rule"!==Ie&&"count"!==Ie&&"min"!==Ie&&"max"!==Ie&&"from"!==Ie){const ae={instancePath:L,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ie},message:"must NOT have additional properties",schema:!1,parentSchema:y.oneOf[0],data:B};null===j?j=[ae]:j.push(ae),ne++}if(void 0!==B.name){let Ie=B.name;if("string"!=typeof Ie){const ae={instancePath:L+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[0].properties.name.type,parentSchema:y.oneOf[0].properties.name,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.purpose){let Ie=B.purpose;if("string"!=typeof Ie){const ae={instancePath:L+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[0].properties.purpose.type,parentSchema:y.oneOf[0].properties.purpose,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.rule){let Ie=B.rule;if("string"!=typeof Ie){const ae={instancePath:L+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[0].properties.rule.type,parentSchema:y.oneOf[0].properties.rule,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("all"!==Ie&&"pick"!==Ie){const ae={instancePath:L+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:y.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:y.oneOf[0].properties.rule.enum,parentSchema:y.oneOf[0].properties.rule,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.count){let Ie=B.count;if("number"!=typeof Ie||Ie%1||isNaN(Ie)){const ae={instancePath:L+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.oneOf[0].properties.count.type,parentSchema:y.oneOf[0].properties.count,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("number"==typeof Ie&&(Ie<1||isNaN(Ie))){const ae={instancePath:L+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:y.oneOf[0].properties.count,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.min){let Ie=B.min;if("number"!=typeof Ie||Ie%1||isNaN(Ie)){const ae={instancePath:L+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.oneOf[0].properties.min.type,parentSchema:y.oneOf[0].properties.min,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("number"==typeof Ie&&(Ie<0||isNaN(Ie))){const ae={instancePath:L+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:y.oneOf[0].properties.min,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.max){let Ie=B.max;if("number"!=typeof Ie||Ie%1||isNaN(Ie)){const ae={instancePath:L+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.oneOf[0].properties.max.type,parentSchema:y.oneOf[0].properties.max,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("number"==typeof Ie&&(Ie<0||isNaN(Ie))){const ae={instancePath:L+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:y.oneOf[0].properties.max,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.from){let Ie=B.from;if("string"!=typeof Ie){const ae={instancePath:L+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[0].properties.from.type,parentSchema:y.oneOf[0].properties.from,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}}Fe===ne&&(te=!0,le=0);const J=ne;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.rule){const Ie={instancePath:L,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:y.oneOf[1].required,parentSchema:y.oneOf[1],data:B};null===j?j=[Ie]:j.push(Ie),ne++}if(void 0===B.from_nested){const Ie={instancePath:L,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:y.oneOf[1].required,parentSchema:y.oneOf[1],data:B};null===j?j=[Ie]:j.push(Ie),ne++}for(const Ie in B)if("name"!==Ie&&"purpose"!==Ie&&"rule"!==Ie&&"count"!==Ie&&"min"!==Ie&&"max"!==Ie&&"from_nested"!==Ie){const ae={instancePath:L,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ie},message:"must NOT have additional properties",schema:!1,parentSchema:y.oneOf[1],data:B};null===j?j=[ae]:j.push(ae),ne++}if(void 0!==B.name){let Ie=B.name;if("string"!=typeof Ie){const ae={instancePath:L+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[1].properties.name.type,parentSchema:y.oneOf[1].properties.name,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.purpose){let Ie=B.purpose;if("string"!=typeof Ie){const ae={instancePath:L+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[1].properties.purpose.type,parentSchema:y.oneOf[1].properties.purpose,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.rule){let Ie=B.rule;if("string"!=typeof Ie){const ae={instancePath:L+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.oneOf[1].properties.rule.type,parentSchema:y.oneOf[1].properties.rule,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("all"!==Ie&&"pick"!==Ie){const ae={instancePath:L+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:y.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:y.oneOf[1].properties.rule.enum,parentSchema:y.oneOf[1].properties.rule,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.count){let Ie=B.count;if("number"!=typeof Ie||Ie%1||isNaN(Ie)){const ae={instancePath:L+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.oneOf[1].properties.count.type,parentSchema:y.oneOf[1].properties.count,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("number"==typeof Ie&&(Ie<1||isNaN(Ie))){const ae={instancePath:L+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:y.oneOf[1].properties.count,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.min){let Ie=B.min;if("number"!=typeof Ie||Ie%1||isNaN(Ie)){const ae={instancePath:L+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.oneOf[1].properties.min.type,parentSchema:y.oneOf[1].properties.min,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("number"==typeof Ie&&(Ie<0||isNaN(Ie))){const ae={instancePath:L+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:y.oneOf[1].properties.min,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.max){let Ie=B.max;if("number"!=typeof Ie||Ie%1||isNaN(Ie)){const ae={instancePath:L+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.oneOf[1].properties.max.type,parentSchema:y.oneOf[1].properties.max,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("number"==typeof Ie&&(Ie<0||isNaN(Ie))){const ae={instancePath:L+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:y.oneOf[1].properties.max,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.from_nested){let Ie=B.from_nested;if(Array.isArray(Ie)){if(Ie.length<1){const Ee={instancePath:L+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.oneOf[1].properties.from_nested,data:Ie};null===j?j=[Ee]:j.push(Ee),ne++}const ae=Ie.length;for(let Ee=0;Ee<ae;Ee++)u.validate(Ie[Ee],{instancePath:L+"/from_nested/"+Ee,parentData:Ie,parentDataProperty:Ee,rootData:oe})||(j=null===j?u.validate.errors:j.concat(u.validate.errors),ne=j.length)}else{const ae={instancePath:L+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.oneOf[1].properties.from_nested.type,parentSchema:y.oneOf[1].properties.from_nested,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}}var de;if((de=J===ne)&&te?(te=!1,le=[le,1]):de&&(te=!0,le=1),te)ne=K,null!==j&&(K?j.length=K:j=null);else{const Ie={instancePath:L,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:le},message:"must match exactly one schema in oneOf",schema:y.oneOf,parentSchema:y,data:B};null===j?j=[Ie]:j.push(Ie),ne++}return c.errors=j,0===ne}const w={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},m={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function h(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.uri){const K={instancePath:L,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:m.required,parentSchema:m,data:B};null===j?j=[K]:j.push(K),ne++}for(const K in B)if("uri"!==K&&"required"!==K){const te={instancePath:L,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:m,data:B};null===j?j=[te]:j.push(te),ne++}if(void 0!==B.uri){let K=B.uri;if("string"!=typeof K){const te={instancePath:L+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.properties.uri.type,parentSchema:m.properties.uri,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.required){let K=B.required;if("boolean"!=typeof K){const te={instancePath:L+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:m.properties.required.type,parentSchema:m.properties.required,data:K};null===j?j=[te]:j.push(te),ne++}}}else{const K={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:m.type,parentSchema:m,data:B};null===j?j=[K]:j.push(K),ne++}return h.errors=j,0===ne}const _={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function g(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.manifest){let K=B.manifest;if("string"!=typeof K){const te={instancePath:L+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.manifest.type,parentSchema:_.properties.manifest,data:K};null===j?j=[te]:j.push(te),ne++}}}else{const K={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.type,parentSchema:_,data:B};null===j?j=[K]:j.push(K),ne++}return g.errors=j,0===ne}const v={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},D={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},T=Object.prototype.hasOwnProperty;function E(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.type){const K={instancePath:L,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:D.required,parentSchema:D,data:B};null===j?j=[K]:j.push(K),ne++}for(const K in B)if(!T.call(D.properties,K)){const te={instancePath:L,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:D,data:B};null===j?j=[te]:j.push(te),ne++}if(void 0!==B.type){let K=B.type;if("string"!=typeof K){const te={instancePath:L+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.type.type,parentSchema:D.properties.type,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.format){let K=B.format;if("string"!=typeof K){const te={instancePath:L+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.format.type,parentSchema:D.properties.format,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.pattern){let K=B.pattern;if("string"!=typeof K){const te={instancePath:L+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.pattern.type,parentSchema:D.properties.pattern,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.minimum){let K=B.minimum;if("number"!=typeof K&&"string"!=typeof K){const te={instancePath:L+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:D.properties.minimum.type},message:"must be number,string",schema:D.properties.minimum.type,parentSchema:D.properties.minimum,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.minLength){let K=B.minLength;if("number"!=typeof K||K%1||isNaN(K)){const te={instancePath:L+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:D.properties.minLength.type,parentSchema:D.properties.minLength,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.maxLength){let K=B.maxLength;if("number"!=typeof K||K%1||isNaN(K)){const te={instancePath:L+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:D.properties.maxLength.type,parentSchema:D.properties.maxLength,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.exclusiveMinimum){let K=B.exclusiveMinimum;if("number"!=typeof K&&"string"!=typeof K){const te={instancePath:L+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:D.properties.exclusiveMinimum.type},message:"must be number,string",schema:D.properties.exclusiveMinimum.type,parentSchema:D.properties.exclusiveMinimum,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.exclusiveMaximum){let K=B.exclusiveMaximum;if("number"!=typeof K&&"string"!=typeof K){const te={instancePath:L+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:D.properties.exclusiveMaximum.type},message:"must be number,string",schema:D.properties.exclusiveMaximum.type,parentSchema:D.properties.exclusiveMaximum,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.maximum){let K=B.maximum;if("number"!=typeof K&&"string"!=typeof K){const te={instancePath:L+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:D.properties.maximum.type},message:"must be number,string",schema:D.properties.maximum.type,parentSchema:D.properties.maximum,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.const){let K=B.const;if("number"!=typeof K&&"string"!=typeof K){const te={instancePath:L+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:D.properties.const.type},message:"must be number,string",schema:D.properties.const.type,parentSchema:D.properties.const,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.enum){let K=B.enum;if(Array.isArray(K)){const te=K.length;for(let le=0;le<te;le++){let Fe=K[le];if("number"!=typeof Fe&&"string"!=typeof Fe){const J={instancePath:L+"/enum/"+le,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:D.properties.enum.items.type},message:"must be number,string",schema:D.properties.enum.items.type,parentSchema:D.properties.enum.items,data:Fe};null===j?j=[J]:j.push(J),ne++}}}else{const te={instancePath:L+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:D.properties.enum.type,parentSchema:D.properties.enum,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.not){let K=B.not;if(K&&"object"==typeof K&&!Array.isArray(K)){if(Object.keys(K).length<1){const te={instancePath:L+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:D.properties.not,data:K};null===j?j=[te]:j.push(te),ne++}}else{const te={instancePath:L+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:D.properties.not.type,parentSchema:D.properties.not,data:K};null===j?j=[te]:j.push(te),ne++}}}else{const K={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:D.type,parentSchema:D,data:B};null===j?j=[K]:j.push(K),ne++}return E.errors=j,0===ne}function N(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(!B||"object"!=typeof B||Array.isArray(B)){const Ie={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.type,parentSchema:v,data:B};null===j?j=[Ie]:j.push(Ie),ne++}const K=ne;let te=!1,le=null;const Fe=ne;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.path){const Ie={instancePath:L,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:v.oneOf[0].required,parentSchema:v.oneOf[0],data:B};null===j?j=[Ie]:j.push(Ie),ne++}for(const Ie in B)if("id"!==Ie&&"path"!==Ie&&"purpose"!==Ie&&"filter"!==Ie){const ae={instancePath:L,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ie},message:"must NOT have additional properties",schema:!1,parentSchema:v.oneOf[0],data:B};null===j?j=[ae]:j.push(ae),ne++}if(void 0!==B.id){let Ie=B.id;if("string"!=typeof Ie){const ae={instancePath:L+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.id.type,parentSchema:v.oneOf[0].properties.id,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.path){let Ie=B.path;if(Array.isArray(Ie)){const ae=Ie.length;for(let Ee=0;Ee<ae;Ee++){let I=Ie[Ee];if("string"!=typeof I){const $={instancePath:L+"/path/"+Ee,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.path.items.type,parentSchema:v.oneOf[0].properties.path.items,data:I};null===j?j=[$]:j.push($),ne++}}}else{const ae={instancePath:L+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.oneOf[0].properties.path.type,parentSchema:v.oneOf[0].properties.path,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.purpose){let Ie=B.purpose;if("string"!=typeof Ie){const ae={instancePath:L+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.purpose.type,parentSchema:v.oneOf[0].properties.purpose,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}void 0!==B.filter&&(E(B.filter,{instancePath:L+"/filter",parentData:B,parentDataProperty:"filter",rootData:oe})||(j=null===j?E.errors:j.concat(E.errors),ne=j.length))}Fe===ne&&(te=!0,le=0);const J=ne;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.path){const Ie={instancePath:L,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:v.oneOf[1].required,parentSchema:v.oneOf[1],data:B};null===j?j=[Ie]:j.push(Ie),ne++}if(void 0===B.filter){const Ie={instancePath:L,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:v.oneOf[1].required,parentSchema:v.oneOf[1],data:B};null===j?j=[Ie]:j.push(Ie),ne++}if(void 0===B.predicate){const Ie={instancePath:L,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:v.oneOf[1].required,parentSchema:v.oneOf[1],data:B};null===j?j=[Ie]:j.push(Ie),ne++}for(const Ie in B)if("id"!==Ie&&"path"!==Ie&&"purpose"!==Ie&&"filter"!==Ie&&"predicate"!==Ie){const ae={instancePath:L,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ie},message:"must NOT have additional properties",schema:!1,parentSchema:v.oneOf[1],data:B};null===j?j=[ae]:j.push(ae),ne++}if(void 0!==B.id){let Ie=B.id;if("string"!=typeof Ie){const ae={instancePath:L+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.id.type,parentSchema:v.oneOf[1].properties.id,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.path){let Ie=B.path;if(Array.isArray(Ie)){const ae=Ie.length;for(let Ee=0;Ee<ae;Ee++){let I=Ie[Ee];if("string"!=typeof I){const $={instancePath:L+"/path/"+Ee,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.path.items.type,parentSchema:v.oneOf[1].properties.path.items,data:I};null===j?j=[$]:j.push($),ne++}}}else{const ae={instancePath:L+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.oneOf[1].properties.path.type,parentSchema:v.oneOf[1].properties.path,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.purpose){let Ie=B.purpose;if("string"!=typeof Ie){const ae={instancePath:L+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.purpose.type,parentSchema:v.oneOf[1].properties.purpose,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}if(void 0!==B.filter&&(E(B.filter,{instancePath:L+"/filter",parentData:B,parentDataProperty:"filter",rootData:oe})||(j=null===j?E.errors:j.concat(E.errors),ne=j.length)),void 0!==B.predicate){let Ie=B.predicate;if("string"!=typeof Ie){const ae={instancePath:L+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.predicate.type,parentSchema:v.oneOf[1].properties.predicate,data:Ie};null===j?j=[ae]:j.push(ae),ne++}if("required"!==Ie&&"preferred"!==Ie){const ae={instancePath:L+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:v.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:v.oneOf[1].properties.predicate.enum,parentSchema:v.oneOf[1].properties.predicate,data:Ie};null===j?j=[ae]:j.push(ae),ne++}}}var de;if((de=J===ne)&&te?(te=!1,le=[le,1]):de&&(te=!0,le=1),te)ne=K,null!==j&&(K?j.length=K:j=null);else{const Ie={instancePath:L,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:le},message:"must match exactly one schema in oneOf",schema:v.oneOf,parentSchema:v,data:B};null===j?j=[Ie]:j.push(Ie),ne++}return N.errors=j,0===ne}function M(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0===B.id){const K={instancePath:L,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:w.required,parentSchema:w,data:B};null===j?j=[K]:j.push(K),ne++}if(void 0===B.schema){const K={instancePath:L,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:w.required,parentSchema:w,data:B};null===j?j=[K]:j.push(K),ne++}for(const K in B)if("id"!==K&&"name"!==K&&"purpose"!==K&&"group"!==K&&"schema"!==K&&"issuance"!==K&&"constraints"!==K){const te={instancePath:L,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties",schema:!1,parentSchema:w,data:B};null===j?j=[te]:j.push(te),ne++}if(void 0!==B.id){let K=B.id;if("string"!=typeof K){const te={instancePath:L+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.id.type,parentSchema:w.properties.id,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.name){let K=B.name;if("string"!=typeof K){const te={instancePath:L+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.name.type,parentSchema:w.properties.name,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.purpose){let K=B.purpose;if("string"!=typeof K){const te={instancePath:L+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.purpose.type,parentSchema:w.properties.purpose,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.group){let K=B.group;if(Array.isArray(K)){const te=K.length;for(let le=0;le<te;le++){let Fe=K[le];if("string"!=typeof Fe){const J={instancePath:L+"/group/"+le,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.group.items.type,parentSchema:w.properties.group.items,data:Fe};null===j?j=[J]:j.push(J),ne++}}}else{const te={instancePath:L+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.group.type,parentSchema:w.properties.group,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.schema){let K=B.schema;if(Array.isArray(K)){const te=K.length;for(let le=0;le<te;le++)h(K[le],{instancePath:L+"/schema/"+le,parentData:K,parentDataProperty:le,rootData:oe})||(j=null===j?h.errors:j.concat(h.errors),ne=j.length)}else{const te={instancePath:L+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.schema.type,parentSchema:w.properties.schema,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.issuance){let K=B.issuance;if(Array.isArray(K)){const te=K.length;for(let le=0;le<te;le++)g(K[le],{instancePath:L+"/issuance/"+le,parentData:K,parentDataProperty:le,rootData:oe})||(j=null===j?g.errors:j.concat(g.errors),ne=j.length)}else{const te={instancePath:L+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.issuance.type,parentSchema:w.properties.issuance,data:K};null===j?j=[te]:j.push(te),ne++}}if(void 0!==B.constraints){let K=B.constraints;if(K&&"object"==typeof K&&!Array.isArray(K)){for(const te in K)if("limit_disclosure"!==te&&"statuses"!==te&&"fields"!==te&&"subject_is_issuer"!==te&&"is_holder"!==te&&"same_subject"!==te){const le={instancePath:L+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:w.properties.constraints,data:K};null===j?j=[le]:j.push(le),ne++}if(void 0!==K.limit_disclosure){let te=K.limit_disclosure;if("string"!=typeof te){const le={instancePath:L+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.limit_disclosure.type,parentSchema:w.properties.constraints.properties.limit_disclosure,data:te};null===j?j=[le]:j.push(le),ne++}if("required"!==te&&"preferred"!==te){const le={instancePath:L+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.limit_disclosure.enum,parentSchema:w.properties.constraints.properties.limit_disclosure,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.statuses){let te=K.statuses;if(te&&"object"==typeof te&&!Array.isArray(te)){if(void 0!==te.active){let le=te.active;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.directive){let Fe=le.directive;if("string"!=typeof Fe){const J={instancePath:L+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:w.properties.constraints.properties.statuses.properties.active.properties.directive,data:Fe};null===j?j=[J]:j.push(J),ne++}if("required"!==Fe&&"allowed"!==Fe&&"disallowed"!==Fe){const J={instancePath:L+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:w.properties.constraints.properties.statuses.properties.active.properties.directive,data:Fe};null===j?j=[J]:j.push(J),ne++}}}else{const Fe={instancePath:L+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.properties.statuses.properties.active.type,parentSchema:w.properties.constraints.properties.statuses.properties.active,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}if(void 0!==te.suspended){let le=te.suspended;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.directive){let Fe=le.directive;if("string"!=typeof Fe){const J={instancePath:L+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:w.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:Fe};null===j?j=[J]:j.push(J),ne++}if("required"!==Fe&&"allowed"!==Fe&&"disallowed"!==Fe){const J={instancePath:L+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:w.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:Fe};null===j?j=[J]:j.push(J),ne++}}}else{const Fe={instancePath:L+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:w.properties.constraints.properties.statuses.properties.suspended,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}if(void 0!==te.revoked){let le=te.revoked;if(le&&"object"==typeof le&&!Array.isArray(le)){if(void 0!==le.directive){let Fe=le.directive;if("string"!=typeof Fe){const J={instancePath:L+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:w.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:Fe};null===j?j=[J]:j.push(J),ne++}if("required"!==Fe&&"allowed"!==Fe&&"disallowed"!==Fe){const J={instancePath:L+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:w.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:Fe};null===j?j=[J]:j.push(J),ne++}}}else{const Fe={instancePath:L+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:w.properties.constraints.properties.statuses.properties.revoked,data:le};null===j?j=[Fe]:j.push(Fe),ne++}}}else{const le={instancePath:L+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.properties.statuses.type,parentSchema:w.properties.constraints.properties.statuses,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.fields){let te=K.fields;if(Array.isArray(te)){const le=te.length;for(let Fe=0;Fe<le;Fe++)N(te[Fe],{instancePath:L+"/constraints/fields/"+Fe,parentData:te,parentDataProperty:Fe,rootData:oe})||(j=null===j?N.errors:j.concat(N.errors),ne=j.length)}else{const le={instancePath:L+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.constraints.properties.fields.type,parentSchema:w.properties.constraints.properties.fields,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.subject_is_issuer){let te=K.subject_is_issuer;if("string"!=typeof te){const le={instancePath:L+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.subject_is_issuer.type,parentSchema:w.properties.constraints.properties.subject_is_issuer,data:te};null===j?j=[le]:j.push(le),ne++}if("required"!==te&&"preferred"!==te){const le={instancePath:L+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.subject_is_issuer.enum,parentSchema:w.properties.constraints.properties.subject_is_issuer,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.is_holder){let te=K.is_holder;if(Array.isArray(te)){const le=te.length;for(let Fe=0;Fe<le;Fe++){let J=te[Fe];if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.field_id){const de={instancePath:L+"/constraints/is_holder/"+Fe,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:w.properties.constraints.properties.is_holder.items.required,parentSchema:w.properties.constraints.properties.is_holder.items,data:J};null===j?j=[de]:j.push(de),ne++}if(void 0===J.directive){const de={instancePath:L+"/constraints/is_holder/"+Fe,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:w.properties.constraints.properties.is_holder.items.required,parentSchema:w.properties.constraints.properties.is_holder.items,data:J};null===j?j=[de]:j.push(de),ne++}for(const de in J)if("field_id"!==de&&"directive"!==de){const Ie={instancePath:L+"/constraints/is_holder/"+Fe,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:de},message:"must NOT have additional properties",schema:!1,parentSchema:w.properties.constraints.properties.is_holder.items,data:J};null===j?j=[Ie]:j.push(Ie),ne++}if(void 0!==J.field_id){let de=J.field_id;if(Array.isArray(de)){const Ie=de.length;for(let ae=0;ae<Ie;ae++){let Ee=de[ae];if("string"!=typeof Ee){const I={instancePath:L+"/constraints/is_holder/"+Fe+"/field_id/"+ae,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:w.properties.constraints.properties.is_holder.items.properties.field_id.items,data:Ee};null===j?j=[I]:j.push(I),ne++}}}else{const Ie={instancePath:L+"/constraints/is_holder/"+Fe+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:w.properties.constraints.properties.is_holder.items.properties.field_id,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}if(void 0!==J.directive){let de=J.directive;if("string"!=typeof de){const Ie={instancePath:L+"/constraints/is_holder/"+Fe+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:w.properties.constraints.properties.is_holder.items.properties.directive,data:de};null===j?j=[Ie]:j.push(Ie),ne++}if("required"!==de&&"preferred"!==de){const Ie={instancePath:L+"/constraints/is_holder/"+Fe+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:w.properties.constraints.properties.is_holder.items.properties.directive,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}}else{const de={instancePath:L+"/constraints/is_holder/"+Fe,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.properties.is_holder.items.type,parentSchema:w.properties.constraints.properties.is_holder.items,data:J};null===j?j=[de]:j.push(de),ne++}}}else{const le={instancePath:L+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.constraints.properties.is_holder.type,parentSchema:w.properties.constraints.properties.is_holder,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.same_subject){let te=K.same_subject;if(Array.isArray(te)){const le=te.length;for(let Fe=0;Fe<le;Fe++){let J=te[Fe];if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.field_id){const de={instancePath:L+"/constraints/same_subject/"+Fe,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:w.properties.constraints.properties.same_subject.items.required,parentSchema:w.properties.constraints.properties.same_subject.items,data:J};null===j?j=[de]:j.push(de),ne++}if(void 0===J.directive){const de={instancePath:L+"/constraints/same_subject/"+Fe,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:w.properties.constraints.properties.same_subject.items.required,parentSchema:w.properties.constraints.properties.same_subject.items,data:J};null===j?j=[de]:j.push(de),ne++}for(const de in J)if("field_id"!==de&&"directive"!==de){const Ie={instancePath:L+"/constraints/same_subject/"+Fe,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:de},message:"must NOT have additional properties",schema:!1,parentSchema:w.properties.constraints.properties.same_subject.items,data:J};null===j?j=[Ie]:j.push(Ie),ne++}if(void 0!==J.field_id){let de=J.field_id;if(Array.isArray(de)){const Ie=de.length;for(let ae=0;ae<Ie;ae++){let Ee=de[ae];if("string"!=typeof Ee){const I={instancePath:L+"/constraints/same_subject/"+Fe+"/field_id/"+ae,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:w.properties.constraints.properties.same_subject.items.properties.field_id.items,data:Ee};null===j?j=[I]:j.push(I),ne++}}}else{const Ie={instancePath:L+"/constraints/same_subject/"+Fe+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:w.properties.constraints.properties.same_subject.items.properties.field_id,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}if(void 0!==J.directive){let de=J.directive;if("string"!=typeof de){const Ie={instancePath:L+"/constraints/same_subject/"+Fe+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:w.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:w.properties.constraints.properties.same_subject.items.properties.directive,data:de};null===j?j=[Ie]:j.push(Ie),ne++}if("required"!==de&&"preferred"!==de){const Ie={instancePath:L+"/constraints/same_subject/"+Fe+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:w.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:w.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:w.properties.constraints.properties.same_subject.items.properties.directive,data:de};null===j?j=[Ie]:j.push(Ie),ne++}}}else{const de={instancePath:L+"/constraints/same_subject/"+Fe,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.properties.same_subject.items.type,parentSchema:w.properties.constraints.properties.same_subject.items,data:J};null===j?j=[de]:j.push(de),ne++}}}else{const le={instancePath:L+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.properties.constraints.properties.same_subject.type,parentSchema:w.properties.constraints.properties.same_subject,data:te};null===j?j=[le]:j.push(le),ne++}}}else{const te={instancePath:L+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.properties.constraints.type,parentSchema:w.properties.constraints,data:K};null===j?j=[te]:j.push(te),ne++}}}else{const K={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:w.type,parentSchema:w,data:B};null===j?j=[K]:j.push(K),ne++}return M.errors=j,0===ne}function k(B,{instancePath:L="",rootData:oe=B}={}){let j=null,ne=0;if(B&&"object"==typeof B&&!Array.isArray(B)){if(void 0!==B.presentation_definition){let K=B.presentation_definition;if(K&&"object"==typeof K&&!Array.isArray(K)){if(void 0===K.id){const te={instancePath:L+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:A.properties.presentation_definition.required,parentSchema:A.properties.presentation_definition,data:K};null===j?j=[te]:j.push(te),ne++}if(void 0===K.input_descriptors){const te={instancePath:L+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:A.properties.presentation_definition.required,parentSchema:A.properties.presentation_definition,data:K};null===j?j=[te]:j.push(te),ne++}for(const te in K)if("id"!==te&&"name"!==te&&"purpose"!==te&&"format"!==te&&"submission_requirements"!==te&&"input_descriptors"!==te){const le={instancePath:L+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:te},message:"must NOT have additional properties",schema:!1,parentSchema:A.properties.presentation_definition,data:K};null===j?j=[le]:j.push(le),ne++}if(void 0!==K.id){let te=K.id;if("string"!=typeof te){const le={instancePath:L+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.presentation_definition.properties.id.type,parentSchema:A.properties.presentation_definition.properties.id,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.name){let te=K.name;if("string"!=typeof te){const le={instancePath:L+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.presentation_definition.properties.name.type,parentSchema:A.properties.presentation_definition.properties.name,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.purpose){let te=K.purpose;if("string"!=typeof te){const le={instancePath:L+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.properties.presentation_definition.properties.purpose.type,parentSchema:A.properties.presentation_definition.properties.purpose,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.format&&(P(K.format,{instancePath:L+"/presentation_definition/format",parentData:K,parentDataProperty:"format",rootData:oe})||(j=null===j?P.errors:j.concat(P.errors),ne=j.length)),void 0!==K.submission_requirements){let te=K.submission_requirements;if(Array.isArray(te)){const le=te.length;for(let Fe=0;Fe<le;Fe++)c(te[Fe],{instancePath:L+"/presentation_definition/submission_requirements/"+Fe,parentData:te,parentDataProperty:Fe,rootData:oe})||(j=null===j?c.errors:j.concat(c.errors),ne=j.length)}else{const le={instancePath:L+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.presentation_definition.properties.submission_requirements.type,parentSchema:A.properties.presentation_definition.properties.submission_requirements,data:te};null===j?j=[le]:j.push(le),ne++}}if(void 0!==K.input_descriptors){let te=K.input_descriptors;if(Array.isArray(te)){const le=te.length;for(let Fe=0;Fe<le;Fe++)M(te[Fe],{instancePath:L+"/presentation_definition/input_descriptors/"+Fe,parentData:te,parentDataProperty:Fe,rootData:oe})||(j=null===j?M.errors:j.concat(M.errors),ne=j.length)}else{const le={instancePath:L+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.properties.presentation_definition.properties.input_descriptors.type,parentSchema:A.properties.presentation_definition.properties.input_descriptors,data:te};null===j?j=[le]:j.push(le),ne++}}}else{const te={instancePath:L+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.properties.presentation_definition.type,parentSchema:A.properties.presentation_definition,data:K};null===j?j=[te]:j.push(te),ne++}}}else{const K={instancePath:L,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:B};null===j?j=[K]:j.push(K),ne++}return k.errors=j,0===ne}},3046:(Z,A,d)=>{"use strict";Z.exports=Fe,Z.exports.default=Fe;const b={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},S={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},R=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$","u"),O=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),P=new RegExp("^di_vc$|^di_vp$|^di$","u"),y=new RegExp("additionalProperties","u");function u(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(J&&"object"==typeof J&&!Array.isArray(J)){for(const q in J)if(!("vc+sd-jwt"===q||R.test(q)||O.test(q)||P.test(q)||y.test(q))){const G={instancePath:de,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties",schema:!1,parentSchema:S,data:J};null===I?I=[G]:I.push(G),$++}if(void 0!==J["vc+sd-jwt"]){let q=J["vc+sd-jwt"];if(q&&"object"==typeof q&&!Array.isArray(q)){for(const G in q)if("sd-jwt_alg_values"!==G&&"kb-jwt_alg_values"!==G){const re={instancePath:de+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties",schema:!1,parentSchema:S.properties["vc+sd-jwt"],data:q};null===I?I=[re]:I.push(re),$++}if(void 0!==q["sd-jwt_alg_values"]){let G=q["sd-jwt_alg_values"];if(Array.isArray(G)){if(G.length<1){const ye={instancePath:de+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:S.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:G};null===I?I=[ye]:I.push(ye),$++}const re=G.length;for(let ye=0;ye<re;ye++){let me=G[ye];if("string"!=typeof me){const Me={instancePath:de+"/vc+sd-jwt/sd-jwt_alg_values/"+ye,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:S.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:S.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:me};null===I?I=[Me]:I.push(Me),$++}}}else{const re={instancePath:de+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:S.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:S.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q["kb-jwt_alg_values"]){let G=q["kb-jwt_alg_values"];if(Array.isArray(G)){if(G.length<1){const ye={instancePath:de+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:S.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:G};null===I?I=[ye]:I.push(ye),$++}const re=G.length;for(let ye=0;ye<re;ye++){let me=G[ye];if("string"!=typeof me){const Me={instancePath:de+"/vc+sd-jwt/kb-jwt_alg_values/"+ye,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:S.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:S.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:me};null===I?I=[Me]:I.push(Me),$++}}}else{const re={instancePath:de+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:S.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:S.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:G};null===I?I=[re]:I.push(re),$++}}}else{const G={instancePath:de+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:S.properties["vc+sd-jwt"].type,parentSchema:S.properties["vc+sd-jwt"],data:q};null===I?I=[G]:I.push(G),$++}}for(const q in J)if(R.test(q)){let G=J[q];if(G&&"object"==typeof G&&!Array.isArray(G)){if(void 0===G.alg){const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].required,parentSchema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:G};null===I?I=[re]:I.push(re),$++}for(const re in G)if("alg"!==re){const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties",schema:!1,parentSchema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:G};null===I?I=[ye]:I.push(ye),$++}if(void 0!==G.alg){let re=G.alg;if(Array.isArray(re)){if(re.length<1){const me={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:re};null===I?I=[me]:I.push(me),$++}const ye=re.length;for(let me=0;me<ye;me++){let Me=re[me];if("string"!=typeof Me){const Se={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+me,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items.type,parentSchema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items,data:Me};null===I?I=[Se]:I.push(Se),$++}}}else{const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.type,parentSchema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:re};null===I?I=[ye]:I.push(ye),$++}}}else{const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].type,parentSchema:S.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:G};null===I?I=[re]:I.push(re),$++}}for(const q in J)if(O.test(q)){let G=J[q];if(G&&"object"==typeof G&&!Array.isArray(G)){if(void 0===G.proof_type){const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:G};null===I?I=[re]:I.push(re),$++}for(const re in G)if("proof_type"!==re){const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties",schema:!1,parentSchema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:G};null===I?I=[ye]:I.push(ye),$++}if(void 0!==G.proof_type){let re=G.proof_type;if(Array.isArray(re)){if(re.length<1){const me={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:re};null===I?I=[me]:I.push(me),$++}const ye=re.length;for(let me=0;me<ye;me++){let Me=re[me];if("string"!=typeof Me){const Se={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+me,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:Me};null===I?I=[Se]:I.push(Se),$++}}}else{const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:re};null===I?I=[ye]:I.push(ye),$++}}}else{const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:S.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:G};null===I?I=[re]:I.push(re),$++}}for(const q in J)if(P.test(q)){let G=J[q];if(G&&"object"==typeof G&&!Array.isArray(G)){if(void 0===G.proof_type){const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"],data:G};null===I?I=[re]:I.push(re),$++}if(void 0===G.cryptosuite){const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"],data:G};null===I?I=[re]:I.push(re),$++}for(const re in G)if("proof_type"!==re&&"cryptosuite"!==re){const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties",schema:!1,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"],data:G};null===I?I=[ye]:I.push(ye),$++}if(void 0!==G.proof_type){let re=G.proof_type;if(Array.isArray(re)){if(re.length<1){const me={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:re};null===I?I=[me]:I.push(me),$++}const ye=re.length;for(let me=0;me<ye;me++){let Me=re[me];if("string"!=typeof Me){const Se={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+me,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:Me};null===I?I=[Se]:I.push(Se),$++}}}else{const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:re};null===I?I=[ye]:I.push(ye),$++}}if(void 0!==G.cryptosuite){let re=G.cryptosuite;if(Array.isArray(re)){if(re.length<1){const me={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:re};null===I?I=[me]:I.push(me),$++}const ye=re.length;for(let me=0;me<ye;me++){let Me=re[me];if("string"!=typeof Me){const Se={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+me,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:Me};null===I?I=[Se]:I.push(Se),$++}}}else{const ye={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:re};null===I?I=[ye]:I.push(ye),$++}}}else{const re={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:S.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:S.patternProperties["^di_vc$|^di_vp$|^di$"],data:G};null===I?I=[re]:I.push(re),$++}}for(const q in J)if(y.test(q)){const G={instancePath:de+"/"+q.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:S.patternProperties.additionalProperties,data:J[q]};null===I?I=[G]:I.push(G),$++}}else{const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:S.type,parentSchema:S,data:J};null===I?I=[q]:I.push(q),$++}return u.errors=I,0===$}const c={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},w={validate:m};function m(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(!J||"object"!=typeof J||Array.isArray(J)){const Se={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:c.type,parentSchema:c,data:J};null===I?I=[Se]:I.push(Se),$++}const q=$;let G=!1,re=null;const ye=$;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.rule){const Se={instancePath:de,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:c.oneOf[0].required,parentSchema:c.oneOf[0],data:J};null===I?I=[Se]:I.push(Se),$++}if(void 0===J.from){const Se={instancePath:de,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:c.oneOf[0].required,parentSchema:c.oneOf[0],data:J};null===I?I=[Se]:I.push(Se),$++}for(const Se in J)if("name"!==Se&&"purpose"!==Se&&"rule"!==Se&&"count"!==Se&&"min"!==Se&&"max"!==Se&&"from"!==Se){const Ye={instancePath:de,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties",schema:!1,parentSchema:c.oneOf[0],data:J};null===I?I=[Ye]:I.push(Ye),$++}if(void 0!==J.name){let Se=J.name;if("string"!=typeof Se){const Ye={instancePath:de+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.name.type,parentSchema:c.oneOf[0].properties.name,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.purpose){let Se=J.purpose;if("string"!=typeof Se){const Ye={instancePath:de+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.purpose.type,parentSchema:c.oneOf[0].properties.purpose,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.rule){let Se=J.rule;if("string"!=typeof Se){const Ye={instancePath:de+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.rule.type,parentSchema:c.oneOf[0].properties.rule,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("all"!==Se&&"pick"!==Se){const Ye={instancePath:de+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:c.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:c.oneOf[0].properties.rule.enum,parentSchema:c.oneOf[0].properties.rule,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.count){let Se=J.count;if("number"!=typeof Se||Se%1||isNaN(Se)){const Ye={instancePath:de+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.count.type,parentSchema:c.oneOf[0].properties.count,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("number"==typeof Se&&(Se<1||isNaN(Se))){const Ye={instancePath:de+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:c.oneOf[0].properties.count,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.min){let Se=J.min;if("number"!=typeof Se||Se%1||isNaN(Se)){const Ye={instancePath:de+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.min.type,parentSchema:c.oneOf[0].properties.min,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("number"==typeof Se&&(Se<0||isNaN(Se))){const Ye={instancePath:de+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[0].properties.min,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.max){let Se=J.max;if("number"!=typeof Se||Se%1||isNaN(Se)){const Ye={instancePath:de+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.max.type,parentSchema:c.oneOf[0].properties.max,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("number"==typeof Se&&(Se<0||isNaN(Se))){const Ye={instancePath:de+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[0].properties.max,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.from){let Se=J.from;if("string"!=typeof Se){const Ye={instancePath:de+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.from.type,parentSchema:c.oneOf[0].properties.from,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}}ye===$&&(G=!0,re=0);const me=$;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.rule){const Se={instancePath:de,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:c.oneOf[1].required,parentSchema:c.oneOf[1],data:J};null===I?I=[Se]:I.push(Se),$++}if(void 0===J.from_nested){const Se={instancePath:de,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:c.oneOf[1].required,parentSchema:c.oneOf[1],data:J};null===I?I=[Se]:I.push(Se),$++}for(const Se in J)if("name"!==Se&&"purpose"!==Se&&"rule"!==Se&&"count"!==Se&&"min"!==Se&&"max"!==Se&&"from_nested"!==Se){const Ye={instancePath:de,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties",schema:!1,parentSchema:c.oneOf[1],data:J};null===I?I=[Ye]:I.push(Ye),$++}if(void 0!==J.name){let Se=J.name;if("string"!=typeof Se){const Ye={instancePath:de+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.name.type,parentSchema:c.oneOf[1].properties.name,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.purpose){let Se=J.purpose;if("string"!=typeof Se){const Ye={instancePath:de+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.purpose.type,parentSchema:c.oneOf[1].properties.purpose,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.rule){let Se=J.rule;if("string"!=typeof Se){const Ye={instancePath:de+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.rule.type,parentSchema:c.oneOf[1].properties.rule,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("all"!==Se&&"pick"!==Se){const Ye={instancePath:de+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:c.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:c.oneOf[1].properties.rule.enum,parentSchema:c.oneOf[1].properties.rule,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.count){let Se=J.count;if("number"!=typeof Se||Se%1||isNaN(Se)){const Ye={instancePath:de+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.count.type,parentSchema:c.oneOf[1].properties.count,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("number"==typeof Se&&(Se<1||isNaN(Se))){const Ye={instancePath:de+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:c.oneOf[1].properties.count,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.min){let Se=J.min;if("number"!=typeof Se||Se%1||isNaN(Se)){const Ye={instancePath:de+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.min.type,parentSchema:c.oneOf[1].properties.min,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("number"==typeof Se&&(Se<0||isNaN(Se))){const Ye={instancePath:de+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[1].properties.min,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.max){let Se=J.max;if("number"!=typeof Se||Se%1||isNaN(Se)){const Ye={instancePath:de+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.max.type,parentSchema:c.oneOf[1].properties.max,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("number"==typeof Se&&(Se<0||isNaN(Se))){const Ye={instancePath:de+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[1].properties.max,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.from_nested){let Se=J.from_nested;if(Array.isArray(Se)){if(Se.length<1){const gt={instancePath:de+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:c.oneOf[1].properties.from_nested,data:Se};null===I?I=[gt]:I.push(gt),$++}const Ye=Se.length;for(let gt=0;gt<Ye;gt++)w.validate(Se[gt],{instancePath:de+"/from_nested/"+gt,parentData:Se,parentDataProperty:gt,rootData:Ee})||(I=null===I?w.validate.errors:I.concat(w.validate.errors),$=I.length)}else{const Ye={instancePath:de+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:c.oneOf[1].properties.from_nested.type,parentSchema:c.oneOf[1].properties.from_nested,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}}var Me;if((Me=me===$)&&G?(G=!1,re=[re,1]):Me&&(G=!0,re=1),G)$=q,null!==I&&(q?I.length=q:I=null);else{const Se={instancePath:de,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf",schema:c.oneOf,parentSchema:c,data:J};null===I?I=[Se]:I.push(Se),$++}return m.errors=I,0===$}const h={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},_={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function g(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.manifest){let q=J.manifest;if("string"!=typeof q){const G={instancePath:de+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:_.properties.manifest.type,parentSchema:_.properties.manifest,data:q};null===I?I=[G]:I.push(G),$++}}}else{const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:_.type,parentSchema:_,data:J};null===I?I=[q]:I.push(q),$++}return g.errors=I,0===$}const v={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},D={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},T={type:"integer",minimum:0};function E(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if("number"!=typeof J||J%1||isNaN(J)){const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:T.type,parentSchema:T,data:J};null===I?I=[q]:I.push(q),$++}if("number"==typeof J&&(J<0||isNaN(J))){const q={instancePath:de,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:T,data:J};null===I?I=[q]:I.push(q),$++}return E.errors=I,0===$}function M(J,{instancePath:de="",parentData:Ie,parentDataProperty:ae,rootData:Ee=J}={}){let I=null,$=0;return E(J,{instancePath:de,parentData:Ie,parentDataProperty:ae,rootData:Ee})||(I=null===I?E.errors:I.concat(E.errors),$=I.length),M.errors=I,0===$}const k={type:"array",minItems:1,items:{$ref:"#"}},B={validate:K};function L(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(Array.isArray(J)){if(J.length<1){const G={instancePath:de,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:k,data:J};null===I?I=[G]:I.push(G),$++}const q=J.length;for(let G=0;G<q;G++)B.validate(J[G],{instancePath:de+"/"+G,parentData:J,parentDataProperty:G,rootData:Ee})||(I=null===I?B.validate.errors:I.concat(B.validate.errors),$=I.length)}else{const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:k.type,parentSchema:k,data:J};null===I?I=[q]:I.push(q),$++}return L.errors=I,0===$}const z={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function Q(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(Array.isArray(J)){const q=J.length;for(let ye=0;ye<q;ye++){let me=J[ye];if("string"!=typeof me){const Me={instancePath:de+"/"+ye,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:z.items.type,parentSchema:z.items,data:me};null===I?I=[Me]:I.push(Me),$++}}let re,G=J.length;if(G>1){const ye={};for(;G--;){let me=J[G];if("string"==typeof me){if("number"==typeof ye[me]){re=ye[me];const Me={instancePath:de,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:G,j:re},message:"must NOT have duplicate items (items ## "+re+" and "+G+" are identical)",schema:!0,parentSchema:z,data:J};null===I?I=[Me]:I.push(Me),$++;break}ye[me]=G}}}}else{const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:z.type,parentSchema:z,data:J};null===I?I=[q]:I.push(q),$++}return Q.errors=I,0===$}const oe={enum:["array","boolean","integer","null","number","object","string"]};function j(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if("array"!==J&&"boolean"!==J&&"integer"!==J&&"null"!==J&&"number"!==J&&"object"!==J&&"string"!==J){const q={instancePath:de,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:oe.enum},message:"must be equal to one of the allowed values",schema:oe.enum,parentSchema:oe,data:J};null===I?I=[q]:I.push(q),$++}return j.errors=I,0===$}const ne=d(4195).default;function K(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if((!J||"object"!=typeof J||Array.isArray(J))&&"boolean"!=typeof J){const me={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:D.type},message:"must be object,boolean",schema:D.type,parentSchema:D,data:J};null===I?I=[me]:I.push(me),$++}if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.$id){let me=J.$id;if("string"!=typeof me){const Me={instancePath:de+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.$id.type,parentSchema:D.properties.$id,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.$schema){let me=J.$schema;if("string"!=typeof me){const Me={instancePath:de+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.$schema.type,parentSchema:D.properties.$schema,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.$ref){let me=J.$ref;if("string"!=typeof me){const Me={instancePath:de+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.$ref.type,parentSchema:D.properties.$ref,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.$comment){let me=J.$comment;if("string"!=typeof me){const Me={instancePath:de+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.$comment.type,parentSchema:D.properties.$comment,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.title){let me=J.title;if("string"!=typeof me){const Me={instancePath:de+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.title.type,parentSchema:D.properties.title,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.description){let me=J.description;if("string"!=typeof me){const Me={instancePath:de+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.description.type,parentSchema:D.properties.description,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.readOnly){let me=J.readOnly;if("boolean"!=typeof me){const Me={instancePath:de+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:D.properties.readOnly.type,parentSchema:D.properties.readOnly,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.examples){let me=J.examples;if(!Array.isArray(me)){const Me={instancePath:de+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:D.properties.examples.type,parentSchema:D.properties.examples,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.multipleOf){let me=J.multipleOf;if("number"==typeof me){if(me<=0||isNaN(me)){const Me={instancePath:de+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:D.properties.multipleOf,data:me};null===I?I=[Me]:I.push(Me),$++}}else{const Me={instancePath:de+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:D.properties.multipleOf.type,parentSchema:D.properties.multipleOf,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.maximum){let me=J.maximum;if("number"!=typeof me){const Me={instancePath:de+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:D.properties.maximum.type,parentSchema:D.properties.maximum,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.exclusiveMaximum){let me=J.exclusiveMaximum;if("number"!=typeof me){const Me={instancePath:de+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:D.properties.exclusiveMaximum.type,parentSchema:D.properties.exclusiveMaximum,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.minimum){let me=J.minimum;if("number"!=typeof me){const Me={instancePath:de+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:D.properties.minimum.type,parentSchema:D.properties.minimum,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.exclusiveMinimum){let me=J.exclusiveMinimum;if("number"!=typeof me){const Me={instancePath:de+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:D.properties.exclusiveMinimum.type,parentSchema:D.properties.exclusiveMinimum,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.maxLength&&(E(J.maxLength,{instancePath:de+"/maxLength",parentData:J,parentDataProperty:"maxLength",rootData:Ee})||(I=null===I?E.errors:I.concat(E.errors),$=I.length)),void 0!==J.minLength&&(M(J.minLength,{instancePath:de+"/minLength",parentData:J,parentDataProperty:"minLength",rootData:Ee})||(I=null===I?M.errors:I.concat(M.errors),$=I.length)),void 0!==J.pattern){let me=J.pattern;if("string"!=typeof me){const Me={instancePath:de+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.pattern.type,parentSchema:D.properties.pattern,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.additionalItems&&(K(J.additionalItems,{instancePath:de+"/additionalItems",parentData:J,parentDataProperty:"additionalItems",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.items){let me=J.items;const Me=$;let Se=!1;const Ye=$;K(me,{instancePath:de+"/items",parentData:J,parentDataProperty:"items",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length);var q=Ye===$;if(Se=Se||q,!Se){const gt=$;L(me,{instancePath:de+"/items",parentData:J,parentDataProperty:"items",rootData:Ee})||(I=null===I?L.errors:I.concat(L.errors),$=I.length),q=gt===$,Se=Se||q}if(Se)$=Me,null!==I&&(Me?I.length=Me:I=null);else{const gt={instancePath:de+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:D.properties.items.anyOf,parentSchema:D.properties.items,data:me};null===I?I=[gt]:I.push(gt),$++}}if(void 0!==J.maxItems&&(E(J.maxItems,{instancePath:de+"/maxItems",parentData:J,parentDataProperty:"maxItems",rootData:Ee})||(I=null===I?E.errors:I.concat(E.errors),$=I.length)),void 0!==J.minItems&&(M(J.minItems,{instancePath:de+"/minItems",parentData:J,parentDataProperty:"minItems",rootData:Ee})||(I=null===I?M.errors:I.concat(M.errors),$=I.length)),void 0!==J.uniqueItems){let me=J.uniqueItems;if("boolean"!=typeof me){const Me={instancePath:de+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:D.properties.uniqueItems.type,parentSchema:D.properties.uniqueItems,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.contains&&(K(J.contains,{instancePath:de+"/contains",parentData:J,parentDataProperty:"contains",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.maxProperties&&(E(J.maxProperties,{instancePath:de+"/maxProperties",parentData:J,parentDataProperty:"maxProperties",rootData:Ee})||(I=null===I?E.errors:I.concat(E.errors),$=I.length)),void 0!==J.minProperties&&(M(J.minProperties,{instancePath:de+"/minProperties",parentData:J,parentDataProperty:"minProperties",rootData:Ee})||(I=null===I?M.errors:I.concat(M.errors),$=I.length)),void 0!==J.required&&(Q(J.required,{instancePath:de+"/required",parentData:J,parentDataProperty:"required",rootData:Ee})||(I=null===I?Q.errors:I.concat(Q.errors),$=I.length)),void 0!==J.additionalProperties&&(K(J.additionalProperties,{instancePath:de+"/additionalProperties",parentData:J,parentDataProperty:"additionalProperties",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.definitions){let me=J.definitions;if(me&&"object"==typeof me&&!Array.isArray(me))for(const Me in me)K(me[Me],{instancePath:de+"/definitions/"+Me.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:me,parentDataProperty:Me,rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length);else{const Me={instancePath:de+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:D.properties.definitions.type,parentSchema:D.properties.definitions,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.properties){let me=J.properties;if(me&&"object"==typeof me&&!Array.isArray(me))for(const Me in me)K(me[Me],{instancePath:de+"/properties/"+Me.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:me,parentDataProperty:Me,rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length);else{const Me={instancePath:de+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:D.properties.properties.type,parentSchema:D.properties.properties,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.patternProperties){let me=J.patternProperties;if(me&&"object"==typeof me&&!Array.isArray(me)){for(const Me in me)if($!=$){const Ye={instancePath:de+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:Me},message:"property name must be valid",schema:D.properties.patternProperties.propertyNames,parentSchema:D.properties.patternProperties,data:me};null===I?I=[Ye]:I.push(Ye),$++}for(const Me in me)K(me[Me],{instancePath:de+"/patternProperties/"+Me.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:me,parentDataProperty:Me,rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)}else{const Me={instancePath:de+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:D.properties.patternProperties.type,parentSchema:D.properties.patternProperties,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.dependencies){let me=J.dependencies;if(me&&"object"==typeof me&&!Array.isArray(me))for(const Me in me){let Se=me[Me];const Ye=$;let gt=!1;const Ke=$;K(Se,{instancePath:de+"/dependencies/"+Me.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:me,parentDataProperty:Me,rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length);var re=Ke===$;if(gt=gt||re,!gt){const Ge=$;Q(Se,{instancePath:de+"/dependencies/"+Me.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:me,parentDataProperty:Me,rootData:Ee})||(I=null===I?Q.errors:I.concat(Q.errors),$=I.length),re=Ge===$,gt=gt||re}if(gt)$=Ye,null!==I&&(Ye?I.length=Ye:I=null);else{const Ge={instancePath:de+"/dependencies/"+Me.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:D.properties.dependencies.additionalProperties.anyOf,parentSchema:D.properties.dependencies.additionalProperties,data:Se};null===I?I=[Ge]:I.push(Ge),$++}}else{const Me={instancePath:de+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:D.properties.dependencies.type,parentSchema:D.properties.dependencies,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.propertyNames&&(K(J.propertyNames,{instancePath:de+"/propertyNames",parentData:J,parentDataProperty:"propertyNames",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.enum){let me=J.enum;if(Array.isArray(me)){if(me.length<1){const Ye={instancePath:de+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:D.properties.enum,data:me};null===I?I=[Ye]:I.push(Ye),$++}let Se,Me=me.length;if(Me>1)e:for(;Me--;)for(Se=Me;Se--;)if(ne(me[Me],me[Se])){const Ye={instancePath:de+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:Me,j:Se},message:"must NOT have duplicate items (items ## "+Se+" and "+Me+" are identical)",schema:!0,parentSchema:D.properties.enum,data:me};null===I?I=[Ye]:I.push(Ye),$++;break e}}else{const Me={instancePath:de+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:D.properties.enum.type,parentSchema:D.properties.enum,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.type){let me=J.type;const Me=$;let Se=!1;const Ye=$;j(me,{instancePath:de+"/type",parentData:J,parentDataProperty:"type",rootData:Ee})||(I=null===I?j.errors:I.concat(j.errors),$=I.length);var ye=Ye===$;if(Se=Se||ye,!Se){const gt=$;if(Array.isArray(me)){if(me.length<1){const se={instancePath:de+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:D.properties.type.anyOf[1],data:me};null===I?I=[se]:I.push(se),$++}const Ge=me.length;for(let se=0;se<Ge;se++)j(me[se],{instancePath:de+"/type/"+se,parentData:me,parentDataProperty:se,rootData:Ee})||(I=null===I?j.errors:I.concat(j.errors),$=I.length);let je,Ae=me.length;if(Ae>1)e:for(;Ae--;)for(je=Ae;je--;)if(ne(me[Ae],me[je])){const se={instancePath:de+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:Ae,j:je},message:"must NOT have duplicate items (items ## "+je+" and "+Ae+" are identical)",schema:!0,parentSchema:D.properties.type.anyOf[1],data:me};null===I?I=[se]:I.push(se),$++;break e}}else{const Ge={instancePath:de+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:D.properties.type.anyOf[1].type,parentSchema:D.properties.type.anyOf[1],data:me};null===I?I=[Ge]:I.push(Ge),$++}ye=gt===$,Se=Se||ye}if(Se)$=Me,null!==I&&(Me?I.length=Me:I=null);else{const gt={instancePath:de+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:D.properties.type.anyOf,parentSchema:D.properties.type,data:me};null===I?I=[gt]:I.push(gt),$++}}if(void 0!==J.format){let me=J.format;if("string"!=typeof me){const Me={instancePath:de+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.format.type,parentSchema:D.properties.format,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.contentMediaType){let me=J.contentMediaType;if("string"!=typeof me){const Me={instancePath:de+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.contentMediaType.type,parentSchema:D.properties.contentMediaType,data:me};null===I?I=[Me]:I.push(Me),$++}}if(void 0!==J.contentEncoding){let me=J.contentEncoding;if("string"!=typeof me){const Me={instancePath:de+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:D.properties.contentEncoding.type,parentSchema:D.properties.contentEncoding,data:me};null===I?I=[Me]:I.push(Me),$++}}void 0!==J.if&&(K(J.if,{instancePath:de+"/if",parentData:J,parentDataProperty:"if",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.then&&(K(J.then,{instancePath:de+"/then",parentData:J,parentDataProperty:"then",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.else&&(K(J.else,{instancePath:de+"/else",parentData:J,parentDataProperty:"else",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.allOf&&(L(J.allOf,{instancePath:de+"/allOf",parentData:J,parentDataProperty:"allOf",rootData:Ee})||(I=null===I?L.errors:I.concat(L.errors),$=I.length)),void 0!==J.anyOf&&(L(J.anyOf,{instancePath:de+"/anyOf",parentData:J,parentDataProperty:"anyOf",rootData:Ee})||(I=null===I?L.errors:I.concat(L.errors),$=I.length)),void 0!==J.oneOf&&(L(J.oneOf,{instancePath:de+"/oneOf",parentData:J,parentDataProperty:"oneOf",rootData:Ee})||(I=null===I?L.errors:I.concat(L.errors),$=I.length)),void 0!==J.not&&(K(J.not,{instancePath:de+"/not",parentData:J,parentDataProperty:"not",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length))}return K.errors=I,0===$}function te(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(!J||"object"!=typeof J||Array.isArray(J)){const Se={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.type,parentSchema:v,data:J};null===I?I=[Se]:I.push(Se),$++}const q=$;let G=!1,re=null;const ye=$;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.path){const Se={instancePath:de,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:v.oneOf[0].required,parentSchema:v.oneOf[0],data:J};null===I?I=[Se]:I.push(Se),$++}for(const Se in J)if("id"!==Se&&"path"!==Se&&"purpose"!==Se&&"intent_to_retain"!==Se&&"filter"!==Se&&"name"!==Se){const Ye={instancePath:de,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties",schema:!1,parentSchema:v.oneOf[0],data:J};null===I?I=[Ye]:I.push(Ye),$++}if(void 0!==J.id){let Se=J.id;if("string"!=typeof Se){const Ye={instancePath:de+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.id.type,parentSchema:v.oneOf[0].properties.id,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.path){let Se=J.path;if(Array.isArray(Se)){const Ye=Se.length;for(let gt=0;gt<Ye;gt++){let Ke=Se[gt];if("string"!=typeof Ke){const Ge={instancePath:de+"/path/"+gt,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.path.items.type,parentSchema:v.oneOf[0].properties.path.items,data:Ke};null===I?I=[Ge]:I.push(Ge),$++}}}else{const Ye={instancePath:de+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.oneOf[0].properties.path.type,parentSchema:v.oneOf[0].properties.path,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.purpose){let Se=J.purpose;if("string"!=typeof Se){const Ye={instancePath:de+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.purpose.type,parentSchema:v.oneOf[0].properties.purpose,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.intent_to_retain){let Se=J.intent_to_retain;if("boolean"!=typeof Se){const Ye={instancePath:de+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:v.oneOf[0].properties.intent_to_retain.type,parentSchema:v.oneOf[0].properties.intent_to_retain,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.filter&&(K(J.filter,{instancePath:de+"/filter",parentData:J,parentDataProperty:"filter",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.name){let Se=J.name;if("string"!=typeof Se){const Ye={instancePath:de+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[0].properties.name.type,parentSchema:v.oneOf[0].properties.name,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}}ye===$&&(G=!0,re=0);const me=$;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.path){const Se={instancePath:de,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:v.oneOf[1].required,parentSchema:v.oneOf[1],data:J};null===I?I=[Se]:I.push(Se),$++}if(void 0===J.filter){const Se={instancePath:de,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:v.oneOf[1].required,parentSchema:v.oneOf[1],data:J};null===I?I=[Se]:I.push(Se),$++}if(void 0===J.predicate){const Se={instancePath:de,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:v.oneOf[1].required,parentSchema:v.oneOf[1],data:J};null===I?I=[Se]:I.push(Se),$++}for(const Se in J)if("id"!==Se&&"path"!==Se&&"purpose"!==Se&&"intent_to_retain"!==Se&&"filter"!==Se&&"predicate"!==Se&&"name"!==Se){const Ye={instancePath:de,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Se},message:"must NOT have additional properties",schema:!1,parentSchema:v.oneOf[1],data:J};null===I?I=[Ye]:I.push(Ye),$++}if(void 0!==J.id){let Se=J.id;if("string"!=typeof Se){const Ye={instancePath:de+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.id.type,parentSchema:v.oneOf[1].properties.id,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.path){let Se=J.path;if(Array.isArray(Se)){const Ye=Se.length;for(let gt=0;gt<Ye;gt++){let Ke=Se[gt];if("string"!=typeof Ke){const Ge={instancePath:de+"/path/"+gt,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.path.items.type,parentSchema:v.oneOf[1].properties.path.items,data:Ke};null===I?I=[Ge]:I.push(Ge),$++}}}else{const Ye={instancePath:de+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.oneOf[1].properties.path.type,parentSchema:v.oneOf[1].properties.path,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.purpose){let Se=J.purpose;if("string"!=typeof Se){const Ye={instancePath:de+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.purpose.type,parentSchema:v.oneOf[1].properties.purpose,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.intent_to_retain){let Se=J.intent_to_retain;if("boolean"!=typeof Se){const Ye={instancePath:de+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:v.oneOf[1].properties.intent_to_retain.type,parentSchema:v.oneOf[1].properties.intent_to_retain,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.filter&&(K(J.filter,{instancePath:de+"/filter",parentData:J,parentDataProperty:"filter",rootData:Ee})||(I=null===I?K.errors:I.concat(K.errors),$=I.length)),void 0!==J.predicate){let Se=J.predicate;if("string"!=typeof Se){const Ye={instancePath:de+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.predicate.type,parentSchema:v.oneOf[1].properties.predicate,data:Se};null===I?I=[Ye]:I.push(Ye),$++}if("required"!==Se&&"preferred"!==Se){const Ye={instancePath:de+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:v.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:v.oneOf[1].properties.predicate.enum,parentSchema:v.oneOf[1].properties.predicate,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}if(void 0!==J.name){let Se=J.name;if("string"!=typeof Se){const Ye={instancePath:de+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.oneOf[1].properties.name.type,parentSchema:v.oneOf[1].properties.name,data:Se};null===I?I=[Ye]:I.push(Ye),$++}}}var Me;if((Me=me===$)&&G?(G=!1,re=[re,1]):Me&&(G=!0,re=1),G)$=q,null!==I&&(q?I.length=q:I=null);else{const Se={instancePath:de,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf",schema:v.oneOf,parentSchema:v,data:J};null===I?I=[Se]:I.push(Se),$++}return te.errors=I,0===$}function le(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0===J.id){const q={instancePath:de,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:h.required,parentSchema:h,data:J};null===I?I=[q]:I.push(q),$++}for(const q in J)if("id"!==q&&"name"!==q&&"purpose"!==q&&"issuance"!==q&&"group"!==q&&"format"!==q&&"constraints"!==q){const G={instancePath:de,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:q},message:"must NOT have additional properties",schema:!1,parentSchema:h,data:J};null===I?I=[G]:I.push(G),$++}if(void 0!==J.id){let q=J.id;if("string"!=typeof q){const G={instancePath:de+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.id.type,parentSchema:h.properties.id,data:q};null===I?I=[G]:I.push(G),$++}}if(void 0!==J.name){let q=J.name;if("string"!=typeof q){const G={instancePath:de+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.name.type,parentSchema:h.properties.name,data:q};null===I?I=[G]:I.push(G),$++}}if(void 0!==J.purpose){let q=J.purpose;if("string"!=typeof q){const G={instancePath:de+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.purpose.type,parentSchema:h.properties.purpose,data:q};null===I?I=[G]:I.push(G),$++}}if(void 0!==J.issuance){let q=J.issuance;if(Array.isArray(q)){const G=q.length;for(let re=0;re<G;re++)g(q[re],{instancePath:de+"/issuance/"+re,parentData:q,parentDataProperty:re,rootData:Ee})||(I=null===I?g.errors:I.concat(g.errors),$=I.length)}else{const G={instancePath:de+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.issuance.type,parentSchema:h.properties.issuance,data:q};null===I?I=[G]:I.push(G),$++}}if(void 0!==J.group){let q=J.group;if(Array.isArray(q)){const G=q.length;for(let re=0;re<G;re++){let ye=q[re];if("string"!=typeof ye){const me={instancePath:de+"/group/"+re,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.group.items.type,parentSchema:h.properties.group.items,data:ye};null===I?I=[me]:I.push(me),$++}}}else{const G={instancePath:de+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.group.type,parentSchema:h.properties.group,data:q};null===I?I=[G]:I.push(G),$++}}if(void 0!==J.format&&(u(J.format,{instancePath:de+"/format",parentData:J,parentDataProperty:"format",rootData:Ee})||(I=null===I?u.errors:I.concat(u.errors),$=I.length)),void 0!==J.constraints){let q=J.constraints;if(q&&"object"==typeof q&&!Array.isArray(q)){for(const G in q)if("limit_disclosure"!==G&&"statuses"!==G&&"fields"!==G&&"subject_is_issuer"!==G&&"is_holder"!==G&&"same_subject"!==G){const re={instancePath:de+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.constraints,data:q};null===I?I=[re]:I.push(re),$++}if(void 0!==q.limit_disclosure){let G=q.limit_disclosure;if("string"!=typeof G){const re={instancePath:de+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.limit_disclosure.type,parentSchema:h.properties.constraints.properties.limit_disclosure,data:G};null===I?I=[re]:I.push(re),$++}if("required"!==G&&"preferred"!==G){const re={instancePath:de+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.limit_disclosure.enum,parentSchema:h.properties.constraints.properties.limit_disclosure,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.statuses){let G=q.statuses;if(G&&"object"==typeof G&&!Array.isArray(G)){if(void 0!==G.active){let re=G.active;if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0!==re.directive){let ye=re.directive;if("string"!=typeof ye){const me={instancePath:de+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:h.properties.constraints.properties.statuses.properties.active.properties.directive,data:ye};null===I?I=[me]:I.push(me),$++}if("required"!==ye&&"allowed"!==ye&&"disallowed"!==ye){const me={instancePath:de+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:h.properties.constraints.properties.statuses.properties.active.properties.directive,data:ye};null===I?I=[me]:I.push(me),$++}}}else{const ye={instancePath:de+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.properties.active.type,parentSchema:h.properties.constraints.properties.statuses.properties.active,data:re};null===I?I=[ye]:I.push(ye),$++}}if(void 0!==G.suspended){let re=G.suspended;if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0!==re.directive){let ye=re.directive;if("string"!=typeof ye){const me={instancePath:de+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ye};null===I?I=[me]:I.push(me),$++}if("required"!==ye&&"allowed"!==ye&&"disallowed"!==ye){const me={instancePath:de+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ye};null===I?I=[me]:I.push(me),$++}}}else{const ye={instancePath:de+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:h.properties.constraints.properties.statuses.properties.suspended,data:re};null===I?I=[ye]:I.push(ye),$++}}if(void 0!==G.revoked){let re=G.revoked;if(re&&"object"==typeof re&&!Array.isArray(re)){if(void 0!==re.directive){let ye=re.directive;if("string"!=typeof ye){const me={instancePath:de+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ye};null===I?I=[me]:I.push(me),$++}if("required"!==ye&&"allowed"!==ye&&"disallowed"!==ye){const me={instancePath:de+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ye};null===I?I=[me]:I.push(me),$++}}}else{const ye={instancePath:de+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:h.properties.constraints.properties.statuses.properties.revoked,data:re};null===I?I=[ye]:I.push(ye),$++}}}else{const re={instancePath:de+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.type,parentSchema:h.properties.constraints.properties.statuses,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.fields){let G=q.fields;if(Array.isArray(G)){const re=G.length;for(let ye=0;ye<re;ye++)te(G[ye],{instancePath:de+"/constraints/fields/"+ye,parentData:G,parentDataProperty:ye,rootData:Ee})||(I=null===I?te.errors:I.concat(te.errors),$=I.length)}else{const re={instancePath:de+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.fields.type,parentSchema:h.properties.constraints.properties.fields,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.subject_is_issuer){let G=q.subject_is_issuer;if("string"!=typeof G){const re={instancePath:de+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.subject_is_issuer.type,parentSchema:h.properties.constraints.properties.subject_is_issuer,data:G};null===I?I=[re]:I.push(re),$++}if("required"!==G&&"preferred"!==G){const re={instancePath:de+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.subject_is_issuer.enum,parentSchema:h.properties.constraints.properties.subject_is_issuer,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.is_holder){let G=q.is_holder;if(Array.isArray(G)){const re=G.length;for(let ye=0;ye<re;ye++){let me=G[ye];if(me&&"object"==typeof me&&!Array.isArray(me)){if(void 0===me.field_id){const Me={instancePath:de+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:h.properties.constraints.properties.is_holder.items.required,parentSchema:h.properties.constraints.properties.is_holder.items,data:me};null===I?I=[Me]:I.push(Me),$++}if(void 0===me.directive){const Me={instancePath:de+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:h.properties.constraints.properties.is_holder.items.required,parentSchema:h.properties.constraints.properties.is_holder.items,data:me};null===I?I=[Me]:I.push(Me),$++}for(const Me in me)if("field_id"!==Me&&"directive"!==Me){const Se={instancePath:de+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Me},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.constraints.properties.is_holder.items,data:me};null===I?I=[Se]:I.push(Se),$++}if(void 0!==me.field_id){let Me=me.field_id;if(Array.isArray(Me)){const Se=Me.length;for(let Ye=0;Ye<Se;Ye++){let gt=Me[Ye];if("string"!=typeof gt){const Ke={instancePath:de+"/constraints/is_holder/"+ye+"/field_id/"+Ye,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:h.properties.constraints.properties.is_holder.items.properties.field_id.items,data:gt};null===I?I=[Ke]:I.push(Ke),$++}}}else{const Se={instancePath:de+"/constraints/is_holder/"+ye+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:h.properties.constraints.properties.is_holder.items.properties.field_id,data:Me};null===I?I=[Se]:I.push(Se),$++}}if(void 0!==me.directive){let Me=me.directive;if("string"!=typeof Me){const Se={instancePath:de+"/constraints/is_holder/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:h.properties.constraints.properties.is_holder.items.properties.directive,data:Me};null===I?I=[Se]:I.push(Se),$++}if("required"!==Me&&"preferred"!==Me){const Se={instancePath:de+"/constraints/is_holder/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:h.properties.constraints.properties.is_holder.items.properties.directive,data:Me};null===I?I=[Se]:I.push(Se),$++}}}else{const Me={instancePath:de+"/constraints/is_holder/"+ye,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.is_holder.items.type,parentSchema:h.properties.constraints.properties.is_holder.items,data:me};null===I?I=[Me]:I.push(Me),$++}}}else{const re={instancePath:de+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.is_holder.type,parentSchema:h.properties.constraints.properties.is_holder,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.same_subject){let G=q.same_subject;if(Array.isArray(G)){const re=G.length;for(let ye=0;ye<re;ye++){let me=G[ye];if(me&&"object"==typeof me&&!Array.isArray(me)){if(void 0===me.field_id){const Me={instancePath:de+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:h.properties.constraints.properties.same_subject.items.required,parentSchema:h.properties.constraints.properties.same_subject.items,data:me};null===I?I=[Me]:I.push(Me),$++}if(void 0===me.directive){const Me={instancePath:de+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:h.properties.constraints.properties.same_subject.items.required,parentSchema:h.properties.constraints.properties.same_subject.items,data:me};null===I?I=[Me]:I.push(Me),$++}for(const Me in me)if("field_id"!==Me&&"directive"!==Me){const Se={instancePath:de+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Me},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.constraints.properties.same_subject.items,data:me};null===I?I=[Se]:I.push(Se),$++}if(void 0!==me.field_id){let Me=me.field_id;if(Array.isArray(Me)){const Se=Me.length;for(let Ye=0;Ye<Se;Ye++){let gt=Me[Ye];if("string"!=typeof gt){const Ke={instancePath:de+"/constraints/same_subject/"+ye+"/field_id/"+Ye,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:h.properties.constraints.properties.same_subject.items.properties.field_id.items,data:gt};null===I?I=[Ke]:I.push(Ke),$++}}}else{const Se={instancePath:de+"/constraints/same_subject/"+ye+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:h.properties.constraints.properties.same_subject.items.properties.field_id,data:Me};null===I?I=[Se]:I.push(Se),$++}}if(void 0!==me.directive){let Me=me.directive;if("string"!=typeof Me){const Se={instancePath:de+"/constraints/same_subject/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:h.properties.constraints.properties.same_subject.items.properties.directive,data:Me};null===I?I=[Se]:I.push(Se),$++}if("required"!==Me&&"preferred"!==Me){const Se={instancePath:de+"/constraints/same_subject/"+ye+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:h.properties.constraints.properties.same_subject.items.properties.directive,data:Me};null===I?I=[Se]:I.push(Se),$++}}}else{const Me={instancePath:de+"/constraints/same_subject/"+ye,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.same_subject.items.type,parentSchema:h.properties.constraints.properties.same_subject.items,data:me};null===I?I=[Me]:I.push(Me),$++}}}else{const re={instancePath:de+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.same_subject.type,parentSchema:h.properties.constraints.properties.same_subject,data:G};null===I?I=[re]:I.push(re),$++}}}else{const G={instancePath:de+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.type,parentSchema:h.properties.constraints,data:q};null===I?I=[G]:I.push(G),$++}}}else{const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.type,parentSchema:h,data:J};null===I?I=[q]:I.push(q),$++}return le.errors=I,0===$}function Fe(J,{instancePath:de="",rootData:Ee=J}={}){let I=null,$=0;if(J&&"object"==typeof J&&!Array.isArray(J)){if(void 0!==J.presentation_definition){let q=J.presentation_definition;if(q&&"object"==typeof q&&!Array.isArray(q)){if(void 0===q.id){const G={instancePath:de+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:b.properties.presentation_definition.required,parentSchema:b.properties.presentation_definition,data:q};null===I?I=[G]:I.push(G),$++}if(void 0===q.input_descriptors){const G={instancePath:de+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:b.properties.presentation_definition.required,parentSchema:b.properties.presentation_definition,data:q};null===I?I=[G]:I.push(G),$++}for(const G in q)if("id"!==G&&"name"!==G&&"purpose"!==G&&"format"!==G&&"frame"!==G&&"submission_requirements"!==G&&"input_descriptors"!==G){const re={instancePath:de+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:G},message:"must NOT have additional properties",schema:!1,parentSchema:b.properties.presentation_definition,data:q};null===I?I=[re]:I.push(re),$++}if(void 0!==q.id){let G=q.id;if("string"!=typeof G){const re={instancePath:de+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.properties.presentation_definition.properties.id.type,parentSchema:b.properties.presentation_definition.properties.id,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.name){let G=q.name;if("string"!=typeof G){const re={instancePath:de+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.properties.presentation_definition.properties.name.type,parentSchema:b.properties.presentation_definition.properties.name,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.purpose){let G=q.purpose;if("string"!=typeof G){const re={instancePath:de+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:b.properties.presentation_definition.properties.purpose.type,parentSchema:b.properties.presentation_definition.properties.purpose,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.format&&(u(q.format,{instancePath:de+"/presentation_definition/format",parentData:q,parentDataProperty:"format",rootData:Ee})||(I=null===I?u.errors:I.concat(u.errors),$=I.length)),void 0!==q.frame){let G=q.frame;if(!G||"object"!=typeof G||Array.isArray(G)){const re={instancePath:de+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:b.properties.presentation_definition.properties.frame.type,parentSchema:b.properties.presentation_definition.properties.frame,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.submission_requirements){let G=q.submission_requirements;if(Array.isArray(G)){const re=G.length;for(let ye=0;ye<re;ye++)m(G[ye],{instancePath:de+"/presentation_definition/submission_requirements/"+ye,parentData:G,parentDataProperty:ye,rootData:Ee})||(I=null===I?m.errors:I.concat(m.errors),$=I.length)}else{const re={instancePath:de+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:b.properties.presentation_definition.properties.submission_requirements.type,parentSchema:b.properties.presentation_definition.properties.submission_requirements,data:G};null===I?I=[re]:I.push(re),$++}}if(void 0!==q.input_descriptors){let G=q.input_descriptors;if(Array.isArray(G)){const re=G.length;for(let ye=0;ye<re;ye++)le(G[ye],{instancePath:de+"/presentation_definition/input_descriptors/"+ye,parentData:G,parentDataProperty:ye,rootData:Ee})||(I=null===I?le.errors:I.concat(le.errors),$=I.length)}else{const re={instancePath:de+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:b.properties.presentation_definition.properties.input_descriptors.type,parentSchema:b.properties.presentation_definition.properties.input_descriptors,data:G};null===I?I=[re]:I.push(re),$++}}}else{const G={instancePath:de+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:b.properties.presentation_definition.type,parentSchema:b.properties.presentation_definition,data:q};null===I?I=[G]:I.push(G),$++}}}else{const q={instancePath:de,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:b.type,parentSchema:b,data:J};null===I?I=[q]:I.push(q),$++}return Fe.errors=I,0===$}},3993:(Z,A)=>{"use strict";function d(Q,oe){return{validate:Q,compare:oe}}Object.defineProperty(A,"__esModule",{value:!0}),A.formatNames=A.fastFormats=A.fullFormats=void 0,A.fullFormats={date:d(O,P),time:d(u,c),"date-time":d(function m(Q){const oe=Q.split(w);return 2===oe.length&&O(oe[0])&&u(oe[1],!0)},h),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function v(Q){return _.test(Q)&&g.test(Q)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function z(Q){if(L.test(Q))return!1;try{return new RegExp(Q),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function T(Q){return D.lastIndex=0,D.test(Q)},int32:{type:"number",validate:function M(Q){return Number.isInteger(Q)&&Q<=N&&Q>=E}},int64:{type:"number",validate:function k(Q){return Number.isInteger(Q)}},float:{type:"number",validate:B},double:{type:"number",validate:B},password:!0,binary:!0},A.fastFormats={...A.fullFormats,date:d(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,P),time:d(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":d(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},A.formatNames=Object.keys(A.fullFormats);const S=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,R=[0,31,28,31,30,31,30,31,31,30,31,30,31];function O(Q){const oe=S.exec(Q);if(!oe)return!1;const ne=+oe[2],K=+oe[3];return ne>=1&&ne<=12&&K>=1&&K<=(2===ne&&function b(Q){return Q%4==0&&(Q%100!=0||Q%400==0)}(+oe[1])?29:R[ne])}function P(Q,oe){if(Q&&oe)return Q>oe?1:Q<oe?-1:0}const y=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(Q,oe){const j=y.exec(Q);if(!j)return!1;const ne=+j[1],K=+j[2],te=+j[3];return(ne<=23&&K<=59&&te<=59||23===ne&&59===K&&60===te)&&(!oe||""!==j[5])}function c(Q,oe){if(!Q||!oe)return;const j=y.exec(Q),ne=y.exec(oe);return j&&ne?(Q=j[1]+j[2]+j[3]+(j[4]||""))>(oe=ne[1]+ne[2]+ne[3]+(ne[4]||""))?1:Q<oe?-1:0:void 0}const w=/t|\s/i;function h(Q,oe){if(!Q||!oe)return;const[j,ne]=Q.split(w),[K,te]=oe.split(w),le=P(j,K);return void 0!==le?le||c(ne,te):void 0}const _=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,D=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,E=-(2**31),N=2**31-1;function B(){return!0}const L=/[^\\]\\Z/},1953:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(3993),S=d(122),R=d(5432),O=new R.Name("fullFormats"),P=new R.Name("fastFormats"),y=(c,w={keywords:!0})=>{if(Array.isArray(w))return u(c,w,b.fullFormats,O),c;const[m,h]="fast"===w.mode?[b.fastFormats,P]:[b.fullFormats,O];return u(c,w.formats||b.formatNames,m,h),w.keywords&&S.default(c),c};function u(c,w,m,h){var _,g;null!==(_=(g=c.opts.code).formats)&&void 0!==_||(g.formats=R._`require("ajv-formats/dist/formats").${h}`);for(const v of w)c.addFormat(v,m[v])}y.get=(c,w="full")=>{const h=("fast"===w?b.fastFormats:b.fullFormats)[c];if(!h)throw new Error(`Unknown format "${c}"`);return h},Z.exports=A=y,Object.defineProperty(A,"__esModule",{value:!0}),A.default=y},122:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.formatLimitDefinition=void 0;const b=d(9208),S=d(5432),R=S.operators,O={formatMaximum:{okStr:"<=",ok:R.LTE,fail:R.GT},formatMinimum:{okStr:">=",ok:R.GTE,fail:R.LT},formatExclusiveMaximum:{okStr:"<",ok:R.LT,fail:R.GTE},formatExclusiveMinimum:{okStr:">",ok:R.GT,fail:R.LTE}},P={message:({keyword:u,schemaCode:c})=>S.str`should be ${O[u].okStr} ${c}`,params:({keyword:u,schemaCode:c})=>S._`{comparison: ${O[u].okStr}, limit: ${c}}`};A.formatLimitDefinition={keyword:Object.keys(O),type:"string",schemaType:"string",$data:!0,error:P,code(u){const{gen:c,data:w,schemaCode:m,keyword:h,it:_}=u,{opts:g,self:v}=_;if(!g.validateFormats)return;const D=new b.KeywordCxt(_,v.RULES.all.format.definition,"format");function N(M){return S._`${M}.compare(${w}, ${m}) ${O[h].fail} 0`}D.$data?function T(){const M=c.scopeValue("formats",{ref:v.formats,code:g.code.formats}),k=c.const("fmt",S._`${M}[${D.schemaCode}]`);u.fail$data(S.or(S._`typeof ${k} != "object"`,S._`${k} instanceof RegExp`,S._`typeof ${k}.compare != "function"`,N(k)))}():function E(){const M=D.schema,k=v.formats[M];if(!k||!0===k)return;if("object"!=typeof k||k instanceof RegExp||"function"!=typeof k.compare)throw new Error(`"${h}": format "${M}" does not define "compare" function`);const B=c.scopeValue("formats",{key:M,ref:k,code:g.code.formats?S._`${g.code.formats}${S.getProperty(M)}`:void 0});u.fail$data(N(B))}()},dependencies:["format"]},A.default=u=>(u.addKeyword(A.formatLimitDefinition),u)},1151:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(6533),A),S(d(9433),A),S(d(4065),A)},1236:function(Z,A,d){"use strict";var b=this&&this.__rest||function(u,c){var w={};for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&c.indexOf(m)<0&&(w[m]=u[m]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(m=Object.getOwnPropertySymbols(u);h<m.length;h++)c.indexOf(m[h])<0&&Object.prototype.propertyIsEnumerable.call(u,m[h])&&(w[m[h]]=u[m[h]])}return w},S=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(A,"__esModule",{value:!0}),A.CredentialMapper=void 0;const R=S(d(8350)),O=d(6533),P=d(9433);class y{static decodeSdJwtVcAsync(c,w){return(0,O.decodeSdJwtVcAsync)(c,w)}static decodeVerifiablePresentation(c,w){var m;if(y.isJwtEncoded(c)){const h=(0,R.default)(c),_=(0,R.default)(c,{header:!0});return h.vp.proof={type:O.IProofType.JwtProof2020,created:h.nbf,proofPurpose:O.IProofPurpose.authentication,verificationMethod:null!==(m=_.kid)&&void 0!==m?m:h.iss,jwt:c},h}if(y.isJwtDecodedPresentation(c))return c;if(y.isSdJwtEncoded(c)){if(!w)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,O.decodeSdJwtVc)(c,w)}return y.isSdJwtDecodedCredential(c)?c:y.isJsonLdAsString(c)?JSON.parse(c):c}static decodeVerifiableCredential(c,w){var m;if(y.isJwtEncoded(c)){const h=(0,R.default)(c),_=(0,R.default)(c,{header:!0});return h.vc.proof={type:O.IProofType.JwtProof2020,created:h.nbf,proofPurpose:O.IProofPurpose.authentication,verificationMethod:null!==(m=_.kid)&&void 0!==m?m:h.iss,jwt:c},h}if(y.isJwtDecodedCredential(c))return c;if(y.isJsonLdAsString(c))return JSON.parse(c);if(y.isSdJwtEncoded(c)){if(!w)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,O.decodeSdJwtVc)(c,w)}return y.isSdJwtDecodedCredential(c),c}static toWrappedVerifiablePresentation(c,w){if(y.isSdJwtDecodedCredential(c)||y.isSdJwtEncoded(c)){let k;if(y.isSdJwtEncoded(c)){if(!w?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");k=(0,O.decodeSdJwtVc)(c,w.hasher)}else k=c;return{type:y.isSdJwtDecodedCredential(c)?O.OriginalType.SD_JWT_VC_DECODED:O.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:c,presentation:k,decoded:k.decodedPayload,vcs:[y.toWrappedVerifiableCredential(c,w)]}}const m=y.getFirstProof(c),h="string"!=typeof c&&y.hasJWTProofType(c)?m?.jwt:c;if(!h)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const _=y.decodeVerifiablePresentation(h),g=y.isJwtEncoded(h),v=y.isJwtDecodedPresentation(h),D=g?O.OriginalType.JWT_ENCODED:v?O.OriginalType.JWT_DECODED:O.OriginalType.JSONLD,T=v||g?"jwt_vp":"ldp_vp";let E;if(E=g||v?y.jwtDecodedPresentationToUniformPresentation(_,!1,w):_,!E||!("verifiableCredential"in E)||!E.verifiableCredential||0===E.verifiableCredential.length)throw Error("VP needs to have at least one verifiable credential at this point");const N=y.toWrappedVerifiableCredentials(E.verifiableCredential,w);return{type:D,format:T,original:h,decoded:_,presentation:Object.assign(Object.assign({},E),{verifiableCredential:N}),vcs:N}}static toWrappedVerifiableCredentials(c,w){return c.map(m=>y.toWrappedVerifiableCredential(m,w))}static toWrappedVerifiableCredential(c,w){var m;if(y.isSdJwtDecodedCredential(c)||y.isSdJwtEncoded(c)){let M;if(y.isSdJwtEncoded(c)){if(!w?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");M=(0,O.decodeSdJwtVc)(c,w.hasher)}else M=c;return{type:y.isSdJwtDecodedCredential(c)?O.OriginalType.SD_JWT_VC_DECODED:O.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:c,credential:M,decoded:M.decodedPayload}}const h=y.getFirstProof(c),_=y.hasJWTProofType(c)&&h&&null!==(m=h.jwt)&&void 0!==m?m:c;if(!_)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const g=y.decodeVerifiableCredential(_),v=y.isJwtEncoded(_),D=y.isJwtDecodedCredential(_);return{original:_,decoded:g,format:v||D?"jwt_vc":"ldp_vc",type:v?O.OriginalType.JWT_ENCODED:D?O.OriginalType.JWT_DECODED:O.OriginalType.JSONLD,credential:v||D?y.jwtDecodedCredentialToUniformCredential(g,w):g}}static isJwtEncoded(c){return P.ObjectUtils.isString(c)&&c.startsWith("ey")&&!c.includes("~")}static isSdJwtEncoded(c){return P.ObjectUtils.isString(c)&&c.startsWith("ey")&&c.includes("~")}static isW3cCredential(c){var w;return"@context"in c&&((null===(w=c.type)||void 0===w?void 0:w.includes("VerifiableCredential"))||!1)}static isCredential(c){try{if(y.isJwtEncoded(c)){const w=y.toUniformCredential(c);return y.isW3cCredential(w)}return!!y.isSdJwtEncoded(c)||y.isW3cCredential(c)||y.isSdJwtDecodedCredentialPayload(c)||y.isJwtDecodedCredential(c)||y.isSdJwtDecodedCredential(c)}catch{return!1}}static isPresentation(c){try{if(y.isJwtEncoded(c)){const w=y.toUniformPresentation(c);return y.isW3cPresentation(w)}return!y.isSdJwtEncoded(c)&&(y.isW3cPresentation(c)||y.isSdJwtDecodedCredentialPayload(c)||y.isJwtDecodedPresentation(c)||y.isSdJwtDecodedCredential(c))}catch{return!1}}static hasProof(c){try{return!!(y.isJwtEncoded(c)||y.isJwtDecodedCredential(c)||y.isSdJwtEncoded(c)||y.isSdJwtDecodedCredential(c)||"vc"in c&&c.vc.proof||"vp"in c&&c.vp.proof)||!!c.proof}catch{return!1}}static isW3cPresentation(c){var w;return"@context"in c&&((null===(w=c.type)||void 0===w?void 0:w.includes("VerifiablePresentation"))||!1)}static isSdJwtDecodedCredentialPayload(c){return"vct"in c}static areOriginalVerifiableCredentialsEqual(c,w){return"string"==typeof c||"string"==typeof w?c===w:y.isSdJwtDecodedCredential(c)||y.isSdJwtDecodedCredential(w)?c.compactSdJwtVc===w.compactSdJwtVc:JSON.stringify(w.proof)===JSON.stringify(c.proof)}static isJsonLdAsString(c){return P.ObjectUtils.isString(c)&&c.includes("@context")}static isSdJwtDecodedCredential(c){return void 0!==c.compactSdJwtVc}static isJwtDecodedCredential(c){return void 0!==c.vc&&void 0!==c.iss}static isJwtDecodedPresentation(c){return void 0!==c.vp&&void 0!==c.iss}static jwtEncodedPresentationToUniformPresentation(c,w=!0,m){return y.jwtDecodedPresentationToUniformPresentation((0,R.default)(c),w,m)}static jwtDecodedPresentationToUniformPresentation(c,w=!0,m){const{iss:h,aud:_,jti:g,vp:v}=c,D=b(c,["iss","aud","jti","vp"]),T=Object.assign(Object.assign({},D),v);if(w){if(!v.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");T.verifiableCredential=v.verifiableCredential.map(E=>y.toUniformCredential(E,m))}if(h){const E=T.holder;if(E&&E!==h)throw new Error(`Inconsistent holders between JWT claim (${h}) and VC value (${E})`);T.holder=h}if(_){const E=T.verifier;if(E&&E!==_)throw new Error(`Inconsistent holders between JWT claim (${_}) and VC value (${E})`);T.verifier=_}if(g){const E=T.id;if(E&&E!==g)throw new Error(`Inconsistent VP ids between JWT claim (${g}) and VP value (${E})`);T.id=g}return T}static toUniformCredential(c,w){var m;if(y.isSdJwtDecodedCredential(c))throw new Error("Converting SD-JWT VC to uniform VC is not supported.");const h="string"!=typeof c&&y.hasJWTProofType(c)?null===(m=y.getFirstProof(c))||void 0===m?void 0:m.jwt:c;if(!h)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const _=y.decodeVerifiableCredential(h),g=y.isJwtEncoded(h);return y.isJwtDecodedCredential(h)||g?y.jwtDecodedCredentialToUniformCredential(_,w):_}static toUniformPresentation(c,w){var m;if(y.isSdJwtDecodedCredential(c))throw new Error("Converting SD-JWT VC to uniform VP is not supported.");const h=y.getFirstProof(c),_="string"!=typeof c&&y.hasJWTProofType(c)?h?.jwt:c;if(!_)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const g=y.decodeVerifiablePresentation(_),v=y.isJwtEncoded(_),D=y.isJwtDecodedPresentation(_),T=v||D?y.jwtDecodedPresentationToUniformPresentation(g,!1):g;return w?.addContextIfMissing&&!T["@context"]&&(T["@context"]=["https://www.w3.org/2018/credentials/v1"]),T.verifiableCredential=null===(m=T.verifiableCredential)||void 0===m?void 0:m.map(E=>y.toUniformCredential(E,w)),T}static jwtEncodedCredentialToUniformCredential(c,w){return y.jwtDecodedCredentialToUniformCredential((0,R.default)(c),w)}static jwtDecodedCredentialToUniformCredential(c,w){var m;const{exp:h,nbf:_,iss:g,vc:v,sub:D,jti:T}=c,E=b(c,["exp","nbf","iss","vc","sub","jti"]),N=Object.assign(Object.assign({},E),v),M=null!==(m=w?.maxTimeSkewInMS)&&void 0!==m?m:1500;if(h){const k=N.expirationDate,B=parseInt(h.toString()),L=B<9999999999?new Date(1e3*B).toISOString().replace(/\.000Z/,"Z"):new Date(B).toISOString();if(k&&k!==L){const z=Math.abs(new Date(L).getTime()-new Date(k).getTime());if(!M||z>M)throw new Error(`Inconsistent expiration dates between JWT claim (${L}) and VC value (${k})`)}N.expirationDate=L}if(_){const k=N.issuanceDate,B=parseInt(_.toString()),L=B<9999999999?new Date(1e3*B).toISOString().replace(/\.000Z/,"Z"):new Date(B).toISOString();if(k&&k!==L){const z=Math.abs(new Date(L).getTime()-new Date(k).getTime());if(!M||z>M)throw new Error(`Inconsistent issuance dates between JWT claim (${L}) and VC value (${k})`)}N.issuanceDate=L}if(g){const k=N.issuer;if(k){if("string"==typeof k){if(k!==g)throw new Error(`Inconsistent issuers between JWT claim (${g}) and VC value (${k})`)}else if(!k.id&&Object.keys(k).length>0&&(k.id=g),k.id!==g)throw new Error(`Inconsistent issuers between JWT claim (${g}) and VC value (${k.id})`)}else N.issuer=g}if(D){const k=Array.isArray(N.credentialSubject)?N.credentialSubject:[N.credentialSubject];for(let B=0;B<k.length;B++){const L=k[B].id;if(L&&L!==D)throw new Error(`Inconsistent credential subject ids between JWT claim (${D}) and VC value (${L})`);Array.isArray(N.credentialSubject)?N.credentialSubject[B].id=D:N.credentialSubject.id=D}}if(T){const k=N.id;if(k&&k!==T)throw new Error(`Inconsistent credential ids between JWT claim (${T}) and VC value (${k})`);N.id=T}return N}static toExternalVerifiableCredential(c){let w;if(c.proof){if(!c.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!c.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!c.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!c.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");w=Object.assign(Object.assign({},c.proof),{type:c.proof.type,created:c.proof.created,proofPurpose:c.proof.proofPurpose,verificationMethod:c.proof.verificationMethod})}return Object.assign(Object.assign({},c),{type:c.type?"string"==typeof c.type?[c.type]:c.type:["VerifiableCredential"],proof:w})}static storedCredentialToOriginalFormat(c){const w=y.detectDocumentType(c);if("string"==typeof c){if(0===w)return y.toCompactJWT(c);if(1===w)return JSON.parse(c)}else{if(0===w&&"vc"in c)return y.toCompactJWT(c);if("proof"in c&&"JwtProof2020"===c.proof.type&&c.proof.jwt)return c.proof.jwt}return c}static storedPresentationToOriginalFormat(c){const w=y.detectDocumentType(c);if("string"==typeof c){if(0===w)return y.toCompactJWT(c);if(1===w)return JSON.parse(c)}else{if(0===w&&"vp"in c)return y.toCompactJWT(c);if("proof"in c&&"JwtProof2020"===c.proof.type&&c.proof.jwt)return c.proof.jwt}return c}static toCompactJWT(c){if(!c||0!==y.detectDocumentType(c))throw Error("Cannot convert non JWT credential to JWT");if("string"==typeof c)return c;let w;if(w="vp"in c?"jwt"in c.vp.proof?c.vp.proof.jwt:c.vp.proof:"vc"in c?"jwt"in c.vc.proof?c.vc.proof.jwt:c.vc.proof:Array.isArray(c.proof)?c.proof[0].jwt:c.proof.jwt,!w)throw Error("Could not get JWT from supplied document");return w}static detectDocumentType(c){if(this.isJsonLdAsString(c))return 1;if(this.isJwtEncoded(c))return 0;if(this.isSdJwtEncoded(c)||this.isSdJwtDecodedCredential(c))return 2;const w="vc"in c?c.vc.proof:"vp"in c?c.vp.proof:c.proof,m=Array.isArray(w)?w[0]:w;return m?.jwt?0:"EthereumEip712Signature2021"===m?.type?3:1}static hasJWTProofType(c){var w;return"string"!=typeof c&&!(null===(w=y.getFirstProof(c))||void 0===w||!w.jwt)}static getFirstProof(c){if(!c||"string"==typeof c)return;const w="vc"in c?c.vc.proof:"vp"in c?c.vp.proof:c.proof;return Array.isArray(w)?w[0]:w}}A.CredentialMapper=y,y.isWrappedSdJwtVerifiableCredential=O.isWrappedSdJwtVerifiableCredential,y.isWrappedSdJwtVerifiablePresentation=O.isWrappedSdJwtVerifiablePresentation,y.isWrappedW3CVerifiableCredential=O.isWrappedW3CVerifiableCredential,y.isWrappedW3CVerifiablePresentation=O.isWrappedW3CVerifiablePresentation},4065:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(1236),A),S(d(1561),A)},1561:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.mapLanguageValues=A.mapLanguageValue=A.toLanguageValueObjects=A.toLanguageValueObject=A.isLanguageValueObjects=A.isLanguageValueObject=void 0;const b=d(9433);A.isLanguageValueObject=c=>!(!c||!b.ObjectUtils.isObject(c)||Array.isArray(c)||2!==Object.keys(c).length||!("language"in c)||!c.language||!("value"in c)||!c.value),A.isLanguageValueObjects=c=>!(!c||!Array.isArray(c))&&c.every(w=>(0,A.isLanguageValueObject)(w)),A.toLanguageValueObject=c=>(0,A.isLanguageValueObject)(c)?c:void 0,A.toLanguageValueObjects=c=>(0,A.isLanguageValueObject)(c)?b.ObjectUtils.asArray((0,A.toLanguageValueObject)(c)):(0,A.isLanguageValueObjects)(c)?c:void 0,A.mapLanguageValue=(c,w)=>{const m=(0,A.toLanguageValueObjects)(c);if(Array.isArray(m)){if(0===m.length)return c;const h=m.filter(g=>!w?.language||g.language.toLowerCase().includes(w.language.toLowerCase()));let _;if(h.length>0)_=h[0];else{if(!1===w?.fallbackToFirstObject)return c;_=m[0]}return _.value}return c},A.mapLanguageValues=(c,w)=>{const m=w?.noDeepClone?c:JSON.parse(JSON.stringify(c));return Object.keys(c).forEach(h=>{m[h]=(0,A.mapLanguageValue)(m[h],w),(b.ObjectUtils.isObject(m[h])||Array.isArray(m[h]))&&(m[h]=(0,A.mapLanguageValues)(m[h],Object.assign(Object.assign({},w),{noDeepClone:!0})))}),m}},528:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.parseDid=A.IProofType=A.IProofPurpose=void 0;var d=function(O){return O.verificationMethod="verificationMethod",O.assertionMethod="assertionMethod",O.authentication="authentication",O.keyAgreement="keyAgreement",O.contractAgreement="contactAgreement",O.capabilityInvocation="capabilityInvocation",O.capabilityDelegation="capabilityDelegation",O}(d||(A.IProofPurpose=d={})),b=function(O){return O.Ed25519Signature2018="Ed25519Signature2018",O.Ed25519Signature2020="Ed25519Signature2020",O.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",O.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",O.JsonWebSignature2020="JsonWebSignature2020",O.RsaSignature2018="RsaSignature2018",O.GpgSignature2020="GpgSignature2020",O.JcsEd25519Signature2020="JcsEd25519Signature2020",O.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",O.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",O.JwtProof2020="JwtProof2020",O}(b||(A.IProofType=b={}));A.parseDid=O=>{const P=R(O);if(null===P)throw new Error("invalid did");return P};const R=O=>{const y="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",w="[a-zA-Z0-9_.:%-]",D=new RegExp(`^did:([a-z0-9]+):((?:${y}*:)*(${y}+))((;${w}+=${w}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);if(""===O||!O)return null;const T=O.match(D);if(T){const E={did:`did:${T[1]}:${T[2]}`,method:T[1],id:T[2],didUrl:O};if(T[4]){const N=T[4].slice(1).split(";");E.params={};for(const M of N){const k=M.split("=");E.params[k[0]]=k[1]}}return T[6]&&(E.path=T[6]),T[7]&&(E.query=T[7].slice(1)),T[8]&&(E.fragment=T[8].slice(1)),E}return null}},5940:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},6533:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(528),A),S(d(988),A),S(d(9922),A),S(d(5940),A),S(d(6548),A),S(d(6996),A)},988:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0})},6548:function(Z,A,d){"use strict";var b=this&&this.__awaiter||function(u,c,w,m){return new(w||(w=Promise))(function(_,g){function v(E){try{T(m.next(E))}catch(N){g(N)}}function D(E){try{T(m.throw(E))}catch(N){g(N)}}function T(E){E.done?_(E.value):function h(_){return _ instanceof w?_:new w(function(g){g(_)})}(E.value).then(v,D)}T((m=m.apply(u,c||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0}),A.decodeSdJwtVcAsync=A.decodeSdJwtVc=A.isWrappedSdJwtVerifiablePresentation=A.isWrappedSdJwtVerifiableCredential=void 0;const S=d(5315);A.isWrappedSdJwtVerifiableCredential=function R(u){return"vc+sd-jwt"===u.format},A.isWrappedSdJwtVerifiablePresentation=function O(u){return"vc+sd-jwt"===u.format},A.decodeSdJwtVc=function P(u,c){const{jwt:w,disclosures:m}=(0,S.decodeSdJwtSync)(u,c),h=w.payload;return{compactSdJwtVc:u,decodedPayload:(0,S.getClaimsSync)(h,m,c),disclosures:m.map(g=>{const v=g.key?[g.salt,g.key,g.value]:[g.salt,g.value];if(!g._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:v,digest:g._digest,encoded:g.encode()}}),signedPayload:h}},A.decodeSdJwtVcAsync=function y(u,c){return b(this,void 0,void 0,function*(){const{jwt:w,disclosures:m}=yield(0,S.decodeSdJwt)(u,c),h=w.payload,_=yield(0,S.getClaims)(h,m,c);return{compactSdJwtVc:u,decodedPayload:_,disclosures:m.map(g=>{const v=g.key?[g.salt,g.key,g.value]:[g.salt,g.value];if(!g._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:v,digest:g._digest,encoded:g.encode()}}),signedPayload:h}})}},9922:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.DocumentFormat=A.OriginalType=void 0;var d=function(S){return S.JSONLD="json-ld",S.JWT_ENCODED="jwt-encoded",S.JWT_DECODED="jwt-decoded",S.SD_JWT_VC_ENCODED="sd-jwt-vc-encoded",S.SD_JWT_VC_DECODED="sd-jwt-vc-decoded",S}(d||(A.OriginalType=d={})),b=function(S){return S[S.JWT=0]="JWT",S[S.JSONLD=1]="JSONLD",S[S.SD_JWT_VC=2]="SD_JWT_VC",S[S.EIP712=3]="EIP712",S}(b||(A.DocumentFormat=b={}))},6996:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.isWrappedW3CVerifiablePresentation=A.isWrappedW3CVerifiableCredential=A.StatusListDriverType=A.StatusListCredentialIdMode=A.StatusListType=A.JWT_PROOF_TYPE_2020=void 0,A.JWT_PROOF_TYPE_2020="JwtProof2020";var d=function(P){return P.StatusList2021="StatusList2021",P}(d||(A.StatusListType=d={})),b=function(P){return P.ISSUANCE="ISSUANCE",P.PERSISTENCE="PERSISTENCE",P.NEVER="NEVER",P}(b||(A.StatusListCredentialIdMode=b={})),S=function(P){return P.AGENT_TYPEORM="agent_typeorm",P.AGENT_KV_STORE="agent_kv_store",P.GITHUB="github",P.AGENT_FILESYSTEM="agent_filesystem",P}(S||(A.StatusListDriverType=S={}));A.isWrappedW3CVerifiableCredential=function R(P){return"jwt_vc"===P.format||"ldp_vc"===P.format},A.isWrappedW3CVerifiablePresentation=function O(P){return"jwt_vp"===P.format||"ldp_vp"===P.format}},9433:function(Z,A,d){"use strict";var b=this&&this.__createBinding||(Object.create?function(R,O,P,y){void 0===y&&(y=P);var u=Object.getOwnPropertyDescriptor(O,P);(!u||("get"in u?!O.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return O[P]}}),Object.defineProperty(R,y,u)}:function(R,O,P,y){void 0===y&&(y=P),R[y]=O[P]}),S=this&&this.__exportStar||function(R,O){for(var P in R)"default"!==P&&!Object.prototype.hasOwnProperty.call(O,P)&&b(O,R,P)};Object.defineProperty(A,"__esModule",{value:!0}),S(d(4418),A)},4418:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ObjectUtils=void 0;class d{static asArray(S){return Array.isArray(S)?S:[S]}static isObject(S){return"object"==typeof S||"[object Object]"===Object.prototype.toString.call(S)}static isUrlAbsolute(S){d.isString(S)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(S)}static isString(S){return"string"==typeof S||"[object String]"===Object.prototype.toString.call(S)}}A.ObjectUtils=d},9565:(Z,A,d)=>{"use strict";const b=d(3981),S=d(2020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=u,A.SlowBuffer=function N(F){return+F!=F&&(F=0),u.alloc(+F)},A.INSPECT_MAX_BYTES=50;const O=2147483647;function y(F){if(F>O)throw new RangeError('The value "'+F+'" is invalid for option "size"');const l=new Uint8Array(F);return Object.setPrototypeOf(l,u.prototype),l}function u(F,l,f){if("number"==typeof F){if("string"==typeof l)throw new TypeError('The "string" argument must be of type string. Received type number');return h(F)}return c(F,l,f)}function c(F,l,f){if("string"==typeof F)return function _(F,l){if(("string"!=typeof l||""===l)&&(l="utf8"),!u.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=0|M(F,l);let V=y(f);const X=V.write(F,l);return X!==f&&(V=V.slice(0,X)),V}(F,l);if(ArrayBuffer.isView(F))return function v(F){if(Ne(F,Uint8Array)){const l=new Uint8Array(F);return D(l.buffer,l.byteOffset,l.byteLength)}return g(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ne(F,ArrayBuffer)||F&&Ne(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(F,SharedArrayBuffer)||F&&Ne(F.buffer,SharedArrayBuffer)))return D(F,l,f);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const V=F.valueOf&&F.valueOf();if(null!=V&&V!==F)return u.from(V,l,f);const X=function T(F){if(u.isBuffer(F)){const l=0|E(F.length),f=y(l);return 0===f.length||F.copy(f,0,0,l),f}return void 0!==F.length?"number"!=typeof F.length||Qe(F.length)?y(0):g(F):"Buffer"===F.type&&Array.isArray(F.data)?g(F.data):void 0}(F);if(X)return X;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return u.from(F[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function w(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function h(F){return w(F),y(F<0?0:0|E(F))}function g(F){const l=F.length<0?0:0|E(F.length),f=y(l);for(let V=0;V<l;V+=1)f[V]=255&F[V];return f}function D(F,l,f){if(l<0||F.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let V;return V=void 0===l&&void 0===f?new Uint8Array(F):void 0===f?new Uint8Array(F,l):new Uint8Array(F,l,f),Object.setPrototypeOf(V,u.prototype),V}function E(F){if(F>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return 0|F}function M(F,l){if(u.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ne(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const f=F.length,V=arguments.length>2&&!0===arguments[2];if(!V&&0===f)return 0;let X=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return W(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*f;case"hex":return f>>>1;case"base64":return he(F).length;default:if(X)return V?-1:W(F).length;l=(""+l).toLowerCase(),X=!0}}function k(F,l,f){let V=!1;if((void 0===l||l<0)&&(l=0),l>this.length||((void 0===f||f>this.length)&&(f=this.length),f<=0)||(f>>>=0)<=(l>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return ae(this,l,f);case"utf8":case"utf-8":return le(this,l,f);case"ascii":return de(this,l,f);case"latin1":case"binary":return Ie(this,l,f);case"base64":return te(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,l,f);default:if(V)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),V=!0}}function B(F,l,f){const V=F[l];F[l]=F[f],F[f]=V}function L(F,l,f,V,X){if(0===F.length)return-1;if("string"==typeof f?(V=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),Qe(f=+f)&&(f=X?0:F.length-1),f<0&&(f=F.length+f),f>=F.length){if(X)return-1;f=F.length-1}else if(f<0){if(!X)return-1;f=0}if("string"==typeof l&&(l=u.from(l,V)),u.isBuffer(l))return 0===l.length?-1:z(F,l,f,V,X);if("number"==typeof l)return l&=255,"function"==typeof Uint8Array.prototype.indexOf?X?Uint8Array.prototype.indexOf.call(F,l,f):Uint8Array.prototype.lastIndexOf.call(F,l,f):z(F,[l],f,V,X);throw new TypeError("val must be string, number or Buffer")}function z(F,l,f,V,X){let dt,fe=1,Ce=F.length,$e=l.length;if(void 0!==V&&("ucs2"===(V=String(V).toLowerCase())||"ucs-2"===V||"utf16le"===V||"utf-16le"===V)){if(F.length<2||l.length<2)return-1;fe=2,Ce/=2,$e/=2,f/=2}function Ze(pt,at){return 1===fe?pt[at]:pt.readUInt16BE(at*fe)}if(X){let pt=-1;for(dt=f;dt<Ce;dt++)if(Ze(F,dt)===Ze(l,-1===pt?0:dt-pt)){if(-1===pt&&(pt=dt),dt-pt+1===$e)return pt*fe}else-1!==pt&&(dt-=dt-pt),pt=-1}else for(f+$e>Ce&&(f=Ce-$e),dt=f;dt>=0;dt--){let pt=!0;for(let at=0;at<$e;at++)if(Ze(F,dt+at)!==Ze(l,at)){pt=!1;break}if(pt)return dt}return-1}function Q(F,l,f,V){f=Number(f)||0;const X=F.length-f;V?(V=Number(V))>X&&(V=X):V=X;const fe=l.length;let Ce;for(V>fe/2&&(V=fe/2),Ce=0;Ce<V;++Ce){const $e=parseInt(l.substr(2*Ce,2),16);if(Qe($e))return Ce;F[f+Ce]=$e}return Ce}function oe(F,l,f,V){return Be(W(l,F.length-f),F,f,V)}function j(F,l,f,V){return Be(function ee(F){const l=[];for(let f=0;f<F.length;++f)l.push(255&F.charCodeAt(f));return l}(l),F,f,V)}function ne(F,l,f,V){return Be(he(l),F,f,V)}function K(F,l,f,V){return Be(function ke(F,l){let f,V,X;const fe=[];for(let Ce=0;Ce<F.length&&!((l-=2)<0);++Ce)f=F.charCodeAt(Ce),V=f>>8,X=f%256,fe.push(X),fe.push(V);return fe}(l,F.length-f),F,f,V)}function te(F,l,f){return b.fromByteArray(0===l&&f===F.length?F:F.slice(l,f))}function le(F,l,f){f=Math.min(F.length,f);const V=[];let X=l;for(;X<f;){const fe=F[X];let Ce=null,$e=fe>239?4:fe>223?3:fe>191?2:1;if(X+$e<=f){let Ze,dt,pt,at;switch($e){case 1:fe<128&&(Ce=fe);break;case 2:Ze=F[X+1],128==(192&Ze)&&(at=(31&fe)<<6|63&Ze,at>127&&(Ce=at));break;case 3:Ze=F[X+1],dt=F[X+2],128==(192&Ze)&&128==(192&dt)&&(at=(15&fe)<<12|(63&Ze)<<6|63&dt,at>2047&&(at<55296||at>57343)&&(Ce=at));break;case 4:Ze=F[X+1],dt=F[X+2],pt=F[X+3],128==(192&Ze)&&128==(192&dt)&&128==(192&pt)&&(at=(15&fe)<<18|(63&Ze)<<12|(63&dt)<<6|63&pt,at>65535&&at<1114112&&(Ce=at))}}null===Ce?(Ce=65533,$e=1):Ce>65535&&(Ce-=65536,V.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),V.push(Ce),X+=$e}return function J(F){const l=F.length;if(l<=Fe)return String.fromCharCode.apply(String,F);let f="",V=0;for(;V<l;)f+=String.fromCharCode.apply(String,F.slice(V,V+=Fe));return f}(V)}A.kMaxLength=O,!(u.TYPED_ARRAY_SUPPORT=function P(){try{const F=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(F,l),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(F,l,f){return c(F,l,f)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(F,l,f){return function m(F,l,f){return w(F),F<=0?y(F):void 0!==l?"string"==typeof f?y(F).fill(l,f):y(F).fill(l):y(F)}(F,l,f)},u.allocUnsafe=function(F){return h(F)},u.allocUnsafeSlow=function(F){return h(F)},u.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==u.prototype},u.compare=function(l,f){if(Ne(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),Ne(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(l)||!u.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let V=l.length,X=f.length;for(let fe=0,Ce=Math.min(V,X);fe<Ce;++fe)if(l[fe]!==f[fe]){V=l[fe],X=f[fe];break}return V<X?-1:X<V?1:0},u.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return u.alloc(0);let V;if(void 0===f)for(f=0,V=0;V<l.length;++V)f+=l[V].length;const X=u.allocUnsafe(f);let fe=0;for(V=0;V<l.length;++V){let Ce=l[V];if(Ne(Ce,Uint8Array))fe+Ce.length>X.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(X,fe)):Uint8Array.prototype.set.call(X,Ce,fe);else{if(!u.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(X,fe)}fe+=Ce.length}return X},u.byteLength=M,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)B(this,f,f+1);return this},u.prototype.swap32=function(){const l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)B(this,f,f+3),B(this,f+1,f+2);return this},u.prototype.swap64=function(){const l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)B(this,f,f+7),B(this,f+1,f+6),B(this,f+2,f+5),B(this,f+3,f+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){const l=this.length;return 0===l?"":0===arguments.length?le(this,0,l):k.apply(this,arguments)},u.prototype.equals=function(l){if(!u.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||0===u.compare(this,l)},u.prototype.inspect=function(){let l="";const f=A.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},R&&(u.prototype[R]=u.prototype.inspect),u.prototype.compare=function(l,f,V,X,fe){if(Ne(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(void 0===f&&(f=0),void 0===V&&(V=l?l.length:0),void 0===X&&(X=0),void 0===fe&&(fe=this.length),f<0||V>l.length||X<0||fe>this.length)throw new RangeError("out of range index");if(X>=fe&&f>=V)return 0;if(X>=fe)return-1;if(f>=V)return 1;if(this===l)return 0;let Ce=(fe>>>=0)-(X>>>=0),$e=(V>>>=0)-(f>>>=0);const Ze=Math.min(Ce,$e),dt=this.slice(X,fe),pt=l.slice(f,V);for(let at=0;at<Ze;++at)if(dt[at]!==pt[at]){Ce=dt[at],$e=pt[at];break}return Ce<$e?-1:$e<Ce?1:0},u.prototype.includes=function(l,f,V){return-1!==this.indexOf(l,f,V)},u.prototype.indexOf=function(l,f,V){return L(this,l,f,V,!0)},u.prototype.lastIndexOf=function(l,f,V){return L(this,l,f,V,!1)},u.prototype.write=function(l,f,V,X){if(void 0===f)X="utf8",V=this.length,f=0;else if(void 0===V&&"string"==typeof f)X=f,V=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(V)?(V>>>=0,void 0===X&&(X="utf8")):(X=V,V=void 0)}const fe=this.length-f;if((void 0===V||V>fe)&&(V=fe),l.length>0&&(V<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let Ce=!1;for(;;)switch(X){case"hex":return Q(this,l,f,V);case"utf8":case"utf-8":return oe(this,l,f,V);case"ascii":case"latin1":case"binary":return j(this,l,f,V);case"base64":return ne(this,l,f,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,l,f,V);default:if(Ce)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Fe=4096;function de(F,l,f){let V="";f=Math.min(F.length,f);for(let X=l;X<f;++X)V+=String.fromCharCode(127&F[X]);return V}function Ie(F,l,f){let V="";f=Math.min(F.length,f);for(let X=l;X<f;++X)V+=String.fromCharCode(F[X]);return V}function ae(F,l,f){const V=F.length;(!l||l<0)&&(l=0),(!f||f<0||f>V)&&(f=V);let X="";for(let fe=l;fe<f;++fe)X+=ut[F[fe]];return X}function Ee(F,l,f){const V=F.slice(l,f);let X="";for(let fe=0;fe<V.length-1;fe+=2)X+=String.fromCharCode(V[fe]+256*V[fe+1]);return X}function I(F,l,f){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+l>f)throw new RangeError("Trying to access beyond buffer length")}function $(F,l,f,V,X,fe){if(!u.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>X||l<fe)throw new RangeError('"value" argument is out of bounds');if(f+V>F.length)throw new RangeError("Index out of range")}function q(F,l,f,V,X){Ke(l,V,X,F,f,7);let fe=Number(l&BigInt(4294967295));F[f++]=fe,fe>>=8,F[f++]=fe,fe>>=8,F[f++]=fe,fe>>=8,F[f++]=fe;let Ce=Number(l>>BigInt(32)&BigInt(4294967295));return F[f++]=Ce,Ce>>=8,F[f++]=Ce,Ce>>=8,F[f++]=Ce,Ce>>=8,F[f++]=Ce,f}function G(F,l,f,V,X){Ke(l,V,X,F,f,7);let fe=Number(l&BigInt(4294967295));F[f+7]=fe,fe>>=8,F[f+6]=fe,fe>>=8,F[f+5]=fe,fe>>=8,F[f+4]=fe;let Ce=Number(l>>BigInt(32)&BigInt(4294967295));return F[f+3]=Ce,Ce>>=8,F[f+2]=Ce,Ce>>=8,F[f+1]=Ce,Ce>>=8,F[f]=Ce,f+8}function re(F,l,f,V,X,fe){if(f+V>F.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ye(F,l,f,V,X){return l=+l,f>>>=0,X||re(F,0,f,4),S.write(F,l,f,V,23,4),f+4}function me(F,l,f,V,X){return l=+l,f>>>=0,X||re(F,0,f,8),S.write(F,l,f,V,52,8),f+8}u.prototype.slice=function(l,f){const V=this.length;(l=~~l)<0?(l+=V)<0&&(l=0):l>V&&(l=V),(f=void 0===f?V:~~f)<0?(f+=V)<0&&(f=0):f>V&&(f=V),f<l&&(f=l);const X=this.subarray(l,f);return Object.setPrototypeOf(X,u.prototype),X},u.prototype.readUintLE=u.prototype.readUIntLE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l],fe=1,Ce=0;for(;++Ce<f&&(fe*=256);)X+=this[l+Ce]*fe;return X},u.prototype.readUintBE=u.prototype.readUIntBE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l+--f],fe=1;for(;f>0&&(fe*=256);)X+=this[l+--f]*fe;return X},u.prototype.readUint8=u.prototype.readUInt8=function(l,f){return l>>>=0,f||I(l,1,this.length),this[l]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(l,f){return l>>>=0,f||I(l,2,this.length),this[l]|this[l+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(l,f){return l>>>=0,f||I(l,2,this.length),this[l]<<8|this[l+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(l,f){return l>>>=0,f||I(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(l,f){return l>>>=0,f||I(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},u.prototype.readBigUInt64LE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=f+256*this[++l]+65536*this[++l]+this[++l]*2**24,fe=this[++l]+256*this[++l]+65536*this[++l]+V*2**24;return BigInt(X)+(BigInt(fe)<<BigInt(32))}),u.prototype.readBigUInt64BE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=f*2**24+65536*this[++l]+256*this[++l]+this[++l],fe=this[++l]*2**24+65536*this[++l]+256*this[++l]+V;return(BigInt(X)<<BigInt(32))+BigInt(fe)}),u.prototype.readIntLE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l],fe=1,Ce=0;for(;++Ce<f&&(fe*=256);)X+=this[l+Ce]*fe;return fe*=128,X>=fe&&(X-=Math.pow(2,8*f)),X},u.prototype.readIntBE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=f,fe=1,Ce=this[l+--X];for(;X>0&&(fe*=256);)Ce+=this[l+--X]*fe;return fe*=128,Ce>=fe&&(Ce-=Math.pow(2,8*f)),Ce},u.prototype.readInt8=function(l,f){return l>>>=0,f||I(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},u.prototype.readInt16LE=function(l,f){l>>>=0,f||I(l,2,this.length);const V=this[l]|this[l+1]<<8;return 32768&V?4294901760|V:V},u.prototype.readInt16BE=function(l,f){l>>>=0,f||I(l,2,this.length);const V=this[l+1]|this[l]<<8;return 32768&V?4294901760|V:V},u.prototype.readInt32LE=function(l,f){return l>>>=0,f||I(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},u.prototype.readInt32BE=function(l,f){return l>>>=0,f||I(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},u.prototype.readBigInt64LE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];return(void 0===f||void 0===V)&&Ae(l,this.length-8),(BigInt(this[l+4]+256*this[l+5]+65536*this[l+6]+(V<<24))<<BigInt(32))+BigInt(f+256*this[++l]+65536*this[++l]+this[++l]*2**24)}),u.prototype.readBigInt64BE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=(f<<24)+65536*this[++l]+256*this[++l]+this[++l];return(BigInt(X)<<BigInt(32))+BigInt(this[++l]*2**24+65536*this[++l]+256*this[++l]+V)}),u.prototype.readFloatLE=function(l,f){return l>>>=0,f||I(l,4,this.length),S.read(this,l,!0,23,4)},u.prototype.readFloatBE=function(l,f){return l>>>=0,f||I(l,4,this.length),S.read(this,l,!1,23,4)},u.prototype.readDoubleLE=function(l,f){return l>>>=0,f||I(l,8,this.length),S.read(this,l,!0,52,8)},u.prototype.readDoubleBE=function(l,f){return l>>>=0,f||I(l,8,this.length),S.read(this,l,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(l,f,V,X){l=+l,f>>>=0,V>>>=0,X||$(this,l,f,V,Math.pow(2,8*V)-1,0);let fe=1,Ce=0;for(this[f]=255&l;++Ce<V&&(fe*=256);)this[f+Ce]=l/fe&255;return f+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(l,f,V,X){l=+l,f>>>=0,V>>>=0,X||$(this,l,f,V,Math.pow(2,8*V)-1,0);let fe=V-1,Ce=1;for(this[f+fe]=255&l;--fe>=0&&(Ce*=256);)this[f+fe]=l/Ce&255;return f+V},u.prototype.writeUint8=u.prototype.writeUInt8=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,1,255,0),this[f]=255&l,f+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,65535,0),this[f]=255&l,this[f+1]=l>>>8,f+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=255&l,f+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=255&l,f+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},u.prototype.writeBigUInt64LE=qe(function(l,f=0){return q(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=qe(function(l,f=0){return G(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(l,f,V,X){if(l=+l,f>>>=0,!X){const Ze=Math.pow(2,8*V-1);$(this,l,f,V,Ze-1,-Ze)}let fe=0,Ce=1,$e=0;for(this[f]=255&l;++fe<V&&(Ce*=256);)l<0&&0===$e&&0!==this[f+fe-1]&&($e=1),this[f+fe]=(l/Ce|0)-$e&255;return f+V},u.prototype.writeIntBE=function(l,f,V,X){if(l=+l,f>>>=0,!X){const Ze=Math.pow(2,8*V-1);$(this,l,f,V,Ze-1,-Ze)}let fe=V-1,Ce=1,$e=0;for(this[f+fe]=255&l;--fe>=0&&(Ce*=256);)l<0&&0===$e&&0!==this[f+fe+1]&&($e=1),this[f+fe]=(l/Ce|0)-$e&255;return f+V},u.prototype.writeInt8=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=255&l,f+1},u.prototype.writeInt16LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,32767,-32768),this[f]=255&l,this[f+1]=l>>>8,f+2},u.prototype.writeInt16BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=255&l,f+2},u.prototype.writeInt32LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,2147483647,-2147483648),this[f]=255&l,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},u.prototype.writeInt32BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},u.prototype.writeBigInt64LE=qe(function(l,f=0){return q(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=qe(function(l,f=0){return G(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(l,f,V){return ye(this,l,f,!0,V)},u.prototype.writeFloatBE=function(l,f,V){return ye(this,l,f,!1,V)},u.prototype.writeDoubleLE=function(l,f,V){return me(this,l,f,!0,V)},u.prototype.writeDoubleBE=function(l,f,V){return me(this,l,f,!1,V)},u.prototype.copy=function(l,f,V,X){if(!u.isBuffer(l))throw new TypeError("argument should be a Buffer");if(V||(V=0),!X&&0!==X&&(X=this.length),f>=l.length&&(f=l.length),f||(f=0),X>0&&X<V&&(X=V),X===V||0===l.length||0===this.length)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),l.length-f<X-V&&(X=l.length-f+V);const fe=X-V;return this===l&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(f,V,X):Uint8Array.prototype.set.call(l,this.subarray(V,X),f),fe},u.prototype.fill=function(l,f,V,X){if("string"==typeof l){if("string"==typeof f?(X=f,f=0,V=this.length):"string"==typeof V&&(X=V,V=this.length),void 0!==X&&"string"!=typeof X)throw new TypeError("encoding must be a string");if("string"==typeof X&&!u.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(1===l.length){const Ce=l.charCodeAt(0);("utf8"===X&&Ce<128||"latin1"===X)&&(l=Ce)}}else"number"==typeof l?l&=255:"boolean"==typeof l&&(l=Number(l));if(f<0||this.length<f||this.length<V)throw new RangeError("Out of range index");if(V<=f)return this;let fe;if(f>>>=0,V=void 0===V?this.length:V>>>0,l||(l=0),"number"==typeof l)for(fe=f;fe<V;++fe)this[fe]=l;else{const Ce=u.isBuffer(l)?l:u.from(l,X),$e=Ce.length;if(0===$e)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(fe=0;fe<V-f;++fe)this[fe+f]=Ce[fe%$e]}return this};const Me={};function Se(F,l,f){Me[F]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function Ye(F){let l="",f=F.length;const V="-"===F[0]?1:0;for(;f>=V+4;f-=3)l=`_${F.slice(f-3,f)}${l}`;return`${F.slice(0,f)}${l}`}function Ke(F,l,f,V,X,fe){if(F>f||F<l){const Ce="bigint"==typeof l?"n":"";let $e;throw $e=fe>3?0===l||l===BigInt(0)?`>= 0${Ce} and < 2${Ce} ** ${8*(fe+1)}${Ce}`:`>= -(2${Ce} ** ${8*(fe+1)-1}${Ce}) and < 2 ** ${8*(fe+1)-1}${Ce}`:`>= ${l}${Ce} and <= ${f}${Ce}`,new Me.ERR_OUT_OF_RANGE("value",$e,F)}!function gt(F,l,f){Ge(l,"offset"),(void 0===F[l]||void 0===F[l+f])&&Ae(l,F.length-(f+1))}(V,X,fe)}function Ge(F,l){if("number"!=typeof F)throw new Me.ERR_INVALID_ARG_TYPE(l,"number",F)}function Ae(F,l,f){throw Math.floor(F)!==F?(Ge(F,f),new Me.ERR_OUT_OF_RANGE(f||"offset","an integer",F)):l<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${l}`,F)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(F,l){return`The "${F}" argument must be of type number. Received type ${typeof l}`},TypeError),Se("ERR_OUT_OF_RANGE",function(F,l,f){let V=`The value of "${F}" is out of range.`,X=f;return Number.isInteger(f)&&Math.abs(f)>2**32?X=Ye(String(f)):"bigint"==typeof f&&(X=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(X=Ye(X)),X+="n"),V+=` It must be ${l}. Received ${X}`,V},RangeError);const je=/[^+/0-9A-Za-z-_]/g;function W(F,l){let f;l=l||1/0;const V=F.length;let X=null;const fe=[];for(let Ce=0;Ce<V;++Ce){if(f=F.charCodeAt(Ce),f>55295&&f<57344){if(!X){if(f>56319){(l-=3)>-1&&fe.push(239,191,189);continue}if(Ce+1===V){(l-=3)>-1&&fe.push(239,191,189);continue}X=f;continue}if(f<56320){(l-=3)>-1&&fe.push(239,191,189),X=f;continue}f=65536+(X-55296<<10|f-56320)}else X&&(l-=3)>-1&&fe.push(239,191,189);if(X=null,f<128){if((l-=1)<0)break;fe.push(f)}else if(f<2048){if((l-=2)<0)break;fe.push(f>>6|192,63&f|128)}else if(f<65536){if((l-=3)<0)break;fe.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(f<1114112))throw new Error("Invalid code point");if((l-=4)<0)break;fe.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return fe}function he(F){return b.toByteArray(function se(F){if((F=(F=F.split("=")[0]).trim().replace(je,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function Be(F,l,f,V){let X;for(X=0;X<V&&!(X+f>=l.length||X>=F.length);++X)l[X+f]=F[X];return X}function Ne(F,l){return F instanceof l||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===l.name}function Qe(F){return F!=F}const ut=function(){const F="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const V=16*f;for(let X=0;X<16;++X)l[V+X]=F[f]+F[X]}return l}();function qe(F){return typeof BigInt>"u"?ht:F}function ht(){throw new Error("BigInt not supported")}},4785:(Z,A,d)=>{"use strict";const{SymbolDispose:b}=d(3856),{AbortError:S,codes:R}=d(5109),{isNodeStream:O,isWebStream:P,kControllerErrorFunction:y}=d(1233),u=d(4268),{ERR_INVALID_ARG_TYPE:c}=R;let w;Z.exports.addAbortSignal=function(_,g){if((h=>{if("object"!=typeof h||!("aborted"in h))throw new c("signal","AbortSignal",h)})(_),!O(g)&&!P(g))throw new c("stream",["ReadableStream","WritableStream","Stream"],g);return Z.exports.addAbortSignalNoValidate(_,g)},Z.exports.addAbortSignalNoValidate=function(h,_){if("object"!=typeof h||!("aborted"in h))return _;const g=O(_)?()=>{_.destroy(new S(void 0,{cause:h.reason}))}:()=>{_[y](new S(void 0,{cause:h.reason}))};if(h.aborted)g();else{w=w||d(5830).addAbortListener;const v=w(h,g);u(_,v[b])}return _}},8579:(Z,A,d)=>{"use strict";const{StringPrototypeSlice:b,SymbolIterator:S,TypedArrayPrototypeSet:R,Uint8Array:O}=d(3856),{Buffer:P}=d(9565),{inspect:y}=d(5830);Z.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(c){const w={data:c,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}unshift(c){const w={data:c,next:this.head};0===this.length&&(this.tail=w),this.head=w,++this.length}shift(){if(0===this.length)return;const c=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,c}clear(){this.head=this.tail=null,this.length=0}join(c){if(0===this.length)return"";let w=this.head,m=""+w.data;for(;null!==(w=w.next);)m+=c+w.data;return m}concat(c){if(0===this.length)return P.alloc(0);const w=P.allocUnsafe(c>>>0);let m=this.head,h=0;for(;m;)R(w,m.data,h),h+=m.data.length,m=m.next;return w}consume(c,w){const m=this.head.data;if(c<m.length){const h=m.slice(0,c);return this.head.data=m.slice(c),h}return c===m.length?this.shift():w?this._getString(c):this._getBuffer(c)}first(){return this.head.data}*[S](){for(let c=this.head;c;c=c.next)yield c.data}_getString(c){let w="",m=this.head,h=0;do{const _=m.data;if(!(c>_.length)){c===_.length?(w+=_,++h,this.head=m.next?m.next:this.tail=null):(w+=b(_,0,c),this.head=m,m.data=b(_,c));break}w+=_,c-=_.length,++h}while(null!==(m=m.next));return this.length-=h,w}_getBuffer(c){const w=P.allocUnsafe(c),m=c;let h=this.head,_=0;do{const g=h.data;if(!(c>g.length)){c===g.length?(R(w,g,m-c),++_,this.head=h.next?h.next:this.tail=null):(R(w,new O(g.buffer,g.byteOffset,c),m-c),this.head=h,h.data=g.slice(c));break}R(w,g,m-c),c-=g.length,++_}while(null!==(h=h.next));return this.length-=_,w}[Symbol.for("nodejs.util.inspect.custom")](c,w){return y(this,{...w,depth:0,customInspect:!1})}}},5464:(Z,A,d)=>{"use strict";var b=d(9293).default;const{pipeline:S}=d(6208),R=d(7464),{destroyer:O}=d(5078),{isNodeStream:P,isReadable:y,isWritable:u,isWebStream:c,isTransformStream:w,isWritableStream:m,isReadableStream:h}=d(1233),{AbortError:_,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:v}}=d(5109),D=d(4268);Z.exports=function(...E){if(0===E.length)throw new v("streams");if(1===E.length)return R.from(E[0]);const N=[...E];if("function"==typeof E[0]&&(E[0]=R.from(E[0])),"function"==typeof E[E.length-1]){const te=E.length-1;E[te]=R.from(E[te])}for(let te=0;te<E.length;++te)if(P(E[te])||c(E[te])){if(te<E.length-1&&!(y(E[te])||h(E[te])||w(E[te])))throw new g(`streams[${te}]`,N[te],"must be readable");if(te>0&&!(u(E[te])||m(E[te])||w(E[te])))throw new g(`streams[${te}]`,N[te],"must be writable")}let M,k,B,L,z;const oe=E[0],j=S(E,function Q(te){const le=L;L=null,le?le(te):te?z.destroy(te):!K&&!ne&&z.destroy()}),ne=!!(u(oe)||m(oe)||w(oe)),K=!!(y(j)||h(j)||w(j));if(z=new R({writableObjectMode:!(null==oe||!oe.writableObjectMode),readableObjectMode:!(null==j||!j.readableObjectMode),writable:ne,readable:K}),ne){if(P(oe))z._write=function(le,Fe,J){oe.write(le,Fe)?J():M=J},z._final=function(le){oe.end(),k=le},oe.on("drain",function(){if(M){const le=M;M=null,le()}});else if(c(oe)){const Fe=(w(oe)?oe.writable:oe).getWriter();z._write=function(){var J=b(function*(de,Ie,ae){try{yield Fe.ready,Fe.write(de).catch(()=>{}),ae()}catch(Ee){ae(Ee)}});return function(de,Ie,ae){return J.apply(this,arguments)}}(),z._final=function(){var J=b(function*(de){try{yield Fe.ready,Fe.close().catch(()=>{}),k=de}catch(Ie){de(Ie)}});return function(de){return J.apply(this,arguments)}}()}const te=w(j)?j.readable:j;D(te,()=>{if(k){const le=k;k=null,le()}})}if(K)if(P(j))j.on("readable",function(){if(B){const te=B;B=null,te()}}),j.on("end",function(){z.push(null)}),z._read=function(){for(;;){const te=j.read();if(null===te)return void(B=z._read);if(!z.push(te))return}};else if(c(j)){const le=(w(j)?j.readable:j).getReader();z._read=b(function*(){for(;;)try{const{value:Fe,done:J}=yield le.read();if(!z.push(Fe))return;if(J)return void z.push(null)}catch{return}})}return z._destroy=function(te,le){!te&&null!==L&&(te=new _),B=null,M=null,k=null,null===L?le(te):(L=le,P(j)&&O(j,te))},z}},5078:(Z,A,d)=>{"use strict";const b=d(573),{aggregateTwoErrors:S,codes:{ERR_MULTIPLE_CALLBACK:R},AbortError:O}=d(5109),{Symbol:P}=d(3856),{kIsDestroyed:y,isDestroyed:u,isFinished:c,isServerRequest:w}=d(1233),m=P("kDestroy"),h=P("kConstruct");function _(ne,K,te){ne&&(K&&!K.errored&&(K.errored=ne),te&&!te.errored&&(te.errored=ne))}function v(ne,K,te){let le=!1;function Fe(J){if(le)return;le=!0;const de=ne._readableState,Ie=ne._writableState;_(J,Ie,de),Ie&&(Ie.closed=!0),de&&(de.closed=!0),"function"==typeof te&&te(J),J?b.nextTick(D,ne,J):b.nextTick(T,ne)}try{ne._destroy(K||null,Fe)}catch(J){Fe(J)}}function D(ne,K){E(ne,K),T(ne)}function T(ne){const K=ne._readableState,te=ne._writableState;te&&(te.closeEmitted=!0),K&&(K.closeEmitted=!0),(null!=te&&te.emitClose||null!=K&&K.emitClose)&&ne.emit("close")}function E(ne,K){const te=ne._readableState,le=ne._writableState;null!=le&&le.errorEmitted||null!=te&&te.errorEmitted||(le&&(le.errorEmitted=!0),te&&(te.errorEmitted=!0),ne.emit("error",K))}function M(ne,K,te){const le=ne._readableState,Fe=ne._writableState;if(null!=Fe&&Fe.destroyed||null!=le&&le.destroyed)return this;null!=le&&le.autoDestroy||null!=Fe&&Fe.autoDestroy?ne.destroy(K):K&&(Fe&&!Fe.errored&&(Fe.errored=K),le&&!le.errored&&(le.errored=K),te?b.nextTick(E,ne,K):E(ne,K))}function B(ne){let K=!1;function te(le){if(K)return void M(ne,le??new R);K=!0;const Fe=ne._readableState,J=ne._writableState,de=J||Fe;Fe&&(Fe.constructed=!0),J&&(J.constructed=!0),de.destroyed?ne.emit(m,le):le?M(ne,le,!0):b.nextTick(L,ne)}try{ne._construct(le=>{b.nextTick(te,le)})}catch(le){b.nextTick(te,le)}}function L(ne){ne.emit(h)}function z(ne){return ne?.setHeader&&"function"==typeof ne.abort}function Q(ne){ne.emit("close")}function oe(ne,K){ne.emit("error",K),b.nextTick(Q,ne)}Z.exports={construct:function k(ne,K){if("function"!=typeof ne._construct)return;const te=ne._readableState,le=ne._writableState;te&&(te.constructed=!1),le&&(le.constructed=!1),ne.once(h,K),!(ne.listenerCount(h)>1)&&b.nextTick(B,ne)},destroyer:function j(ne,K){!ne||u(ne)||(!K&&!c(ne)&&(K=new O),w(ne)?(ne.socket=null,ne.destroy(K)):z(ne)?ne.abort():z(ne.req)?ne.req.abort():"function"==typeof ne.destroy?ne.destroy(K):"function"==typeof ne.close?ne.close():K?b.nextTick(oe,ne,K):b.nextTick(Q,ne),ne.destroyed||(ne[y]=!0))},destroy:function g(ne,K){const te=this._readableState,le=this._writableState,Fe=le||te;return null!=le&&le.destroyed||null!=te&&te.destroyed?("function"==typeof K&&K(),this):(_(ne,le,te),le&&(le.destroyed=!0),te&&(te.destroyed=!0),Fe.constructed?v(this,ne,K):this.once(m,function(J){v(this,S(J,ne),K)}),this)},undestroy:function N(){const ne=this._readableState,K=this._writableState;ne&&(ne.constructed=!0,ne.closed=!1,ne.closeEmitted=!1,ne.destroyed=!1,ne.errored=null,ne.errorEmitted=!1,ne.reading=!1,ne.ended=!1===ne.readable,ne.endEmitted=!1===ne.readable),K&&(K.constructed=!0,K.destroyed=!1,K.closed=!1,K.closeEmitted=!1,K.errored=null,K.errorEmitted=!1,K.finalCalled=!1,K.prefinished=!1,K.ended=!1===K.writable,K.ending=!1===K.writable,K.finished=!1===K.writable)},errorOrDestroy:M}},7464:(Z,A,d)=>{"use strict";const{ObjectDefineProperties:b,ObjectGetOwnPropertyDescriptor:S,ObjectKeys:R,ObjectSetPrototypeOf:O}=d(3856);Z.exports=u;const P=d(9710),y=d(258);O(u.prototype,P.prototype),O(u,P);{const h=R(y.prototype);for(let _=0;_<h.length;_++){const g=h[_];u.prototype[g]||(u.prototype[g]=y.prototype[g])}}function u(h){if(!(this instanceof u))return new u(h);P.call(this,h),y.call(this,h),h?(this.allowHalfOpen=!1!==h.allowHalfOpen,!1===h.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===h.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let c,m;function w(){return void 0===c&&(c={}),c}b(u.prototype,{writable:{__proto__:null,...S(y.prototype,"writable")},writableHighWaterMark:{__proto__:null,...S(y.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...S(y.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...S(y.prototype,"writableBuffer")},writableLength:{__proto__:null,...S(y.prototype,"writableLength")},writableFinished:{__proto__:null,...S(y.prototype,"writableFinished")},writableCorked:{__proto__:null,...S(y.prototype,"writableCorked")},writableEnded:{__proto__:null,...S(y.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...S(y.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}}),u.fromWeb=function(h,_){return w().newStreamDuplexFromReadableWritablePair(h,_)},u.toWeb=function(h){return w().newReadableWritablePairFromDuplex(h)},u.from=function(h){return m||(m=d(6840)),m(h,"body")}},6840:(Z,A,d)=>{var b=d(9293).default,S=d(3344).default,R=d(2958).default;const O=d(573),P=d(9565),{isReadable:y,isWritable:u,isIterable:c,isNodeStream:w,isReadableNodeStream:m,isWritableNodeStream:h,isDuplexNodeStream:_,isReadableStream:g,isWritableStream:v}=d(1233),D=d(4268),{AbortError:T,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:N}}=d(5109),{destroyer:M}=d(5078),k=d(7464),B=d(9710),L=d(258),{createDeferredPromise:z}=d(5830),Q=d(4246),oe=globalThis.Blob||P.Blob,j=typeof oe<"u"?function(de){return de instanceof oe}:function(de){return!1},ne=globalThis.AbortController||d(9465).AbortController,{FunctionPrototypeCall:K}=d(3856);class te extends k{constructor(de){super(de),!1===de?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===de?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function Fe(J){const de=J.readable&&"function"!=typeof J.readable.read?B.wrap(J.readable):J.readable,Ie=J.writable;let I,$,q,G,re,ae=!!y(de),Ee=!!u(Ie);function ye(me){const Me=G;G=null,Me?Me(me):me&&re.destroy(me)}return re=new te({readableObjectMode:!(null==de||!de.readableObjectMode),writableObjectMode:!(null==Ie||!Ie.writableObjectMode),readable:ae,writable:Ee}),Ee&&(D(Ie,me=>{Ee=!1,me&&M(de,me),ye(me)}),re._write=function(me,Me,Se){Ie.write(me,Me)?Se():I=Se},re._final=function(me){Ie.end(),$=me},Ie.on("drain",function(){if(I){const me=I;I=null,me()}}),Ie.on("finish",function(){if($){const me=$;$=null,me()}})),ae&&(D(de,me=>{ae=!1,me&&M(de,me),ye(me)}),de.on("readable",function(){if(q){const me=q;q=null,me()}}),de.on("end",function(){re.push(null)}),re._read=function(){for(;;){const me=de.read();if(null===me)return void(q=re._read);if(!re.push(me))return}}),re._destroy=function(me,Me){!me&&null!==G&&(me=new T),q=null,I=null,$=null,null===G?Me(me):(G=Me,M(Ie,me),M(de,me))},re}Z.exports=function J(de,Ie){if(_(de))return de;if(m(de))return Fe({readable:de});if(h(de))return Fe({writable:de});if(w(de))return Fe({writable:!1,readable:!1});if(g(de))return Fe({readable:B.fromWeb(de)});if(v(de))return Fe({writable:L.fromWeb(de)});if("function"==typeof de){const{value:Ee,write:I,final:$,destroy:q}=function le(J){let{promise:de,resolve:Ie}=z();const ae=new ne,Ee=ae.signal;return{value:J(R(function*(){for(;;){const $=de;de=null;const{chunk:q,done:G,cb:re}=yield S($);if(O.nextTick(re),G)return;if(Ee.aborted)throw new T(void 0,{cause:Ee.reason});({promise:de,resolve:Ie}=z()),yield q}})(),{signal:Ee}),write($,q,G){const re=Ie;Ie=null,re({chunk:$,done:!1,cb:G})},final($){const q=Ie;Ie=null,q({done:!0,cb:$})},destroy($,q){ae.abort(),q($)}}}(de);if(c(Ee))return Q(te,Ee,{objectMode:!0,write:I,final:$,destroy:q});const G=Ee?.then;if("function"==typeof G){let re;const ye=K(G,Ee,me=>{if(null!=me)throw new N("nully","body",me)},me=>{M(re,me)});return re=new te({objectMode:!0,readable:!1,write:I,final(me){$(b(function*(){try{yield ye,O.nextTick(me,null)}catch(Me){O.nextTick(me,Me)}}))},destroy:q})}throw new N("Iterable, AsyncIterable or AsyncFunction",Ie,Ee)}if(j(de))return J(de.arrayBuffer());if(c(de))return Q(te,de,{objectMode:!0,writable:!1});if(g(de?.readable)&&v(de?.writable))return te.fromWeb(de);if("object"==typeof de?.writable||"object"==typeof de?.readable)return Fe({readable:null!=de&&de.readable?m(de?.readable)?de?.readable:J(de.readable):void 0,writable:null!=de&&de.writable?h(de?.writable)?de?.writable:J(de.writable):void 0});const ae=de?.then;if("function"==typeof ae){let Ee;return K(ae,de,I=>{null!=I&&Ee.push(I),Ee.push(null)},I=>{M(Ee,I)}),Ee=new te({objectMode:!0,writable:!1,read(){}})}throw new E(Ie,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],de)}},4268:(Z,A,d)=>{const b=d(573),{AbortError:S,codes:R}=d(5109),{ERR_INVALID_ARG_TYPE:O,ERR_STREAM_PREMATURE_CLOSE:P}=R,{kEmptyObject:y,once:u}=d(5830),{validateAbortSignal:c,validateFunction:w,validateObject:m,validateBoolean:h}=d(4323),{Promise:_,PromisePrototypeThen:g,SymbolDispose:v}=d(3856),{isClosed:D,isReadable:T,isReadableNodeStream:E,isReadableStream:N,isReadableFinished:M,isReadableErrored:k,isWritable:B,isWritableNodeStream:L,isWritableStream:z,isWritableFinished:Q,isWritableErrored:oe,isNodeStream:j,willEmitClose:ne,kIsClosedPromise:K}=d(1233);let te;const Fe=()=>{};function J(ae,Ee,I){var $,q;if(2===arguments.length?(I=Ee,Ee=y):null==Ee?Ee=y:m(Ee,"options"),w(I,"callback"),c(Ee.signal,"options.signal"),I=u(I),N(ae)||z(ae))return function de(ae,Ee,I){let $=!1,q=Fe;if(Ee.signal)if(q=()=>{$=!0,I.call(ae,new S(void 0,{cause:Ee.signal.reason}))},Ee.signal.aborted)b.nextTick(q);else{te=te||d(5830).addAbortListener;const re=te(Ee.signal,q),ye=I;I=u((...me)=>{re[v](),ye.apply(ae,me)})}const G=(...re)=>{$||b.nextTick(()=>I.apply(ae,re))};return g(ae[K].promise,G,G),Fe}(ae,Ee,I);if(!j(ae))throw new O("stream",["ReadableStream","WritableStream","Stream"],ae);const G=null!==($=Ee.readable)&&void 0!==$?$:E(ae),re=null!==(q=Ee.writable)&&void 0!==q?q:L(ae),ye=ae._writableState,me=ae._readableState,Me=()=>{ae.writable||gt()};let Se=ne(ae)&&E(ae)===G&&L(ae)===re,Ye=Q(ae,!1);const gt=()=>{Ye=!0,ae.destroyed&&(Se=!1),(!Se||ae.readable&&!G)&&(!G||Ke)&&I.call(ae)};let Ke=M(ae,!1);const Ge=()=>{Ke=!0,ae.destroyed&&(Se=!1),(!Se||ae.writable&&!re)&&(!re||Ye)&&I.call(ae)},Ae=he=>{I.call(ae,he)};let je=D(ae);const se=()=>{je=!0;const he=oe(ae)||k(ae);return he&&"boolean"!=typeof he?I.call(ae,he):G&&!Ke&&E(ae,!0)&&!M(ae,!1)?I.call(ae,new P):!re||Ye||Q(ae,!1)?void I.call(ae):I.call(ae,new P)},W=()=>{je=!0;const he=oe(ae)||k(ae);if(he&&"boolean"!=typeof he)return I.call(ae,he);I.call(ae)},ee=()=>{ae.req.on("finish",gt)};!function le(ae){return ae.setHeader&&"function"==typeof ae.abort}(ae)?re&&!ye&&(ae.on("end",Me),ae.on("close",Me)):(ae.on("complete",gt),Se||ae.on("abort",se),ae.req?ee():ae.on("request",ee)),!Se&&"boolean"==typeof ae.aborted&&ae.on("aborted",se),ae.on("end",Ge),ae.on("finish",gt),!1!==Ee.error&&ae.on("error",Ae),ae.on("close",se),je?b.nextTick(se):null!=ye&&ye.errorEmitted||null!=me&&me.errorEmitted?Se||b.nextTick(W):(!G&&(!Se||T(ae))&&(Ye||!1===B(ae))||!re&&(!Se||B(ae))&&(Ke||!1===T(ae))||me&&ae.req&&ae.aborted)&&b.nextTick(W);const ke=()=>{I=Fe,ae.removeListener("aborted",se),ae.removeListener("complete",gt),ae.removeListener("abort",se),ae.removeListener("request",ee),ae.req&&ae.req.removeListener("finish",gt),ae.removeListener("end",Me),ae.removeListener("close",Me),ae.removeListener("finish",gt),ae.removeListener("end",Ge),ae.removeListener("error",Ae),ae.removeListener("close",se)};if(Ee.signal&&!je){const he=()=>{const Be=I;ke(),Be.call(ae,new S(void 0,{cause:Ee.signal.reason}))};if(Ee.signal.aborted)b.nextTick(he);else{te=te||d(5830).addAbortListener;const Be=te(Ee.signal,he),Ne=I;I=u((...Qe)=>{Be[v](),Ne.apply(ae,Qe)})}}return ke}Z.exports=J,Z.exports.finished=function Ie(ae,Ee){var I;let $=!1;return null===Ee&&(Ee=y),null!==(I=Ee)&&void 0!==I&&I.cleanup&&(h(Ee.cleanup,"cleanup"),$=Ee.cleanup),new _((q,G)=>{const re=J(ae,Ee,ye=>{$&&re(),ye?G(ye):q()})})}},4246:(Z,A,d)=>{"use strict";var b=d(9293).default;const S=d(573),{PromisePrototypeThen:R,SymbolAsyncIterator:O,SymbolIterator:P}=d(3856),{Buffer:y}=d(9565),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:c}=d(5109).codes;Z.exports=function w(m,h,_){let g,v;if("string"==typeof h||h instanceof y)return new m({objectMode:!0,..._,read(){this.push(h),this.push(null)}});if(h&&h[O])v=!0,g=h[O]();else{if(!h||!h[P])throw new u("iterable",["Iterable"],h);v=!1,g=h[P]()}const D=new m({objectMode:!0,highWaterMark:1,..._});let T=!1;function N(){return(N=b(function*(B){if(null!=B&&"function"==typeof g.throw){const{value:Q,done:oe}=yield g.throw(B);if(yield Q,oe)return}if("function"==typeof g.return){const{value:Q}=yield g.return();yield Q}})).apply(this,arguments)}function k(){return(k=b(function*(){for(;;){try{const{value:B,done:L}=v?yield g.next():g.next();if(L)D.push(null);else{const z=B&&"function"==typeof B.then?yield B:B;if(null===z)throw T=!1,new c;if(D.push(z))continue;T=!1}}catch(B){D.destroy(B)}break}})).apply(this,arguments)}return D._read=function(){T||(T=!0,function M(){k.apply(this,arguments)}())},D._destroy=function(B,L){R(function E(B){return N.apply(this,arguments)}(B),()=>S.nextTick(L,B),z=>S.nextTick(L,z||B))},D}},2649:(Z,A,d)=>{"use strict";const{ArrayIsArray:b,ObjectSetPrototypeOf:S}=d(3856),{EventEmitter:R}=d(4356);function O(y){R.call(this,y)}function P(y,u,c){if("function"==typeof y.prependListener)return y.prependListener(u,c);y._events&&y._events[u]?b(y._events[u])?y._events[u].unshift(c):y._events[u]=[c,y._events[u]]:y.on(u,c)}S(O.prototype,R.prototype),S(O,R),O.prototype.pipe=function(y,u){const c=this;function w(T){y.writable&&!1===y.write(T)&&c.pause&&c.pause()}function m(){c.readable&&c.resume&&c.resume()}c.on("data",w),y.on("drain",m),!y._isStdio&&(!u||!1!==u.end)&&(c.on("end",_),c.on("close",g));let h=!1;function _(){h||(h=!0,y.end())}function g(){h||(h=!0,"function"==typeof y.destroy&&y.destroy())}function v(T){D(),0===R.listenerCount(this,"error")&&this.emit("error",T)}function D(){c.removeListener("data",w),y.removeListener("drain",m),c.removeListener("end",_),c.removeListener("close",g),c.removeListener("error",v),y.removeListener("error",v),c.removeListener("end",D),c.removeListener("close",D),y.removeListener("close",D)}return P(c,"error",v),P(y,"error",v),c.on("end",D),c.on("close",D),y.on("close",D),y.emit("pipe",c),y},Z.exports={Stream:O,prependListener:P}},7325:(Z,A,d)=>{"use strict";var b=d(9293).default,S=d(3513).default,R=d(2881).default,O=d(3344).default,P=d(2958).default;const y=globalThis.AbortController||d(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:u,ERR_INVALID_ARG_TYPE:c,ERR_MISSING_ARGS:w,ERR_OUT_OF_RANGE:m},AbortError:h}=d(5109),{validateAbortSignal:_,validateInteger:g,validateObject:v}=d(4323),D=d(3856).Symbol("kWeak"),T=d(3856).Symbol("kResistStopPropagation"),{finished:E}=d(4268),N=d(5464),{addAbortSignalNoValidate:M}=d(4785),{isWritable:k,isNodeStream:B}=d(1233),{deprecate:L}=d(5830),{ArrayPrototypePush:z,Boolean:Q,MathFloor:oe,Number:j,NumberIsNaN:ne,Promise:K,PromiseReject:te,PromiseResolve:le,PromisePrototypeThen:Fe,Symbol:J}=d(3856),de=J("kEmpty"),Ie=J("kEof");function Ee(he,Be){if("function"!=typeof he)throw new c("fn",["Function","AsyncFunction"],he);null!=Be&&v(Be,"options"),null!=Be?.signal&&_(Be.signal,"options.signal");let Ne=1;null!=Be?.concurrency&&(Ne=oe(Be.concurrency));let Qe=Ne-1;return null!=Be?.highWaterMark&&(Qe=oe(Be.highWaterMark)),g(Ne,"options.concurrency",1),g(Qe,"options.highWaterMark",0),Qe+=Ne,function(){var ut=P(function*(){const ht=d(5830).AbortSignalAny([Be?.signal].filter(Q)),F=this,l=[],f={signal:ht};let V,X,fe=!1,Ce=0;function $e(){fe=!0,Ze()}function Ze(){Ce-=1,dt()}function dt(){X&&!fe&&Ce<Ne&&l.length<Qe&&(X(),X=null)}function at(){return(at=b(function*(){try{var Sn,xt=!1,Bn=!1;try{for(var An,_n=R(F);xt=!(An=yield _n.next()).done;xt=!1){let Hn=An.value;if(fe)return;if(ht.aborted)throw new h;try{if(Hn=he(Hn,f),Hn===de)continue;Hn=le(Hn)}catch(Y){Hn=te(Y)}Ce+=1,Fe(Hn,Ze,$e),l.push(Hn),V&&(V(),V=null),!fe&&(l.length>=Qe||Ce>=Ne)&&(yield new K(Y=>{X=Y}))}}catch(Hn){Bn=!0,Sn=Hn}finally{try{xt&&null!=_n.return&&(yield _n.return())}finally{if(Bn)throw Sn}}l.push(Ie)}catch(Hn){const Y=te(Hn);Fe(Y,Ze,$e),l.push(Y)}finally{fe=!0,V&&(V(),V=null)}})).apply(this,arguments)}!function pt(){at.apply(this,arguments)}();try{for(;;){for(;l.length>0;){const xt=yield O(l[0]);if(xt===Ie)return;if(ht.aborted)throw new h;xt!==de&&(yield xt),l.shift(),dt()}yield O(new K(xt=>{V=xt}))}}finally{fe=!0,X&&(X(),X=null)}});return function qe(){return ut.apply(this,arguments)}}().call(this)}function $(he){return q.apply(this,arguments)}function q(){return(q=b(function*(he,Be=void 0){var ut,Ne=!1,Qe=!1;try{for(var qe=R(Ye.call(this,he,Be));Ne=!(yield qe.next()).done;Ne=!1)return!0}catch(F){Qe=!0,ut=F}finally{try{Ne&&null!=qe.return&&(yield qe.return())}finally{if(Qe)throw ut}}return!1})).apply(this,arguments)}function re(){return(re=b(function*(he,Be=void 0){if("function"!=typeof he)throw new c("fn",["Function","AsyncFunction"],he);return!(yield $.call(this,b(function*(...Ne){return!(yield he(...Ne))}),Be))})).apply(this,arguments)}function me(){return(me=b(function*(he,Be){var ut,Ne=!1,Qe=!1;try{for(var ht,qe=R(Ye.call(this,he,Be));Ne=!(ht=yield qe.next()).done;Ne=!1)return ht.value}catch(F){Qe=!0,ut=F}finally{try{Ne&&null!=qe.return&&(yield qe.return())}finally{if(Qe)throw ut}}})).apply(this,arguments)}function Se(){return Se=b(function*(he,Be){if("function"!=typeof he)throw new c("fn",["Function","AsyncFunction"],he);function Qe(){return(Qe=b(function*(f,V){return yield he(f,V),de})).apply(this,arguments)}var ht,ut=!1,qe=!1;try{for(var F=R(Ee.call(this,function Ne(f,V){return Qe.apply(this,arguments)},Be));ut=!(yield F.next()).done;ut=!1);}catch(f){qe=!0,ht=f}finally{try{ut&&null!=F.return&&(yield F.return())}finally{if(qe)throw ht}}}),Se.apply(this,arguments)}function Ye(he,Be){if("function"!=typeof he)throw new c("fn",["Function","AsyncFunction"],he);function Qe(){return(Qe=b(function*(ut,qe){return(yield he(ut,qe))?ut:de})).apply(this,arguments)}return Ee.call(this,function Ne(ut,qe){return Qe.apply(this,arguments)},Be)}class gt extends w{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ge(){return Ge=b(function*(he,Be,Ne){var Qe;if("function"!=typeof he)throw new c("reducer",["Function","AsyncFunction"],he);null!=Ne&&v(Ne,"options"),null!=Ne?.signal&&_(Ne.signal,"options.signal");let ut=arguments.length>1;if(null!=Ne&&null!==(Qe=Ne.signal)&&void 0!==Qe&&Qe.aborted){const $e=new h(void 0,{cause:Ne.signal.reason});throw this.once("error",()=>{}),yield E(this.destroy($e)),$e}const qe=new y,ht=qe.signal;null!=Ne&&Ne.signal&&Ne.signal.addEventListener("abort",()=>qe.abort(),{once:!0,[D]:this,[T]:!0});let F=!1;try{var V,l=!1,f=!1;try{for(var fe,X=R(this);l=!(fe=yield X.next()).done;l=!1){const $e=fe.value;var Ce;if(F=!0,null!=Ne&&null!==(Ce=Ne.signal)&&void 0!==Ce&&Ce.aborted)throw new h;ut?Be=yield he(Be,$e,{signal:ht}):(Be=$e,ut=!0)}}catch($e){f=!0,V=$e}finally{try{l&&null!=X.return&&(yield X.return())}finally{if(f)throw V}}if(!F&&!ut)throw new gt}finally{qe.abort()}return Be}),Ge.apply(this,arguments)}function je(){return(je=b(function*(he){null!=he&&v(he,"options"),null!=he?.signal&&_(he.signal,"options.signal");const Be=[];var ut,Ne=!1,Qe=!1;try{for(var ht,qe=R(this);Ne=!(ht=yield qe.next()).done;Ne=!1){const l=ht.value;var F;if(null!=he&&null!==(F=he.signal)&&void 0!==F&&F.aborted)throw new h(void 0,{cause:he.signal.reason});z(Be,l)}}catch(l){Qe=!0,ut=l}finally{try{Ne&&null!=qe.return&&(yield qe.return())}finally{if(Qe)throw ut}}return Be})).apply(this,arguments)}function W(he){if(he=j(he),ne(he))return 0;if(he<0)throw new m("number",">= 0",he);return he}Z.exports.streamReturningOperators={asIndexedPairs:L(function I(he=void 0){return null!=he&&v(he,"options"),null!=he?.signal&&_(he.signal,"options.signal"),function(){var Be=P(function*(){let Qe=0;var ht,ut=!1,qe=!1;try{for(var l,F=R(this);ut=!(l=yield O(F.next())).done;ut=!1){const V=l.value;var f;if(null!=he&&null!==(f=he.signal)&&void 0!==f&&f.aborted)throw new h({cause:he.signal.reason});yield[Qe++,V]}}catch(V){qe=!0,ht=V}finally{try{ut&&null!=F.return&&(yield O(F.return()))}finally{if(qe)throw ht}}});return function Ne(){return Be.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ee(he,Be=void 0){return null!=Be&&v(Be,"options"),null!=Be?.signal&&_(Be.signal,"options.signal"),he=W(he),function(){var Ne=P(function*(){var ut;if(null!=Be&&null!==(ut=Be.signal)&&void 0!==ut&&ut.aborted)throw new h;var F,qe=!1,ht=!1;try{for(var f,l=R(this);qe=!(f=yield O(l.next())).done;qe=!1){const X=f.value;var V;if(null!=Be&&null!==(V=Be.signal)&&void 0!==V&&V.aborted)throw new h;he--<=0&&(yield X)}}catch(X){ht=!0,F=X}finally{try{qe&&null!=l.return&&(yield O(l.return()))}finally{if(ht)throw F}}});return function Qe(){return Ne.apply(this,arguments)}}().call(this)},filter:Ye,flatMap:function se(he,Be){const Ne=Ee.call(this,he,Be);return function(){var Qe=P(function*(){var F,qe=!1,ht=!1;try{for(var f,l=R(Ne);qe=!(f=yield O(l.next())).done;qe=!1){const V=f.value;yield*S(R(V),O)}}catch(V){ht=!0,F=V}finally{try{qe&&null!=l.return&&(yield O(l.return()))}finally{if(ht)throw F}}});return function ut(){return Qe.apply(this,arguments)}}().call(this)},map:Ee,take:function ke(he,Be=void 0){return null!=Be&&v(Be,"options"),null!=Be?.signal&&_(Be.signal,"options.signal"),he=W(he),function(){var Ne=P(function*(){var ut;if(null!=Be&&null!==(ut=Be.signal)&&void 0!==ut&&ut.aborted)throw new h;var F,qe=!1,ht=!1;try{for(var f,l=R(this);qe=!(f=yield O(l.next())).done;qe=!1){const X=f.value;var V;if(null!=Be&&null!==(V=Be.signal)&&void 0!==V&&V.aborted)throw new h;if(he-- >0&&(yield X),he<=0)return}}catch(X){ht=!0,F=X}finally{try{qe&&null!=l.return&&(yield O(l.return()))}finally{if(ht)throw F}}});return function Qe(){return Ne.apply(this,arguments)}}().call(this)},compose:function ae(he,Be){if(null!=Be&&v(Be,"options"),null!=Be?.signal&&_(Be.signal,"options.signal"),B(he)&&!k(he))throw new u("stream",he,"must be writable");const Ne=N(this,he);return null!=Be&&Be.signal&&M(Be.signal,Ne),Ne}},Z.exports.promiseReturningOperators={every:function G(he){return re.apply(this,arguments)},forEach:function Me(he,Be){return Se.apply(this,arguments)},reduce:function Ke(he,Be,Ne){return Ge.apply(this,arguments)},toArray:function Ae(he){return je.apply(this,arguments)},some:$,find:function ye(he,Be){return me.apply(this,arguments)}}},874:(Z,A,d)=>{"use strict";const{ObjectSetPrototypeOf:b}=d(3856);Z.exports=R;const S=d(6344);function R(O){if(!(this instanceof R))return new R(O);S.call(this,O)}b(R.prototype,S.prototype),b(R,S),R.prototype._transform=function(O,P,y){y(null,O)}},6208:(Z,A,d)=>{var b=d(9293).default,S=d(2958).default,R=d(3344).default,O=d(3513).default,P=d(2881).default;const y=d(573),{ArrayIsArray:u,Promise:c,SymbolAsyncIterator:w,SymbolDispose:m}=d(3856),h=d(4268),{once:_}=d(5830),g=d(5078),v=d(7464),{aggregateTwoErrors:D,codes:{ERR_INVALID_ARG_TYPE:T,ERR_INVALID_RETURN_VALUE:E,ERR_MISSING_ARGS:N,ERR_STREAM_DESTROYED:M,ERR_STREAM_PREMATURE_CLOSE:k},AbortError:B}=d(5109),{validateFunction:L,validateAbortSignal:z}=d(4323),{isIterable:Q,isReadable:oe,isReadableNodeStream:j,isNodeStream:ne,isTransformStream:K,isWebStream:te,isReadableStream:le,isReadableFinished:Fe}=d(1233),J=globalThis.AbortController||d(9465).AbortController;let de,Ie,ae;function Ee(Ke,Ge,Ae){let je=!1;return Ke.on("close",()=>{je=!0}),{destroy:W=>{je||(je=!0,g.destroyer(Ke,W||new M("pipe")))},cleanup:h(Ke,{readable:Ge,writable:Ae},W=>{je=!W})}}function $(Ke){if(Q(Ke))return Ke;if(j(Ke))return function q(Ke){return G.apply(this,arguments)}(Ke);throw new T("val",["Readable","Iterable","AsyncIterable"],Ke)}function G(){return(G=S(function*(Ke){Ie||(Ie=d(9710)),yield*O(P(Ie.prototype[w].call(Ke)),R)})).apply(this,arguments)}function re(Ke,Ge,Ae,je){return ye.apply(this,arguments)}function ye(){return(ye=b(function*(Ke,Ge,Ae,{end:je}){let se,W=null;const ee=ht=>{if(ht&&(se=ht),W){const F=W;W=null,F()}},ke=()=>new c((ht,F)=>{se?F(se):W=()=>{se?F(se):ht()}});Ge.on("drain",ee);const he=h(Ge,{readable:!1},ee);try{Ge.writableNeedDrain&&(yield ke());var Qe,Be=!1,Ne=!1;try{for(var qe,ut=P(Ke);Be=!(qe=yield ut.next()).done;Be=!1)Ge.write(qe.value)||(yield ke())}catch(ht){Ne=!0,Qe=ht}finally{try{Be&&null!=ut.return&&(yield ut.return())}finally{if(Ne)throw Qe}}je&&(Ge.end(),yield ke()),Ae()}catch(ht){Ae(se!==ht?D(se,ht):ht)}finally{he(),Ge.off("drain",ee)}})).apply(this,arguments)}function me(Ke,Ge,Ae,je){return Me.apply(this,arguments)}function Me(){return(Me=b(function*(Ke,Ge,Ae,{end:je}){K(Ge)&&(Ge=Ge.writable);const se=Ge.getWriter();try{var ke,W=!1,ee=!1;try{for(var Be,he=P(Ke);W=!(Be=yield he.next()).done;W=!1){const Ne=Be.value;yield se.ready,se.write(Ne).catch(()=>{})}}catch(Ne){ee=!0,ke=Ne}finally{try{W&&null!=he.return&&(yield he.return())}finally{if(ee)throw ke}}yield se.ready,je&&(yield se.close()),Ae()}catch(Ne){try{yield se.abort(Ne),Ae(Ne)}catch(Qe){Ae(Qe)}}})).apply(this,arguments)}function Ye(Ke,Ge,Ae){if(1===Ke.length&&u(Ke[0])&&(Ke=Ke[0]),Ke.length<2)throw new N("streams");const je=new J,se=je.signal,W=Ae?.signal,ee=[];function ke(){ht(new B)}let he,Be,Ne;z(W,"options.signal"),ae=ae||d(5830).addAbortListener,W&&(he=ae(W,ke));const Qe=[];let F,ut=0;function qe(X){ht(X,0==--ut)}function ht(X,fe){var Ce;if(X&&(!Be||"ERR_STREAM_PREMATURE_CLOSE"===Be.code)&&(Be=X),Be||fe){for(;Qe.length;)Qe.shift()(Be);null===(Ce=he)||void 0===Ce||Ce[m](),je.abort(),fe&&(Be||ee.forEach($e=>$e()),y.nextTick(Ge,Be,Ne))}}for(let X=0;X<Ke.length;X++){const fe=Ke[X],Ce=X<Ke.length-1,$e=X>0,Ze=Ce||!1!==Ae?.end,dt=X===Ke.length-1;if(ne(fe)){let pt=function(at){at&&"AbortError"!==at.name&&"ERR_STREAM_PREMATURE_CLOSE"!==at.code&&qe(at)};if(Ze){const{destroy:at,cleanup:xt}=Ee(fe,Ce,$e);Qe.push(at),oe(fe)&&dt&&ee.push(xt)}fe.on("error",pt),oe(fe)&&dt&&ee.push(()=>{fe.removeListener("error",pt)})}if(0===X)if("function"==typeof fe){if(F=fe({signal:se}),!Q(F))throw new E("Iterable, AsyncIterable or Stream","source",F)}else F=Q(fe)||j(fe)||K(fe)?fe:v.from(fe);else if("function"==typeof fe){var l;if(F=K(F)?$(null===(l=F)||void 0===l?void 0:l.readable):$(F),F=fe(F,{signal:se}),Ce){if(!Q(F,!0))throw new E("AsyncIterable",`transform[${X-1}]`,F)}else{var f;de||(de=d(874));const pt=new de({objectMode:!0}),at=null===(f=F)||void 0===f?void 0:f.then;if("function"==typeof at)ut++,at.call(F,Sn=>{Ne=Sn,null!=Sn&&pt.write(Sn),Ze&&pt.end(),y.nextTick(qe)},Sn=>{pt.destroy(Sn),y.nextTick(qe,Sn)});else if(Q(F,!0))ut++,re(F,pt,qe,{end:Ze});else{if(!le(F)&&!K(F))throw new E("AsyncIterable or Promise","destination",F);ut++,re(F.readable||F,pt,qe,{end:Ze})}F=pt;const{destroy:xt,cleanup:Bn}=Ee(F,!1,!0);Qe.push(xt),dt&&ee.push(Bn)}}else if(ne(fe)){if(j(F)){ut+=2;const pt=gt(F,fe,qe,{end:Ze});oe(fe)&&dt&&ee.push(pt)}else if(K(F)||le(F))ut++,re(F.readable||F,fe,qe,{end:Ze});else{if(!Q(F))throw new T("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);ut++,re(F,fe,qe,{end:Ze})}F=fe}else if(te(fe)){if(j(F))ut++,me($(F),fe,qe,{end:Ze});else if(le(F)||Q(F))ut++,me(F,fe,qe,{end:Ze});else{if(!K(F))throw new T("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],F);ut++,me(F.readable,fe,qe,{end:Ze})}F=fe}else F=v.from(fe)}return(null!=se&&se.aborted||null!=W&&W.aborted)&&y.nextTick(ke),F}function gt(Ke,Ge,Ae,{end:je}){let se=!1;if(Ge.on("close",()=>{se||Ae(new k)}),Ke.pipe(Ge,{end:!1}),je){let ee=function(){se=!0,Ge.end()};Fe(Ke)?y.nextTick(ee):Ke.once("end",ee)}else Ae();return h(Ke,{readable:!0,writable:!1},ee=>{const ke=Ke._readableState;ee&&"ERR_STREAM_PREMATURE_CLOSE"===ee.code&&ke&&ke.ended&&!ke.errored&&!ke.errorEmitted?Ke.once("end",Ae).once("error",Ae):Ae(ee)}),h(Ge,{readable:!1,writable:!0},Ae)}Z.exports={pipelineImpl:Ye,pipeline:function Se(...Ke){return Ye(Ke,_(function I(Ke){return L(Ke[Ke.length-1],"streams[stream.length - 1]"),Ke.pop()}(Ke)))}}},9710:(Z,A,d)=>{var b=d(3344).default,S=d(2958).default;const R=d(573),{ArrayPrototypeIndexOf:O,NumberIsInteger:P,NumberIsNaN:y,NumberParseInt:u,ObjectDefineProperties:c,ObjectKeys:w,ObjectSetPrototypeOf:m,Promise:h,SafeSet:_,SymbolAsyncDispose:g,SymbolAsyncIterator:v,Symbol:D}=d(3856);Z.exports=qe,qe.ReadableState=ut;const{EventEmitter:T}=d(4356),{Stream:E,prependListener:N}=d(2649),{Buffer:M}=d(9565),{addAbortSignal:k}=d(4785),B=d(4268);let L=d(5830).debuglog("stream",ve=>{L=ve});const z=d(8579),Q=d(5078),{getHighWaterMark:oe,getDefaultHighWaterMark:j}=d(1081),{aggregateTwoErrors:ne,codes:{ERR_INVALID_ARG_TYPE:K,ERR_METHOD_NOT_IMPLEMENTED:te,ERR_OUT_OF_RANGE:le,ERR_STREAM_PUSH_AFTER_EOF:Fe,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:J},AbortError:de}=d(5109),{validateObject:Ie}=d(4323),ae=D("kPaused"),{StringDecoder:Ee}=d(8454),I=d(4246);m(qe.prototype,E.prototype),m(qe,E);const $=()=>{},{errorOrDestroy:q}=Q,G=1,Me=16,Se=32,Ye=64,je=2048,se=4096,he=65536;function Qe(ve){return{enumerable:!1,get(){return!!(this.state&ve)},set(Oe){Oe?this.state|=ve:this.state&=~ve}}}function ut(ve,Oe,xe){"boolean"!=typeof xe&&(xe=Oe instanceof d(7464)),this.state=je|se|Me|Se,ve&&ve.objectMode&&(this.state|=G),xe&&ve&&ve.readableObjectMode&&(this.state|=G),this.highWaterMark=ve?oe(this,ve,"readableHighWaterMark",xe):j(!1),this.buffer=new z,this.length=0,this.pipes=[],this.flowing=null,this[ae]=null,ve&&!1===ve.emitClose&&(this.state&=~je),ve&&!1===ve.autoDestroy&&(this.state&=~se),this.errored=null,this.defaultEncoding=ve&&ve.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ve&&ve.encoding&&(this.decoder=new Ee(ve.encoding),this.encoding=ve.encoding)}function qe(ve){if(!(this instanceof qe))return new qe(ve);const Oe=this instanceof d(7464);this._readableState=new ut(ve,this,Oe),ve&&("function"==typeof ve.read&&(this._read=ve.read),"function"==typeof ve.destroy&&(this._destroy=ve.destroy),"function"==typeof ve.construct&&(this._construct=ve.construct),ve.signal&&!Oe&&k(ve.signal,this)),E.call(this,ve),Q.construct(this,()=>{this._readableState.needReadable&&$e(this,this._readableState)})}function ht(ve,Oe,xe,_e){L("readableAddChunk",Oe);const Ve=ve._readableState;let tt;if(Ve.state&G||("string"==typeof Oe?Ve.encoding!==(xe=xe||Ve.defaultEncoding)&&(_e&&Ve.encoding?Oe=M.from(Oe,xe).toString(Ve.encoding):(Oe=M.from(Oe,xe),xe="")):Oe instanceof M?xe="":E._isUint8Array(Oe)?(Oe=E._uint8ArrayToBuffer(Oe),xe=""):null!=Oe&&(tt=new K("chunk",["string","Buffer","Uint8Array"],Oe))),tt)q(ve,tt);else if(null===Oe)Ve.state&=-9,function X(ve,Oe){if(L("onEofChunk"),!Oe.ended){if(Oe.decoder){const xe=Oe.decoder.end();xe&&xe.length&&(Oe.buffer.push(xe),Oe.length+=Oe.objectMode?1:xe.length)}Oe.ended=!0,Oe.sync?fe(ve):(Oe.needReadable=!1,Oe.emittedReadable=!0,Ce(ve))}}(ve,Ve);else if(Ve.state&G||Oe&&Oe.length>0)if(_e)if(4&Ve.state)q(ve,new J);else{if(Ve.destroyed||Ve.errored)return!1;F(ve,Ve,Oe,!0)}else if(Ve.ended)q(ve,new Fe);else{if(Ve.destroyed||Ve.errored)return!1;Ve.state&=-9,Ve.decoder&&!xe?(Oe=Ve.decoder.write(Oe),Ve.objectMode||0!==Oe.length?F(ve,Ve,Oe,!1):$e(ve,Ve)):F(ve,Ve,Oe,!1)}else _e||(Ve.state&=-9,$e(ve,Ve));return!Ve.ended&&(Ve.length<Ve.highWaterMark||0===Ve.length)}function F(ve,Oe,xe,_e){Oe.flowing&&0===Oe.length&&!Oe.sync&&ve.listenerCount("data")>0?(Oe.state&he?Oe.awaitDrainWriters.clear():Oe.awaitDrainWriters=null,Oe.dataEmitted=!0,ve.emit("data",xe)):(Oe.length+=Oe.objectMode?1:xe.length,_e?Oe.buffer.unshift(xe):Oe.buffer.push(xe),Oe.state&Ye&&fe(ve)),$e(ve,Oe)}function V(ve,Oe){return ve<=0||0===Oe.length&&Oe.ended?0:Oe.state&G?1:y(ve)?Oe.flowing&&Oe.length?Oe.buffer.first().length:Oe.length:ve<=Oe.length?ve:Oe.ended?Oe.length:0}function fe(ve){const Oe=ve._readableState;L("emitReadable",Oe.needReadable,Oe.emittedReadable),Oe.needReadable=!1,Oe.emittedReadable||(L("emitReadable",Oe.flowing),Oe.emittedReadable=!0,R.nextTick(Ce,ve))}function Ce(ve){const Oe=ve._readableState;L("emitReadable_",Oe.destroyed,Oe.length,Oe.ended),!Oe.destroyed&&!Oe.errored&&(Oe.length||Oe.ended)&&(ve.emit("readable"),Oe.emittedReadable=!1),Oe.needReadable=!Oe.flowing&&!Oe.ended&&Oe.length<=Oe.highWaterMark,Sn(ve)}function $e(ve,Oe){!Oe.readingMore&&Oe.constructed&&(Oe.readingMore=!0,R.nextTick(Ze,ve,Oe))}function Ze(ve,Oe){for(;!Oe.reading&&!Oe.ended&&(Oe.length<Oe.highWaterMark||Oe.flowing&&0===Oe.length);){const xe=Oe.length;if(L("maybeReadMore read 0"),ve.read(0),xe===Oe.length)break}Oe.readingMore=!1}function pt(ve){const Oe=ve._readableState;Oe.readableListening=ve.listenerCount("readable")>0,Oe.resumeScheduled&&!1===Oe[ae]?Oe.flowing=!0:ve.listenerCount("data")>0?ve.resume():Oe.readableListening||(Oe.flowing=null)}function at(ve){L("readable nexttick read 0"),ve.read(0)}function Bn(ve,Oe){L("resume",Oe.reading),Oe.reading||ve.read(0),Oe.resumeScheduled=!1,ve.emit("resume"),Sn(ve),Oe.flowing&&!Oe.reading&&ve.read(0)}function Sn(ve){const Oe=ve._readableState;for(L("flow",Oe.flowing);Oe.flowing&&null!==ve.read(););}function _n(ve,Oe){"function"!=typeof ve.read&&(ve=qe.wrap(ve,{objectMode:!0}));const xe=function An(ve,Oe){return Hn.apply(this,arguments)}(ve,Oe);return xe.stream=ve,xe}function Hn(){return(Hn=S(function*(ve,Oe){let Ve,xe=$;function _e(it){this===ve?(xe(),xe=$):xe=it}ve.on("readable",_e);const tt=B(ve,{writable:!1},it=>{Ve=it?ne(Ve,it):null,xe(),xe=$});try{for(;;){const it=ve.destroyed?null:ve.read();if(null!==it)yield it;else{if(Ve)throw Ve;if(null===Ve)return;yield b(new h(_e))}}}catch(it){throw Ve=ne(Ve,it),Ve}finally{!Ve&&!1===Oe?.destroyOnReturn||void 0!==Ve&&!ve._readableState.autoDestroy?(ve.off("readable",_e),tt()):Q.destroyer(ve,null)}})).apply(this,arguments)}function Y(ve,Oe){if(0===Oe.length)return null;let xe;return Oe.objectMode?xe=Oe.buffer.shift():!ve||ve>=Oe.length?(xe=Oe.decoder?Oe.buffer.join(""):1===Oe.buffer.length?Oe.buffer.first():Oe.buffer.concat(Oe.length),Oe.buffer.clear()):xe=Oe.buffer.consume(ve,Oe.decoder),xe}function be(ve){const Oe=ve._readableState;L("endReadable",Oe.endEmitted),Oe.endEmitted||(Oe.ended=!0,R.nextTick(we,Oe,ve))}function we(ve,Oe){if(L("endReadableNT",ve.endEmitted,ve.length),!ve.errored&&!ve.closeEmitted&&!ve.endEmitted&&0===ve.length)if(ve.endEmitted=!0,Oe.emit("end"),Oe.writable&&!1===Oe.allowHalfOpen)R.nextTick(Te,Oe);else if(ve.autoDestroy){const xe=Oe._writableState;(!xe||xe.autoDestroy&&(xe.finished||!1===xe.writable))&&Oe.destroy()}}function Te(ve){ve.writable&&!ve.writableEnded&&!ve.destroyed&&ve.end()}let ze;function ct(){return void 0===ze&&(ze={}),ze}c(ut.prototype,{objectMode:Qe(G),ended:Qe(2),endEmitted:Qe(4),reading:Qe(8),constructed:Qe(Me),sync:Qe(Se),needReadable:Qe(Ye),emittedReadable:Qe(128),readableListening:Qe(256),resumeScheduled:Qe(512),errorEmitted:Qe(1024),emitClose:Qe(je),autoDestroy:Qe(se),destroyed:Qe(8192),closed:Qe(16384),closeEmitted:Qe(32768),multiAwaitDrain:Qe(he),readingMore:Qe(1<<17),dataEmitted:Qe(1<<18)}),qe.prototype.destroy=Q.destroy,qe.prototype._undestroy=Q.undestroy,qe.prototype._destroy=function(ve,Oe){Oe(ve)},qe.prototype[T.captureRejectionSymbol]=function(ve){this.destroy(ve)},qe.prototype[g]=function(){let ve;return this.destroyed||(ve=this.readableEnded?null:new de,this.destroy(ve)),new h((Oe,xe)=>B(this,_e=>_e&&_e!==ve?xe(_e):Oe(null)))},qe.prototype.push=function(ve,Oe){return ht(this,ve,Oe,!1)},qe.prototype.unshift=function(ve,Oe){return ht(this,ve,Oe,!0)},qe.prototype.isPaused=function(){const ve=this._readableState;return!0===ve[ae]||!1===ve.flowing},qe.prototype.setEncoding=function(ve){const Oe=new Ee(ve);this._readableState.decoder=Oe,this._readableState.encoding=this._readableState.decoder.encoding;const xe=this._readableState.buffer;let _e="";for(const Ve of xe)_e+=Oe.write(Ve);return xe.clear(),""!==_e&&xe.push(_e),this._readableState.length=_e.length,this},qe.prototype.read=function(ve){L("read",ve),void 0===ve?ve=NaN:P(ve)||(ve=u(ve,10));const Oe=this._readableState,xe=ve;if(ve>Oe.highWaterMark&&(Oe.highWaterMark=function f(ve){if(ve>1073741824)throw new le("size","<= 1GiB",ve);return ve--,ve|=ve>>>1,ve|=ve>>>2,ve|=ve>>>4,ve|=ve>>>8,ve|=ve>>>16,++ve}(ve)),0!==ve&&(Oe.state&=-129),0===ve&&Oe.needReadable&&((0!==Oe.highWaterMark?Oe.length>=Oe.highWaterMark:Oe.length>0)||Oe.ended))return L("read: emitReadable",Oe.length,Oe.ended),0===Oe.length&&Oe.ended?be(this):fe(this),null;if(0===(ve=V(ve,Oe))&&Oe.ended)return 0===Oe.length&&be(this),null;let Ve,_e=!!(Oe.state&Ye);if(L("need readable",_e),(0===Oe.length||Oe.length-ve<Oe.highWaterMark)&&(_e=!0,L("length less than watermark",_e)),Oe.ended||Oe.reading||Oe.destroyed||Oe.errored||!Oe.constructed)_e=!1,L("reading, ended or constructing",_e);else if(_e){L("do read"),Oe.state|=8|Se,0===Oe.length&&(Oe.state|=Ye);try{this._read(Oe.highWaterMark)}catch(tt){q(this,tt)}Oe.state&=~Se,Oe.reading||(ve=V(xe,Oe))}return Ve=ve>0?Y(ve,Oe):null,null===Ve?(Oe.needReadable=Oe.length<=Oe.highWaterMark,ve=0):(Oe.length-=ve,Oe.multiAwaitDrain?Oe.awaitDrainWriters.clear():Oe.awaitDrainWriters=null),0===Oe.length&&(Oe.ended||(Oe.needReadable=!0),xe!==ve&&Oe.ended&&be(this)),null!==Ve&&!Oe.errorEmitted&&!Oe.closeEmitted&&(Oe.dataEmitted=!0,this.emit("data",Ve)),Ve},qe.prototype._read=function(ve){throw new te("_read()")},qe.prototype.pipe=function(ve,Oe){const xe=this,_e=this._readableState;1===_e.pipes.length&&(_e.multiAwaitDrain||(_e.multiAwaitDrain=!0,_e.awaitDrainWriters=new _(_e.awaitDrainWriters?[_e.awaitDrainWriters]:[]))),_e.pipes.push(ve),L("pipe count=%d opts=%j",_e.pipes.length,Oe);const tt=Oe&&!1===Oe.end||ve===R.stdout||ve===R.stderr?Xt:vt;function vt(){L("onend"),ve.end()}_e.endEmitted?R.nextTick(tt):xe.once("end",tt),ve.on("unpipe",function it(tn,Wt){L("onunpipe"),tn===xe&&Wt&&!1===Wt.hasUnpiped&&(Wt.hasUnpiped=!0,function lt(){L("cleanup"),ve.removeListener("close",kn),ve.removeListener("finish",yn),Mt&&ve.removeListener("drain",Mt),ve.removeListener("error",hn),ve.removeListener("unpipe",it),xe.removeListener("end",vt),xe.removeListener("end",Xt),xe.removeListener("data",$t),Lt=!0,Mt&&_e.awaitDrainWriters&&(!ve._writableState||ve._writableState.needDrain)&&Mt()}())});let Mt,Lt=!1;function on(){Lt||(1===_e.pipes.length&&_e.pipes[0]===ve?(L("false write response, pause",0),_e.awaitDrainWriters=ve,_e.multiAwaitDrain=!1):_e.pipes.length>1&&_e.pipes.includes(ve)&&(L("false write response, pause",_e.awaitDrainWriters.size),_e.awaitDrainWriters.add(ve)),xe.pause()),Mt||(Mt=function dt(ve,Oe){return function(){const _e=ve._readableState;_e.awaitDrainWriters===Oe?(L("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(L("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete(Oe)),(!_e.awaitDrainWriters||0===_e.awaitDrainWriters.size)&&ve.listenerCount("data")&&ve.resume()}}(xe,ve),ve.on("drain",Mt))}function $t(tn){L("ondata");const Wt=ve.write(tn);L("dest.write",Wt),!1===Wt&&on()}function hn(tn){if(L("onerror",tn),Xt(),ve.removeListener("error",hn),0===ve.listenerCount("error")){const Wt=ve._writableState||ve._readableState;Wt&&!Wt.errorEmitted?q(ve,tn):ve.emit("error",tn)}}function kn(){ve.removeListener("finish",yn),Xt()}function yn(){L("onfinish"),ve.removeListener("close",kn),Xt()}function Xt(){L("unpipe"),xe.unpipe(ve)}return xe.on("data",$t),N(ve,"error",hn),ve.once("close",kn),ve.once("finish",yn),ve.emit("pipe",xe),!0===ve.writableNeedDrain?on():_e.flowing||(L("pipe resume"),xe.resume()),ve},qe.prototype.unpipe=function(ve){const Oe=this._readableState;if(0===Oe.pipes.length)return this;if(!ve){const Ve=Oe.pipes;Oe.pipes=[],this.pause();for(let tt=0;tt<Ve.length;tt++)Ve[tt].emit("unpipe",this,{hasUnpiped:!1});return this}const _e=O(Oe.pipes,ve);return-1===_e||(Oe.pipes.splice(_e,1),0===Oe.pipes.length&&this.pause(),ve.emit("unpipe",this,{hasUnpiped:!1})),this},qe.prototype.addListener=qe.prototype.on=function(ve,Oe){const xe=E.prototype.on.call(this,ve,Oe),_e=this._readableState;return"data"===ve?(_e.readableListening=this.listenerCount("readable")>0,!1!==_e.flowing&&this.resume()):"readable"===ve&&!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.flowing=!1,_e.emittedReadable=!1,L("on readable",_e.length,_e.reading),_e.length?fe(this):_e.reading||R.nextTick(at,this)),xe},qe.prototype.off=qe.prototype.removeListener=function(ve,Oe){const xe=E.prototype.removeListener.call(this,ve,Oe);return"readable"===ve&&R.nextTick(pt,this),xe},qe.prototype.removeAllListeners=function(ve){const Oe=E.prototype.removeAllListeners.apply(this,arguments);return("readable"===ve||void 0===ve)&&R.nextTick(pt,this),Oe},qe.prototype.resume=function(){const ve=this._readableState;return ve.flowing||(L("resume"),ve.flowing=!ve.readableListening,function xt(ve,Oe){Oe.resumeScheduled||(Oe.resumeScheduled=!0,R.nextTick(Bn,ve,Oe))}(this,ve)),ve[ae]=!1,this},qe.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ae]=!0,this},qe.prototype.wrap=function(ve){let Oe=!1;ve.on("data",_e=>{!this.push(_e)&&ve.pause&&(Oe=!0,ve.pause())}),ve.on("end",()=>{this.push(null)}),ve.on("error",_e=>{q(this,_e)}),ve.on("close",()=>{this.destroy()}),ve.on("destroy",()=>{this.destroy()}),this._read=()=>{Oe&&ve.resume&&(Oe=!1,ve.resume())};const xe=w(ve);for(let _e=1;_e<xe.length;_e++){const Ve=xe[_e];void 0===this[Ve]&&"function"==typeof ve[Ve]&&(this[Ve]=ve[Ve].bind(ve))}return this},qe.prototype[v]=function(){return _n(this)},qe.prototype.iterator=function(ve){return void 0!==ve&&Ie(ve,"options"),_n(this,ve)},c(qe.prototype,{readable:{__proto__:null,get(){const ve=this._readableState;return!(!ve||!1===ve.readable||ve.destroyed||ve.errorEmitted||ve.endEmitted)},set(ve){this._readableState&&(this._readableState.readable=!!ve)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ve){this._readableState&&(this._readableState.flowing=ve)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(ve){this._readableState&&(this._readableState.destroyed=ve)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(ut.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[ae]},set(ve){this[ae]=!!ve}}}),qe._fromList=Y,qe.from=function(ve,Oe){return I(qe,ve,Oe)},qe.fromWeb=function(ve,Oe){return ct().newStreamReadableFromReadableStream(ve,Oe)},qe.toWeb=function(ve,Oe){return ct().newReadableStreamFromStreamReadable(ve,Oe)},qe.wrap=function(ve,Oe){var xe,_e;return new qe({objectMode:null===(xe=null!==(_e=ve.readableObjectMode)&&void 0!==_e?_e:ve.objectMode)||void 0===xe||xe,...Oe,destroy(Ve,tt){Q.destroyer(ve,Ve),tt(Ve)}}).wrap(ve)}},1081:(Z,A,d)=>{"use strict";const{MathFloor:b,NumberIsInteger:S}=d(3856),{validateInteger:R}=d(4323),{ERR_INVALID_ARG_VALUE:O}=d(5109).codes;let P=16384,y=16;function c(h){return h?y:P}Z.exports={getHighWaterMark:function m(h,_,g,v){const D=function u(h,_,g){return null!=h.highWaterMark?h.highWaterMark:_?h[g]:null}(_,v,g);if(null!=D){if(!S(D)||D<0)throw new O(v?`options.${g}`:"options.highWaterMark",D);return b(D)}return c(h.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function w(h,_){R(_,"value",0),h?y=_:P=_}}},6344:(Z,A,d)=>{"use strict";const{ObjectSetPrototypeOf:b,Symbol:S}=d(3856);Z.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:R}=d(5109).codes,O=d(7464),{getHighWaterMark:P}=d(1081);b(u.prototype,O.prototype),b(u,O);const y=S("kCallback");function u(m){if(!(this instanceof u))return new u(m);const h=m?P(this,m,"readableHighWaterMark",!0):null;0===h&&(m={...m,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:m.writableHighWaterMark||0}),O.call(this,m),this._readableState.sync=!1,this[y]=null,m&&("function"==typeof m.transform&&(this._transform=m.transform),"function"==typeof m.flush&&(this._flush=m.flush)),this.on("prefinish",w)}function c(m){"function"!=typeof this._flush||this.destroyed?(this.push(null),m&&m()):this._flush((h,_)=>{h?m?m(h):this.destroy(h):(null!=_&&this.push(_),this.push(null),m&&m())})}function w(){this._final!==c&&c.call(this)}u.prototype._final=c,u.prototype._transform=function(m,h,_){throw new R("_transform()")},u.prototype._write=function(m,h,_){const g=this._readableState,v=this._writableState,D=g.length;this._transform(m,h,(T,E)=>{T?_(T):(null!=E&&this.push(E),v.ended||D===g.length||g.length<g.highWaterMark?_():this[y]=_)})},u.prototype._read=function(){if(this[y]){const m=this[y];this[y]=null,m()}}},1233:(Z,A,d)=>{"use strict";const{SymbolAsyncIterator:b,SymbolIterator:S,SymbolFor:R}=d(3856),O=R("nodejs.stream.destroyed"),P=R("nodejs.stream.errored"),y=R("nodejs.stream.readable"),u=R("nodejs.stream.writable"),c=R("nodejs.stream.disturbed"),w=R("nodejs.webstream.isClosedPromise"),m=R("nodejs.webstream.controllerErrorFunction");function h(I,$=!1){var q;return!(!I||"function"!=typeof I.pipe||"function"!=typeof I.on||$&&("function"!=typeof I.pause||"function"!=typeof I.resume)||I._writableState&&!1===(null===(q=I._readableState)||void 0===q?void 0:q.readable)||I._writableState&&!I._readableState)}function _(I){var $;return!(!I||"function"!=typeof I.write||"function"!=typeof I.on||I._readableState&&!1===(null===($=I._writableState)||void 0===$?void 0:$.writable))}function v(I){return I&&(I._readableState||I._writableState||"function"==typeof I.write&&"function"==typeof I.on||"function"==typeof I.pipe&&"function"==typeof I.on)}function D(I){return!(!I||v(I)||"function"!=typeof I.pipeThrough||"function"!=typeof I.getReader||"function"!=typeof I.cancel)}function T(I){return!(!I||v(I)||"function"!=typeof I.getWriter||"function"!=typeof I.abort)}function E(I){return!(!I||v(I)||"object"!=typeof I.readable||"object"!=typeof I.writable)}function k(I){if(!v(I))return null;const G=I._writableState||I._readableState;return!!(I.destroyed||I[O]||null!=G&&G.destroyed)}function B(I){if(!_(I))return null;if(!0===I.writableEnded)return!0;const $=I._writableState;return(null==$||!$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)}function Q(I,$){if(!h(I))return null;const q=I._readableState;return(null==q||!q.errored)&&("boolean"!=typeof q?.endEmitted?null:!!(q.endEmitted||!1===$&&!0===q.ended&&0===q.length))}function oe(I){return I&&null!=I[y]?I[y]:"boolean"!=typeof I?.readable?null:!k(I)&&h(I)&&I.readable&&!Q(I)}function j(I){return I&&null!=I[u]?I[u]:"boolean"!=typeof I?.writable?null:!k(I)&&_(I)&&I.writable&&!B(I)}function Fe(I){return"boolean"==typeof I._closed&&"boolean"==typeof I._defaultKeepAlive&&"boolean"==typeof I._removedConnection&&"boolean"==typeof I._removedContLen}function J(I){return"boolean"==typeof I._sent100&&Fe(I)}Z.exports={isDestroyed:k,kIsDestroyed:O,isDisturbed:function ae(I){var $;return!(!I||!(null!==($=I[c])&&void 0!==$?$:I.readableDidRead||I.readableAborted))},kIsDisturbed:c,isErrored:function Ee(I){var $,q,G,re,ye,me,Me,Se,Ye,gt;return!(!I||!(null!==($=null!==(q=null!==(G=null!==(re=null!==(ye=null!==(me=I[P])&&void 0!==me?me:I.readableErrored)&&void 0!==ye?ye:I.writableErrored)&&void 0!==re?re:null===(Me=I._readableState)||void 0===Me?void 0:Me.errorEmitted)&&void 0!==G?G:null===(Se=I._writableState)||void 0===Se?void 0:Se.errorEmitted)&&void 0!==q?q:null===(Ye=I._readableState)||void 0===Ye?void 0:Ye.errored)&&void 0!==$?$:null!==(gt=I._writableState)&&void 0!==gt&&gt.errored))},kIsErrored:P,isReadable:oe,kIsReadable:y,kIsClosedPromise:w,kControllerErrorFunction:m,kIsWritable:u,isClosed:function le(I){if(!v(I))return null;if("boolean"==typeof I.closed)return I.closed;const $=I._writableState,q=I._readableState;return"boolean"==typeof $?.closed||"boolean"==typeof q?.closed?$?.closed||q?.closed:"boolean"==typeof I._closed&&Fe(I)?I._closed:null},isDuplexNodeStream:function g(I){return!(!I||"function"!=typeof I.pipe||!I._readableState||"function"!=typeof I.on||"function"!=typeof I.write)},isFinished:function ne(I,$){return v(I)?!!k(I)||!(!1!==$?.readable&&oe(I)||!1!==$?.writable&&j(I)):null},isIterable:function M(I,$){return null!=I&&(!0===$?"function"==typeof I[b]:!1===$?"function"==typeof I[S]:"function"==typeof I[b]||"function"==typeof I[S])},isReadableNodeStream:h,isReadableStream:D,isReadableEnded:function z(I){if(!h(I))return null;if(!0===I.readableEnded)return!0;const $=I._readableState;return!(!$||$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)},isReadableFinished:Q,isReadableErrored:function te(I){var $,q;return v(I)?I.readableErrored?I.readableErrored:null!==($=null===(q=I._readableState)||void 0===q?void 0:q.errored)&&void 0!==$?$:null:null},isNodeStream:v,isWebStream:function N(I){return D(I)||T(I)||E(I)},isWritable:j,isWritableNodeStream:_,isWritableStream:T,isWritableEnded:B,isWritableFinished:function L(I,$){if(!_(I))return null;if(!0===I.writableFinished)return!0;const q=I._writableState;return(null==q||!q.errored)&&("boolean"!=typeof q?.finished?null:!!(q.finished||!1===$&&!0===q.ended&&0===q.length))},isWritableErrored:function K(I){var $,q;return v(I)?I.writableErrored?I.writableErrored:null!==($=null===(q=I._writableState)||void 0===q?void 0:q.errored)&&void 0!==$?$:null:null},isServerRequest:function de(I){var $;return"boolean"==typeof I._consuming&&"boolean"==typeof I._dumped&&void 0===(null===($=I.req)||void 0===$?void 0:$.upgradeOrConnect)},isServerResponse:J,willEmitClose:function Ie(I){if(!v(I))return null;const G=I._writableState||I._readableState;return!G&&J(I)||!!(G&&G.autoDestroy&&G.emitClose&&!1===G.closed)},isTransformStream:E}},258:(Z,A,d)=>{const b=d(573),{ArrayPrototypeSlice:S,Error:R,FunctionPrototypeSymbolHasInstance:O,ObjectDefineProperty:P,ObjectDefineProperties:y,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:c,Symbol:w,SymbolHasInstance:m}=d(3856);Z.exports=J,J.WritableState=le;const{EventEmitter:h}=d(4356),_=d(2649).Stream,{Buffer:g}=d(9565),v=d(5078),{addAbortSignal:D}=d(4785),{getHighWaterMark:T,getDefaultHighWaterMark:E}=d(1081),{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_MULTIPLE_CALLBACK:k,ERR_STREAM_CANNOT_PIPE:B,ERR_STREAM_DESTROYED:L,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:oe,ERR_UNKNOWN_ENCODING:j}=d(5109).codes,{errorOrDestroy:ne}=v;function K(){}u(J.prototype,_.prototype),u(J,_);const te=w("kOnFinished");function le(Ae,je,se){"boolean"!=typeof se&&(se=je instanceof d(7464)),this.objectMode=!(!Ae||!Ae.objectMode),se&&(this.objectMode=this.objectMode||!(!Ae||!Ae.writableObjectMode)),this.highWaterMark=Ae?T(this,Ae,"writableHighWaterMark",se):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(Ae&&!1===Ae.decodeStrings),this.defaultEncoding=Ae&&Ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=I.bind(void 0,je),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Fe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Ae||!1!==Ae.emitClose,this.autoDestroy=!Ae||!1!==Ae.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[te]=[]}function Fe(Ae){Ae.buffered=[],Ae.bufferedIndex=0,Ae.allBuffers=!0,Ae.allNoop=!0}function J(Ae){const je=this instanceof d(7464);if(!je&&!O(J,this))return new J(Ae);this._writableState=new le(Ae,this,je),Ae&&("function"==typeof Ae.write&&(this._write=Ae.write),"function"==typeof Ae.writev&&(this._writev=Ae.writev),"function"==typeof Ae.destroy&&(this._destroy=Ae.destroy),"function"==typeof Ae.final&&(this._final=Ae.final),"function"==typeof Ae.construct&&(this._construct=Ae.construct),Ae.signal&&D(Ae.signal,this)),_.call(this,Ae),v.construct(this,()=>{const se=this._writableState;se.writing||re(this,se),Se(this,se)})}function de(Ae,je,se,W){const ee=Ae._writableState;if("function"==typeof se)W=se,se=ee.defaultEncoding;else{if(se){if("buffer"!==se&&!g.isEncoding(se))throw new j(se)}else se=ee.defaultEncoding;"function"!=typeof W&&(W=K)}if(null===je)throw new Q;if(!ee.objectMode)if("string"==typeof je)!1!==ee.decodeStrings&&(je=g.from(je,se),se="buffer");else if(je instanceof g)se="buffer";else{if(!_._isUint8Array(je))throw new N("chunk",["string","Buffer","Uint8Array"],je);je=_._uint8ArrayToBuffer(je),se="buffer"}let ke;return ee.ending?ke=new oe:ee.destroyed&&(ke=new L("write")),ke?(b.nextTick(W,ke),ne(Ae,ke,!0),ke):(ee.pendingcb++,function Ie(Ae,je,se,W,ee){const ke=je.objectMode?1:se.length;je.length+=ke;const he=je.length<je.highWaterMark;return he||(je.needDrain=!0),je.writing||je.corked||je.errored||!je.constructed?(je.buffered.push({chunk:se,encoding:W,callback:ee}),je.allBuffers&&"buffer"!==W&&(je.allBuffers=!1),je.allNoop&&ee!==K&&(je.allNoop=!1)):(je.writelen=ke,je.writecb=ee,je.writing=!0,je.sync=!0,Ae._write(se,W,je.onwrite),je.sync=!1),he&&!je.errored&&!je.destroyed}(Ae,ee,je,se,W))}function ae(Ae,je,se,W,ee,ke,he){je.writelen=W,je.writecb=he,je.writing=!0,je.sync=!0,je.destroyed?je.onwrite(new L("write")):se?Ae._writev(ee,je.onwrite):Ae._write(ee,ke,je.onwrite),je.sync=!1}function Ee(Ae,je,se,W){--je.pendingcb,W(se),G(je),ne(Ae,se)}function I(Ae,je){const se=Ae._writableState,W=se.sync,ee=se.writecb;"function"==typeof ee?(se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0,je?(se.errored||(se.errored=je),Ae._readableState&&!Ae._readableState.errored&&(Ae._readableState.errored=je),W?b.nextTick(Ee,Ae,se,je,ee):Ee(Ae,se,je,ee)):(se.buffered.length>se.bufferedIndex&&re(Ae,se),W?null!==se.afterWriteTickInfo&&se.afterWriteTickInfo.cb===ee?se.afterWriteTickInfo.count++:(se.afterWriteTickInfo={count:1,cb:ee,stream:Ae,state:se},b.nextTick($,se.afterWriteTickInfo)):q(Ae,se,1,ee))):ne(Ae,new k)}function $({stream:Ae,state:je,count:se,cb:W}){return je.afterWriteTickInfo=null,q(Ae,je,se,W)}function q(Ae,je,se,W){for(!je.ending&&!Ae.destroyed&&0===je.length&&je.needDrain&&(je.needDrain=!1,Ae.emit("drain"));se-- >0;)je.pendingcb--,W();je.destroyed&&G(je),Se(Ae,je)}function G(Ae){if(Ae.writing)return;for(let ee=Ae.bufferedIndex;ee<Ae.buffered.length;++ee){var je;const{chunk:ke,callback:he}=Ae.buffered[ee];Ae.length-=Ae.objectMode?1:ke.length,he(null!==(je=Ae.errored)&&void 0!==je?je:new L("write"))}const se=Ae[te].splice(0);for(let ee=0;ee<se.length;ee++){var W;se[ee](null!==(W=Ae.errored)&&void 0!==W?W:new L("end"))}Fe(Ae)}function re(Ae,je){if(je.corked||je.bufferProcessing||je.destroyed||!je.constructed)return;const{buffered:se,bufferedIndex:W,objectMode:ee}=je,ke=se.length-W;if(!ke)return;let he=W;if(je.bufferProcessing=!0,ke>1&&Ae._writev){je.pendingcb-=ke-1;const Be=je.allNoop?K:Qe=>{for(let ut=he;ut<se.length;++ut)se[ut].callback(Qe)},Ne=je.allNoop&&0===he?se:S(se,he);Ne.allBuffers=je.allBuffers,ae(Ae,je,!0,je.length,Ne,"",Be),Fe(je)}else{do{const{chunk:Be,encoding:Ne,callback:Qe}=se[he];se[he++]=null,ae(Ae,je,!1,ee?1:Be.length,Be,Ne,Qe)}while(he<se.length&&!je.writing);he===se.length?Fe(je):he>256?(se.splice(0,he),je.bufferedIndex=0):je.bufferedIndex=he}je.bufferProcessing=!1}function ye(Ae){return Ae.ending&&!Ae.destroyed&&Ae.constructed&&0===Ae.length&&!Ae.errored&&0===Ae.buffered.length&&!Ae.finished&&!Ae.writing&&!Ae.errorEmitted&&!Ae.closeEmitted}function Se(Ae,je,se){ye(je)&&(function Me(Ae,je){!je.prefinished&&!je.finalCalled&&("function"!=typeof Ae._final||je.destroyed?(je.prefinished=!0,Ae.emit("prefinish")):(je.finalCalled=!0,function me(Ae,je){let se=!1;function W(ee){if(se)ne(Ae,ee??k());else if(se=!0,je.pendingcb--,ee){const ke=je[te].splice(0);for(let he=0;he<ke.length;he++)ke[he](ee);ne(Ae,ee,je.sync)}else ye(je)&&(je.prefinished=!0,Ae.emit("prefinish"),je.pendingcb++,b.nextTick(Ye,Ae,je))}je.sync=!0,je.pendingcb++;try{Ae._final(W)}catch(ee){W(ee)}je.sync=!1}(Ae,je)))}(Ae,je),0===je.pendingcb&&(se?(je.pendingcb++,b.nextTick((W,ee)=>{ye(ee)?Ye(W,ee):ee.pendingcb--},Ae,je)):ye(je)&&(je.pendingcb++,Ye(Ae,je))))}function Ye(Ae,je){je.pendingcb--,je.finished=!0;const se=je[te].splice(0);for(let W=0;W<se.length;W++)se[W]();if(Ae.emit("finish"),je.autoDestroy){const W=Ae._readableState;(!W||W.autoDestroy&&(W.endEmitted||!1===W.readable))&&Ae.destroy()}}le.prototype.getBuffer=function(){return S(this.buffered,this.bufferedIndex)},P(le.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),P(J,m,{__proto__:null,value:function(Ae){return!!O(this,Ae)||this===J&&Ae&&Ae._writableState instanceof le}}),J.prototype.pipe=function(){ne(this,new B)},J.prototype.write=function(Ae,je,se){return!0===de(this,Ae,je,se)},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){const Ae=this._writableState;Ae.corked&&(Ae.corked--,Ae.writing||re(this,Ae))},J.prototype.setDefaultEncoding=function(je){if("string"==typeof je&&(je=c(je)),!g.isEncoding(je))throw new j(je);return this._writableState.defaultEncoding=je,this},J.prototype._write=function(Ae,je,se){if(!this._writev)throw new M("_write()");this._writev([{chunk:Ae,encoding:je}],se)},J.prototype._writev=null,J.prototype.end=function(Ae,je,se){const W=this._writableState;let ee;if("function"==typeof Ae?(se=Ae,Ae=null,je=null):"function"==typeof je&&(se=je,je=null),null!=Ae){const ke=de(this,Ae,je);ke instanceof R&&(ee=ke)}return W.corked&&(W.corked=1,this.uncork()),ee||(W.errored||W.ending?W.finished?ee=new z("end"):W.destroyed&&(ee=new L("end")):(W.ending=!0,Se(this,W,!0),W.ended=!0)),"function"==typeof se&&(ee||W.finished?b.nextTick(se,ee):W[te].push(se)),this},y(J.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(Ae){this._writableState&&(this._writableState.destroyed=Ae)}},writable:{__proto__:null,get(){const Ae=this._writableState;return!(!Ae||!1===Ae.writable||Ae.destroyed||Ae.errored||Ae.ending||Ae.ended)},set(Ae){this._writableState&&(this._writableState.writable=!!Ae)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const Ae=this._writableState;return!!Ae&&!Ae.destroyed&&!Ae.ending&&Ae.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const gt=v.destroy;let Ke;function Ge(){return void 0===Ke&&(Ke={}),Ke}J.prototype.destroy=function(Ae,je){const se=this._writableState;return!se.destroyed&&(se.bufferedIndex<se.buffered.length||se[te].length)&&b.nextTick(G,se),gt.call(this,Ae,je),this},J.prototype._undestroy=v.undestroy,J.prototype._destroy=function(Ae,je){je(Ae)},J.prototype[h.captureRejectionSymbol]=function(Ae){this.destroy(Ae)},J.fromWeb=function(Ae,je){return Ge().newStreamWritableFromWritableStream(Ae,je)},J.toWeb=function(Ae){return Ge().newWritableStreamFromStreamWritable(Ae)}},4323:(Z,A,d)=>{"use strict";const{ArrayIsArray:b,ArrayPrototypeIncludes:S,ArrayPrototypeJoin:R,ArrayPrototypeMap:O,NumberIsInteger:P,NumberIsNaN:y,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:c,NumberParseInt:w,ObjectPrototypeHasOwnProperty:m,RegExpPrototypeExec:h,String:_,StringPrototypeToUpperCase:g,StringPrototypeTrim:v}=d(3856),{hideStackFrames:D,codes:{ERR_SOCKET_BAD_PORT:T,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:N,ERR_OUT_OF_RANGE:M,ERR_UNKNOWN_SIGNAL:k}}=d(5109),{normalizeEncoding:B}=d(5830),{isAsyncFunction:L,isArrayBufferView:z}=d(5830).types,Q={},ne=/^[0-7]+$/,le=D((he,Be,Ne=c,Qe=u)=>{if("number"!=typeof he)throw new E(Be,"number",he);if(!P(he))throw new M(Be,"an integer",he);if(he<Ne||he>Qe)throw new M(Be,`>= ${Ne} && <= ${Qe}`,he)}),Fe=D((he,Be,Ne=-2147483648,Qe=2147483647)=>{if("number"!=typeof he)throw new E(Be,"number",he);if(!P(he))throw new M(Be,"an integer",he);if(he<Ne||he>Qe)throw new M(Be,`>= ${Ne} && <= ${Qe}`,he)}),J=D((he,Be,Ne=!1)=>{if("number"!=typeof he)throw new E(Be,"number",he);if(!P(he))throw new M(Be,"an integer",he);const Qe=Ne?1:0,ut=4294967295;if(he<Qe||he>ut)throw new M(Be,`>= ${Qe} && <= ${ut}`,he)});function de(he,Be){if("string"!=typeof he)throw new E(Be,"string",he)}const ae=D((he,Be,Ne)=>{if(!S(Ne,he)){const ut="must be one of: "+R(O(Ne,qe=>"string"==typeof qe?`'${qe}'`:_(qe)),", ");throw new N(Be,he,ut)}});function Ee(he,Be){if("boolean"!=typeof he)throw new E(Be,"boolean",he)}function I(he,Be,Ne){return null!=he&&m(he,Be)?he[Be]:Ne}const $=D((he,Be,Ne=null)=>{const Qe=I(Ne,"allowArray",!1),ut=I(Ne,"allowFunction",!1);if(!I(Ne,"nullable",!1)&&null===he||!Qe&&b(he)||"object"!=typeof he&&(!ut||"function"!=typeof he))throw new E(Be,"Object",he)}),q=D((he,Be)=>{if(null!=he&&"object"!=typeof he&&"function"!=typeof he)throw new E(Be,"a dictionary",he)}),G=D((he,Be,Ne=0)=>{if(!b(he))throw new E(Be,"Array",he);if(he.length<Ne)throw new N(Be,he,`must be longer than ${Ne}`)}),Se=D((he,Be="buffer")=>{if(!z(he))throw new E(Be,["Buffer","TypedArray","DataView"],he)}),Ke=D((he,Be)=>{if(void 0!==he&&(null===he||"object"!=typeof he||!("aborted"in he)))throw new E(Be,"AbortSignal",he)}),Ge=D((he,Be)=>{if("function"!=typeof he)throw new E(Be,"Function",he)}),Ae=D((he,Be)=>{if("function"!=typeof he||L(he))throw new E(Be,"Function",he)}),je=D((he,Be)=>{if(void 0!==he)throw new E(Be,"undefined",he)}),W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ee(he,Be){if(typeof he>"u"||!h(W,he))throw new N(Be,he,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Z.exports={isInt32:function oe(he){return he===(0|he)},isUint32:function j(he){return he===he>>>0},parseFileMode:function te(he,Be,Ne){if(typeof he>"u"&&(he=Ne),"string"==typeof he){if(null===h(ne,he))throw new N(Be,he,"must be a 32-bit unsigned integer or an octal string");he=w(he,8)}return J(he,Be),he},validateArray:G,validateStringArray:function re(he,Be){G(he,Be);for(let Ne=0;Ne<he.length;Ne++)de(he[Ne],`${Be}[${Ne}]`)},validateBooleanArray:function ye(he,Be){G(he,Be);for(let Ne=0;Ne<he.length;Ne++)Ee(he[Ne],`${Be}[${Ne}]`)},validateAbortSignalArray:function me(he,Be){G(he,Be);for(let Ne=0;Ne<he.length;Ne++){const Qe=he[Ne],ut=`${Be}[${Ne}]`;if(null==Qe)throw new E(ut,"AbortSignal",Qe);Ke(Qe,ut)}},validateBoolean:Ee,validateBuffer:Se,validateDictionary:q,validateEncoding:function Ye(he,Be){const Ne=B(Be),Qe=he.length;if("hex"===Ne&&Qe%2!=0)throw new N("encoding",Be,`is invalid for data of length ${Qe}`)},validateFunction:Ge,validateInt32:Fe,validateInteger:le,validateNumber:function Ie(he,Be,Ne=void 0,Qe){if("number"!=typeof he)throw new E(Be,"number",he);if(null!=Ne&&he<Ne||null!=Qe&&he>Qe||(null!=Ne||null!=Qe)&&y(he))throw new M(Be,`${null!=Ne?`>= ${Ne}`:""}${null!=Ne&&null!=Qe?" && ":""}${null!=Qe?`<= ${Qe}`:""}`,he)},validateObject:$,validateOneOf:ae,validatePlainFunction:Ae,validatePort:function gt(he,Be="Port",Ne=!0){if("number"!=typeof he&&"string"!=typeof he||"string"==typeof he&&0===v(he).length||+he!=+he>>>0||he>65535||0===he&&!Ne)throw new T(Be,he,Ne);return 0|he},validateSignalName:function Me(he,Be="signal"){if(de(he,Be),void 0===Q[he])throw void 0!==Q[g(he)]?new k(he+" (signals must use all capital letters)"):new k(he)},validateString:de,validateUint32:J,validateUndefined:je,validateUnion:function se(he,Be,Ne){if(!S(Ne,he))throw new E(Be,`('${R(Ne,"|")}')`,he)},validateAbortSignal:Ke,validateLinkHeaderValue:function ke(he){if("string"==typeof he)return ee(he,"hints"),he;if(b(he)){const Be=he.length;let Ne="";if(0===Be)return Ne;for(let Qe=0;Qe<Be;Qe++){const ut=he[Qe];ee(ut,"hints"),Ne+=ut,Qe!==Be-1&&(Ne+=", ")}return Ne}throw new N("hints",he,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},5424:(Z,A,d)=>{"use strict";const b=d(3052),S=d(9905),R=b.Readable.destroy;Z.exports=b.Readable,Z.exports._uint8ArrayToBuffer=b._uint8ArrayToBuffer,Z.exports._isUint8Array=b._isUint8Array,Z.exports.isDisturbed=b.isDisturbed,Z.exports.isErrored=b.isErrored,Z.exports.isReadable=b.isReadable,Z.exports.Readable=b.Readable,Z.exports.Writable=b.Writable,Z.exports.Duplex=b.Duplex,Z.exports.Transform=b.Transform,Z.exports.PassThrough=b.PassThrough,Z.exports.addAbortSignal=b.addAbortSignal,Z.exports.finished=b.finished,Z.exports.destroy=b.destroy,Z.exports.destroy=R,Z.exports.pipeline=b.pipeline,Z.exports.compose=b.compose,Object.defineProperty(b,"promises",{configurable:!0,enumerable:!0,get:()=>S}),Z.exports.Stream=b.Stream,Z.exports.default=Z.exports},5109:(Z,A,d)=>{"use strict";const{format:b,inspect:S,AggregateError:R}=d(5830),O=globalThis.AggregateError||R,P=Symbol("kIsNodeError"),y=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,w={};function m(E,N){if(!E)throw new w.ERR_INTERNAL_ASSERTION(N)}function h(E){let N="",M=E.length;const k="-"===E[0]?1:0;for(;M>=k+4;M-=3)N=`_${E.slice(M-3,M)}${N}`;return`${E.slice(0,M)}${N}`}function g(E,N,M){M||(M=Error);class k extends M{constructor(...L){super(function _(E,N,M){if("function"==typeof N)return m(N.length<=M.length,`Code: ${E}; The provided arguments length (${M.length}) does not match the required ones (${N.length}).`),N(...M);const k=(N.match(/%[dfijoOs]/g)||[]).length;return m(k===M.length,`Code: ${E}; The provided arguments length (${M.length}) does not match the required ones (${k}).`),0===M.length?N:b(N,...M)}(E,N,L))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(k.prototype,{name:{value:M.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),k.prototype.code=E,k.prototype[P]=!0,w[E]=k}function v(E){return Object.defineProperty(E,"name",{value:"__node_internal_"+E.name}),E}class T extends Error{constructor(N="The operation was aborted",M=void 0){if(void 0!==M&&"object"!=typeof M)throw new w.ERR_INVALID_ARG_TYPE("options","Object",M);super(N,M),this.code="ABORT_ERR",this.name="AbortError"}}g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(E,N,M)=>{m("string"==typeof E,"'name' must be a string"),Array.isArray(N)||(N=[N]);let k="The ";E.endsWith(" argument")?k+=`${E} `:k+=`"${E}" ${E.includes(".")?"property":"argument"} `,k+="must be ";const B=[],L=[],z=[];for(const oe of N)m("string"==typeof oe,"All expected entries have to be of type string"),y.includes(oe)?B.push(oe.toLowerCase()):u.test(oe)?L.push(oe):(m("object"!==oe,'The value "object" should be written as "Object"'),z.push(oe));if(L.length>0){const oe=B.indexOf("object");-1!==oe&&(B.splice(B,oe,1),L.push("Object"))}if(B.length>0){switch(B.length){case 1:k+=`of type ${B[0]}`;break;case 2:k+=`one of type ${B[0]} or ${B[1]}`;break;default:{const oe=B.pop();k+=`one of type ${B.join(", ")}, or ${oe}`}}(L.length>0||z.length>0)&&(k+=" or ")}if(L.length>0){switch(L.length){case 1:k+=`an instance of ${L[0]}`;break;case 2:k+=`an instance of ${L[0]} or ${L[1]}`;break;default:{const oe=L.pop();k+=`an instance of ${L.join(", ")}, or ${oe}`}}z.length>0&&(k+=" or ")}switch(z.length){case 0:break;case 1:z[0].toLowerCase()!==z[0]&&(k+="an "),k+=`${z[0]}`;break;case 2:k+=`one of ${z[0]} or ${z[1]}`;break;default:{const oe=z.pop();k+=`one of ${z.join(", ")}, or ${oe}`}}if(null==M)k+=`. Received ${M}`;else if("function"==typeof M&&M.name)k+=`. Received function ${M.name}`;else if("object"==typeof M){var Q;null!==(Q=M.constructor)&&void 0!==Q&&Q.name?k+=`. Received an instance of ${M.constructor.name}`:k+=`. Received ${S(M,{depth:-1})}`}else{let oe=S(M,{colors:!1});oe.length>25&&(oe=`${oe.slice(0,25)}...`),k+=`. Received type ${typeof M} (${oe})`}return k},TypeError),g("ERR_INVALID_ARG_VALUE",(E,N,M="is invalid")=>{let k=S(N);return k.length>128&&(k=k.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${M}. Received ${k}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(E,N,M)=>{var k;return`Expected ${E} to be returned from the "${N}" function but got ${null!=M&&null!==(k=M.constructor)&&void 0!==k&&k.name?`instance of ${M.constructor.name}`:"type "+typeof M}.`},TypeError),g("ERR_MISSING_ARGS",(...E)=>{let N;m(E.length>0,"At least one arg needs to be specified");const M=E.length;switch(E=(Array.isArray(E)?E:[E]).map(k=>`"${k}"`).join(" or "),M){case 1:N+=`The ${E[0]} argument`;break;case 2:N+=`The ${E[0]} and ${E[1]} arguments`;break;default:{const k=E.pop();N+=`The ${E.join(", ")}, and ${k} arguments`}}return`${N} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(E,N,M)=>{let k;return m(N,'Missing "range" argument'),Number.isInteger(M)&&Math.abs(M)>2**32?k=h(String(M)):"bigint"==typeof M?(k=String(M),(M>2n**32n||M<-(2n**32n))&&(k=h(k)),k+="n"):k=S(M),`The value of "${E}" is out of range. It must be ${N}. Received ${k}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Z.exports={AbortError:T,aggregateTwoErrors:v(function D(E,N){if(E&&N&&E!==N){if(Array.isArray(N.errors))return N.errors.push(E),N;const M=new O([N,E],N.message);return M.code=N.code,M}return E||N}),hideStackFrames:v,codes:w}},3856:Z=>{"use strict";Z.exports={ArrayIsArray:A=>Array.isArray(A),ArrayPrototypeIncludes:(A,d)=>A.includes(d),ArrayPrototypeIndexOf:(A,d)=>A.indexOf(d),ArrayPrototypeJoin:(A,d)=>A.join(d),ArrayPrototypeMap:(A,d)=>A.map(d),ArrayPrototypePop:(A,d)=>A.pop(d),ArrayPrototypePush:(A,d)=>A.push(d),ArrayPrototypeSlice:(A,d,b)=>A.slice(d,b),Error,FunctionPrototypeCall:(A,d,...b)=>A.call(d,...b),FunctionPrototypeSymbolHasInstance:(A,d)=>Function.prototype[Symbol.hasInstance].call(A,d),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(A,d)=>Object.defineProperties(A,d),ObjectDefineProperty:(A,d,b)=>Object.defineProperty(A,d,b),ObjectGetOwnPropertyDescriptor:(A,d)=>Object.getOwnPropertyDescriptor(A,d),ObjectKeys:A=>Object.keys(A),ObjectSetPrototypeOf:(A,d)=>Object.setPrototypeOf(A,d),Promise,PromisePrototypeCatch:(A,d)=>A.catch(d),PromisePrototypeThen:(A,d,b)=>A.then(d,b),PromiseReject:A=>Promise.reject(A),PromiseResolve:A=>Promise.resolve(A),ReflectApply:Reflect.apply,RegExpPrototypeTest:(A,d)=>A.test(d),SafeSet:Set,String,StringPrototypeSlice:(A,d,b)=>A.slice(d,b),StringPrototypeToLowerCase:A=>A.toLowerCase(),StringPrototypeToUpperCase:A=>A.toUpperCase(),StringPrototypeTrim:A=>A.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(A,d,b)=>A.set(d,b),Boolean,Uint8Array}},5830:(Z,A,d)=>{"use strict";var b=d(9293).default;const S=d(9565),{kResistStopPropagation:R,SymbolDispose:O}=d(3856),P=globalThis.AbortSignal||d(9465).AbortSignal,y=globalThis.AbortController||d(9465).AbortController,u=Object.getPrototypeOf(b(function*(){})).constructor,c=globalThis.Blob||S.Blob,w=typeof c<"u"?function(v){return v instanceof c}:function(v){return!1},m=(g,v)=>{if(void 0!==g&&(null===g||"object"!=typeof g||!("aborted"in g)))throw new ERR_INVALID_ARG_TYPE(v,"AbortSignal",g)};class _ extends Error{constructor(v){if(!Array.isArray(v))throw new TypeError("Expected input to be an Array, got "+typeof v);let D="";for(let T=0;T<v.length;T++)D+=`    ${v[T].stack}\n`;super(D),this.name="AggregateError",this.errors=v}}Z.exports={AggregateError:_,kEmptyObject:Object.freeze({}),once(g){let v=!1;return function(...D){v||(v=!0,g.apply(this,D))}},createDeferredPromise:function(){let g,v;return{promise:new Promise((T,E)=>{g=T,v=E}),resolve:g,reject:v}},promisify:g=>new Promise((v,D)=>{g((T,...E)=>T?D(T):v(...E))}),debuglog:()=>function(){},format:(g,...v)=>g.replace(/%([sdifj])/g,function(...[D,T]){const E=v.shift();return"f"===T?E.toFixed(6):"j"===T?JSON.stringify(E):"s"===T&&"object"==typeof E?`${E.constructor!==Object?E.constructor.name:""} {}`.trim():E.toString()}),inspect(g){switch(typeof g){case"string":if(g.includes("'")){if(!g.includes('"'))return`"${g}"`;if(!g.includes("`")&&!g.includes("${"))return`\`${g}\``}return`'${g}'`;case"number":return isNaN(g)?"NaN":Object.is(g,-0)?String(g):g;case"bigint":return`${String(g)}n`;case"boolean":case"undefined":return String(g);case"object":return"{}"}},types:{isAsyncFunction:g=>g instanceof u,isArrayBufferView:g=>ArrayBuffer.isView(g)},isBlob:w,deprecate:(g,v)=>g,addAbortListener:d(4356).addAbortListener||function(v,D){if(void 0===v)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",v);let T;return m(v,"signal"),(g=>{if("function"!=typeof g)throw new ERR_INVALID_ARG_TYPE("listener","Function",g)})(D),v.aborted?queueMicrotask(()=>D()):(v.addEventListener("abort",D,{__proto__:null,once:!0,[R]:!0}),T=()=>{v.removeEventListener("abort",D)}),{__proto__:null,[O](){var E;null===(E=T)||void 0===E||E()}}},AbortSignalAny:P.any||function(v){if(1===v.length)return v[0];const D=new y,T=()=>D.abort();return v.forEach(E=>{m(E,"signals"),E.addEventListener("abort",T,{once:!0})}),D.signal.addEventListener("abort",()=>{v.forEach(E=>E.removeEventListener("abort",T))},{once:!0}),D.signal}},Z.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Z,A,d)=>{const{Buffer:b}=d(9565),{ObjectDefineProperty:S,ObjectKeys:R,ReflectApply:O}=d(3856),{promisify:{custom:P}}=d(5830),{streamReturningOperators:y,promiseReturningOperators:u}=d(7325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=d(5109),w=d(5464),{setDefaultHighWaterMark:m,getDefaultHighWaterMark:h}=d(1081),{pipeline:_}=d(6208),{destroyer:g}=d(5078),v=d(4268),T=d(9905),E=d(1233),N=Z.exports=d(2649).Stream;N.isDestroyed=E.isDestroyed,N.isDisturbed=E.isDisturbed,N.isErrored=E.isErrored,N.isReadable=E.isReadable,N.isWritable=E.isWritable,N.Readable=d(9710);for(const B of R(y)){let z=function(...Q){if(new.target)throw c();return N.Readable.from(O(L,this,Q))};const L=y[B];S(z,"name",{__proto__:null,value:L.name}),S(z,"length",{__proto__:null,value:L.length}),S(N.Readable.prototype,B,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}for(const B of R(u)){let z=function(...oe){if(new.target)throw c();return O(L,this,oe)};const L=u[B];S(z,"name",{__proto__:null,value:L.name}),S(z,"length",{__proto__:null,value:L.length}),S(N.Readable.prototype,B,{__proto__:null,value:z,enumerable:!1,configurable:!0,writable:!0})}N.Writable=d(258),N.Duplex=d(7464),N.Transform=d(6344),N.PassThrough=d(874),N.pipeline=_;const{addAbortSignal:M}=d(4785);N.addAbortSignal=M,N.finished=v,N.destroy=g,N.compose=w,N.setDefaultHighWaterMark=m,N.getDefaultHighWaterMark=h,S(N,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>T}),S(_,P,{__proto__:null,enumerable:!0,get:()=>T.pipeline}),S(v,P,{__proto__:null,enumerable:!0,get:()=>T.finished}),N.Stream=N,N._isUint8Array=function(L){return L instanceof Uint8Array},N._uint8ArrayToBuffer=function(L){return b.from(L.buffer,L.byteOffset,L.byteLength)}},9905:(Z,A,d)=>{"use strict";const{ArrayPrototypePop:b,Promise:S}=d(3856),{isIterable:R,isNodeStream:O,isWebStream:P}=d(1233),{pipelineImpl:y}=d(6208),{finished:u}=d(4268);d(3052),Z.exports={finished:u,pipeline:function c(...w){return new S((m,h)=>{let _,g;const v=w[w.length-1];if(v&&"object"==typeof v&&!O(v)&&!R(v)&&!P(v)){const D=b(w);_=D.signal,g=D.end}y(w,(D,T)=>{D?h(D):m(T)},{signal:_,end:g})})}}},9465:Z=>{"use strict";const{AbortController:A,AbortSignal:d}=typeof self<"u"?self:typeof window<"u"?window:void 0;Z.exports=A,Z.exports.AbortSignal=d,Z.exports.default=A},1463:(Z,A,d)=>{"use strict";const{fromCallback:b}=d(2381),S=d(1747),{getCallback:R,getOptions:O}=d(2856),P=Symbol("promise"),y=Symbol("status"),u=Symbol("operations"),c=Symbol("finishClose"),w=Symbol("closeCallbacks");A.AbstractChainedBatch=class m{constructor(_){if("object"!=typeof _||null===_)throw new TypeError("The first argument must be an abstract-level database, received "+(null===_?"null":typeof _));this[u]=[],this[w]=[],this[y]="open",this[c]=this[c].bind(this),this.db=_,this.db.attachResource(this),this.nextTick=_.nextTick}get length(){return this[u].length}put(_,g,v){if("open"!==this[y])throw new S("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const D=this.db._checkKey(_)||this.db._checkValue(g);if(D)throw D;const T=v&&null!=v.sublevel?v.sublevel:this.db,E=v,N=T.keyEncoding(v&&v.keyEncoding),M=T.valueEncoding(v&&v.valueEncoding),k=N.format;v={...v,keyEncoding:k,valueEncoding:M.format},T!==this.db&&(v.sublevel=null);const B=T.prefixKey(N.encode(_),k),L=M.encode(g);return this._put(B,L,v),this[u].push({...E,type:"put",key:_,value:g}),this}_put(_,g,v){}del(_,g){if("open"!==this[y])throw new S("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const v=this.db._checkKey(_);if(v)throw v;const D=g&&null!=g.sublevel?g.sublevel:this.db,T=g,E=D.keyEncoding(g&&g.keyEncoding),N=E.format;return g={...g,keyEncoding:N},D!==this.db&&(g.sublevel=null),this._del(D.prefixKey(E.encode(_),N),g),this[u].push({...T,type:"del",key:_}),this}_del(_,g){}clear(){if("open"!==this[y])throw new S("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[u]=[],this}_clear(){}write(_,g){return g=R(_,g),g=b(g,P),_=O(_),"open"!==this[y]?this.nextTick(g,new S("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(g):(this[y]="writing",this._write(_,v=>{this[y]="closing",this[w].push(()=>g(v)),v||this.db.emit("batch",this[u]),this._close(this[c])})),g[P]}_write(_,g){}close(_){return _=b(_,P),"closing"===this[y]?this[w].push(_):"closed"===this[y]?this.nextTick(_):(this[w].push(_),"writing"!==this[y]&&(this[y]="closing",this._close(this[c]))),_[P]}_close(_){this.nextTick(_)}[c](){this[y]="closed",this.db.detachResource(this);const _=this[w];this[w]=[];for(const g of _)g()}}},3294:(Z,A,d)=>{"use strict";var b=d(3344).default,S=d(2958).default;const{fromCallback:R}=d(2381),O=d(1747),{getOptions:P,getCallback:y}=d(2856),u=Symbol("promise"),c=Symbol("callback"),w=Symbol("working"),m=Symbol("handleOne"),h=Symbol("handleMany"),_=Symbol("autoClose"),g=Symbol("finishWork"),v=Symbol("returnMany"),D=Symbol("closing"),T=Symbol("handleClose"),E=Symbol("closed"),N=Symbol("closeCallbacks"),M=Symbol("keyEncoding"),k=Symbol("valueEncoding"),B=Symbol("abortOnClose"),L=Symbol("legacy"),z=Symbol("keys"),Q=Symbol("values"),oe=Symbol("limit"),j=Symbol("count"),ne=Object.freeze({}),K=()=>{};let te=!1;class le{constructor(Ee,I,$){if("object"!=typeof Ee||null===Ee)throw new TypeError("The first argument must be an abstract-level database, received "+(null===Ee?"null":typeof Ee));if("object"!=typeof I||null===I)throw new TypeError("The second argument must be an options object");this[E]=!1,this[N]=[],this[w]=!1,this[D]=!1,this[_]=!1,this[c]=null,this[m]=this[m].bind(this),this[h]=this[h].bind(this),this[T]=this[T].bind(this),this[M]=I[M],this[k]=I[k],this[L]=$,this[oe]=Number.isInteger(I.limit)&&I.limit>=0?I.limit:1/0,this[j]=0,this[B]=!!I.abortOnClose,this.db=Ee,this.db.attachResource(this),this.nextTick=Ee.nextTick}get count(){return this[j]}get limit(){return this[oe]}next(Ee){let I;if(void 0===Ee)I=new Promise(($,q)=>{Ee=(G,re,ye)=>{G?q(G):this[L]?void 0===re&&void 0===ye?$():$([re,ye]):$(re)}});else if("function"!=typeof Ee)throw new TypeError("Callback must be a function");return this[D]?this.nextTick(Ee,new O("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[w]?this.nextTick(Ee,new O("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[w]=!0,this[c]=Ee,this[j]>=this[oe]?this.nextTick(this[m],null):this._next(this[m])),I}_next(Ee){this.nextTick(Ee)}nextv(Ee,I,$){return $=y(I,$),$=R($,u),I=P(I,ne),Number.isInteger(Ee)?(this[D]?this.nextTick($,new O("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[w]?this.nextTick($,new O("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(Ee<1&&(Ee=1),this[oe]<1/0&&(Ee=Math.min(Ee,this[oe]-this[j])),this[w]=!0,this[c]=$,Ee<=0?this.nextTick(this[h],null,[]):this._nextv(Ee,I,this[h])),$[u]):(this.nextTick($,new TypeError("The first argument 'size' must be an integer")),$[u])}_nextv(Ee,I,$){const q=[],G=(re,ye,me)=>re?$(re):(this[L]?void 0===ye&&void 0===me:void 0===ye)?$(null,q):(q.push(this[L]?[ye,me]:ye),void(q.length===Ee?$(null,q):this._next(G)));this._next(G)}all(Ee,I){return I=y(Ee,I),I=R(I,u),Ee=P(Ee,ne),this[D]?this.nextTick(I,new O("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[w]?this.nextTick(I,new O("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[w]=!0,this[c]=I,this[_]=!0,this[j]>=this[oe]?this.nextTick(this[h],null,[]):this._all(Ee,this[h])),I[u]}_all(Ee,I){let $=this[j];const q=[],G=()=>{const ye=this[oe]<1/0?Math.min(1e3,this[oe]-$):1e3;ye<=0?this.nextTick(I,null,q):this._nextv(ye,ne,re)},re=(ye,me)=>{ye?I(ye):0===me.length?I(null,q):(q.push.apply(q,me),$+=me.length,G())};G()}[g](){const Ee=this[c];return this[B]&&null===Ee?K:(this[w]=!1,this[c]=null,this[D]&&this._close(this[T]),Ee)}[v](Ee,I,$){this[_]?this.close(Ee.bind(null,I,$)):Ee(I,$)}seek(Ee,I){if(I=P(I,ne),!this[D]){if(this[w])throw new O("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const $=this.db.keyEncoding(I.keyEncoding||this[M]),q=$.format;I.keyEncoding!==q&&(I={...I,keyEncoding:q});const G=this.db.prefixKey($.encode(Ee),q);this._seek(G,I)}}}_seek(Ee,I){throw new O("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(Ee){return Ee=R(Ee,u),this[E]?this.nextTick(Ee):this[D]?this[N].push(Ee):(this[D]=!0,this[N].push(Ee),this[w]?this[B]&&this[g]()(new O("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[T])),Ee[u]}_close(Ee){this.nextTick(Ee)}[T](){this[E]=!0,this.db.detachResource(this);const Ee=this[N];this[N]=[];for(const I of Ee)I()}[Symbol.asyncIterator](){var Ee=this;return S(function*(){try{let I;for(;void 0!==(I=yield b(Ee.next()));)yield I}finally{Ee[E]||(yield b(Ee.close()))}})()}}class Fe extends le{constructor(Ee,I){super(Ee,I,!0),this[z]=!1!==I.keys,this[Q]=!1!==I.values}[m](Ee,I,$){const q=this[g]();if(Ee)return q(Ee);try{I=this[z]&&void 0!==I?this[M].decode(I):void 0,$=this[Q]&&void 0!==$?this[k].decode($):void 0}catch(G){return q(new Ie("entry",G))}void 0===I&&void 0===$||this[j]++,q(null,I,$)}[h](Ee,I){const $=this[g]();if(Ee)return this[v]($,Ee);try{for(const q of I){const G=q[0],re=q[1];q[0]=this[z]&&void 0!==G?this[M].decode(G):void 0,q[1]=this[Q]&&void 0!==re?this[k].decode(re):void 0}}catch(q){return this[v]($,new Ie("entries",q))}this[j]+=I.length,this[v]($,null,I)}end(Ee){return!te&&typeof console<"u"&&(te=!0,console.warn(new O("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(Ee)}}class Ie extends O{constructor(Ee,I){super(`Iterator could not decode ${Ee}`,{code:"LEVEL_DECODE_ERROR",cause:I})}}for(const ae of["_ended property","_nexting property","_end method"])Object.defineProperty(Fe.prototype,ae.split(" ")[0],{get(){throw new O(`The ${ae} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new O(`The ${ae} has been removed`,{code:"LEVEL_LEGACY"})}});Fe.keyEncoding=M,Fe.valueEncoding=k,A.AbstractIterator=Fe,A.AbstractKeyIterator=class J extends le{constructor(Ee,I){super(Ee,I,!1)}[m](Ee,I){const $=this[g]();if(Ee)return $(Ee);try{I=void 0!==I?this[M].decode(I):void 0}catch(q){return $(new Ie("key",q))}void 0!==I&&this[j]++,$(null,I)}[h](Ee,I){const $=this[g]();if(Ee)return this[v]($,Ee);try{for(let q=0;q<I.length;q++){const G=I[q];I[q]=void 0!==G?this[M].decode(G):void 0}}catch(q){return this[v]($,new Ie("keys",q))}this[j]+=I.length,this[v]($,null,I)}},A.AbstractValueIterator=class de extends le{constructor(Ee,I){super(Ee,I,!1)}[m](Ee,I){const $=this[g]();if(Ee)return $(Ee);try{I=void 0!==I?this[k].decode(I):void 0}catch(q){return $(new Ie("value",q))}void 0!==I&&this[j]++,$(null,I)}[h](Ee,I){const $=this[g]();if(Ee)return this[v]($,Ee);try{for(let q=0;q<I.length;q++){const G=I[q];I[q]=void 0!==G?this[k].decode(G):void 0}}catch(q){return this[v]($,new Ie("values",q))}this[j]+=I.length,this[v]($,null,I)}}},3764:(Z,A,d)=>{"use strict";const{supports:b}=d(9061),{Transcoder:S}=d(5006),{EventEmitter:R}=d(4356),{fromCallback:O}=d(2381),P=d(1747),{AbstractIterator:y}=d(3294),{DefaultKeyIterator:u,DefaultValueIterator:c}=d(8335),{DeferredIterator:w,DeferredKeyIterator:m,DeferredValueIterator:h}=d(2745),{DefaultChainedBatch:_}=d(5776),{getCallback:g,getOptions:v}=d(2856),D=d(4287),T=Symbol("promise"),E=Symbol("landed"),N=Symbol("resources"),M=Symbol("closeResources"),k=Symbol("operations"),B=Symbol("undefer"),L=Symbol("deferOpen"),z=Symbol("options"),Q=Symbol("status"),oe=Symbol("defaultOptions"),j=Symbol("transcoder"),ne=Symbol("keyEncoding"),K=Symbol("valueEncoding"),te=()=>{};class le extends R{constructor(ae,Ee){if(super(),"object"!=typeof ae||null===ae)throw new TypeError("The first argument 'manifest' must be an object");Ee=v(Ee);const{keyEncoding:I,valueEncoding:$,passive:q,...G}=Ee;this[N]=new Set,this[k]=[],this[L]=!0,this[z]=G,this[Q]="opening",this.supports=b(ae,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==ae.snapshots,permanence:!1!==ae.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:ae.encodings||{},events:Object.assign({},ae.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[j]=new S(de(this)),this[ne]=this[j].encoding(I||"utf8"),this[K]=this[j].encoding($||"utf8");for(const re of this[j].encodings())this.supports.encodings[re.commonName]||(this.supports.encodings[re.commonName]=!0);this[oe]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[ne].commonName,valueEncoding:this[K].commonName}),key:Object.freeze({keyEncoding:this[ne].commonName})},this.nextTick(()=>{this[L]&&this.open({passive:!1},te)})}get status(){return this[Q]}keyEncoding(ae){return this[j].encoding(ae??this[ne])}valueEncoding(ae){return this[j].encoding(ae??this[K])}open(ae,Ee){Ee=g(ae,Ee),Ee=O(Ee,T),(ae={...this[z],...v(ae)}).createIfMissing=!1!==ae.createIfMissing,ae.errorIfExists=!!ae.errorIfExists;const I=$=>{"closing"===this[Q]||"opening"===this[Q]?this.once(E,$?()=>I($):I):"open"!==this[Q]?Ee(new P("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:$})):Ee()};return ae.passive?"opening"===this[Q]?this.once(E,I):this.nextTick(I):"closed"===this[Q]||this[L]?(this[L]=!1,this[Q]="opening",this.emit("opening"),this._open(ae,$=>{if($)return this[Q]="closed",this[M](()=>{this.emit(E),I($)}),void this[B]();this[Q]="open",this[B](),this.emit(E),"open"===this[Q]&&this.emit("open"),"open"===this[Q]&&this.emit("ready"),I()})):"open"===this[Q]?this.nextTick(I):this.once(E,()=>this.open(ae,Ee)),Ee[T]}_open(ae,Ee){this.nextTick(Ee)}close(ae){ae=O(ae,T);const Ee=I=>{"opening"===this[Q]||"closing"===this[Q]?this.once(E,I?Ee(I):Ee):"closed"!==this[Q]?ae(new P("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:I})):ae()};if("open"===this[Q]){this[Q]="closing",this.emit("closing");const I=$=>{this[Q]="open",this[B](),this.emit(E),Ee($)};this[M](()=>{this._close($=>{if($)return I($);this[Q]="closed",this[B](),this.emit(E),"closed"===this[Q]&&this.emit("closed"),Ee()})})}else"closed"===this[Q]?this.nextTick(Ee):this.once(E,()=>this.close(ae));return ae[T]}[M](ae){if(0===this[N].size)return this.nextTick(ae);let Ee=this[N].size,I=!0;const $=()=>{0==--Ee&&(I?this.nextTick(ae):ae())};for(const q of this[N])q.close($);I=!1,this[N].clear()}_close(ae){this.nextTick(ae)}get(ae,Ee,I){if(I=g(Ee,I),I=O(I,T),Ee=v(Ee,this[oe].entry),"opening"===this[Q])return this.defer(()=>this.get(ae,Ee,I)),I[T];if(J(this,I))return I[T];const $=this._checkKey(ae);if($)return this.nextTick(I,$),I[T];const q=this.keyEncoding(Ee.keyEncoding),G=this.valueEncoding(Ee.valueEncoding),re=q.format,ye=G.format;return(Ee.keyEncoding!==re||Ee.valueEncoding!==ye)&&(Ee=Object.assign({},Ee,{keyEncoding:re,valueEncoding:ye})),this._get(this.prefixKey(q.encode(ae),re),Ee,(me,Me)=>{if(me)return("LEVEL_NOT_FOUND"===me.code||me.notFound||/NotFound/i.test(me))&&(me.code||(me.code="LEVEL_NOT_FOUND"),me.notFound||(me.notFound=!0),me.status||(me.status=404)),I(me);try{Me=G.decode(Me)}catch(Se){return I(new P("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Se}))}I(null,Me)}),I[T]}_get(ae,Ee,I){this.nextTick(I,new Error("NotFound"))}getMany(ae,Ee,I){if(I=g(Ee,I),I=O(I,T),Ee=v(Ee,this[oe].entry),"opening"===this[Q])return this.defer(()=>this.getMany(ae,Ee,I)),I[T];if(J(this,I))return I[T];if(!Array.isArray(ae))return this.nextTick(I,new TypeError("The first argument 'keys' must be an array")),I[T];if(0===ae.length)return this.nextTick(I,null,[]),I[T];const $=this.keyEncoding(Ee.keyEncoding),q=this.valueEncoding(Ee.valueEncoding),G=$.format,re=q.format;(Ee.keyEncoding!==G||Ee.valueEncoding!==re)&&(Ee=Object.assign({},Ee,{keyEncoding:G,valueEncoding:re}));const ye=new Array(ae.length);for(let me=0;me<ae.length;me++){const Me=ae[me],Se=this._checkKey(Me);if(Se)return this.nextTick(I,Se),I[T];ye[me]=this.prefixKey($.encode(Me),G)}return this._getMany(ye,Ee,(me,Me)=>{if(me)return I(me);try{for(let Se=0;Se<Me.length;Se++)void 0!==Me[Se]&&(Me[Se]=q.decode(Me[Se]))}catch(Se){return I(new P(`Could not decode one or more of ${Me.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Se}))}I(null,Me)}),I[T]}_getMany(ae,Ee,I){this.nextTick(I,null,new Array(ae.length).fill(void 0))}put(ae,Ee,I,$){if($=g(I,$),$=O($,T),I=v(I,this[oe].entry),"opening"===this[Q])return this.defer(()=>this.put(ae,Ee,I,$)),$[T];if(J(this,$))return $[T];const q=this._checkKey(ae)||this._checkValue(Ee);if(q)return this.nextTick($,q),$[T];const G=this.keyEncoding(I.keyEncoding),re=this.valueEncoding(I.valueEncoding),ye=G.format,me=re.format;(I.keyEncoding!==ye||I.valueEncoding!==me)&&(I=Object.assign({},I,{keyEncoding:ye,valueEncoding:me}));const Me=this.prefixKey(G.encode(ae),ye),Se=re.encode(Ee);return this._put(Me,Se,I,Ye=>{if(Ye)return $(Ye);this.emit("put",ae,Ee),$()}),$[T]}_put(ae,Ee,I,$){this.nextTick($)}del(ae,Ee,I){if(I=g(Ee,I),I=O(I,T),Ee=v(Ee,this[oe].key),"opening"===this[Q])return this.defer(()=>this.del(ae,Ee,I)),I[T];if(J(this,I))return I[T];const $=this._checkKey(ae);if($)return this.nextTick(I,$),I[T];const q=this.keyEncoding(Ee.keyEncoding),G=q.format;return Ee.keyEncoding!==G&&(Ee=Object.assign({},Ee,{keyEncoding:G})),this._del(this.prefixKey(q.encode(ae),G),Ee,re=>{if(re)return I(re);this.emit("del",ae),I()}),I[T]}_del(ae,Ee,I){this.nextTick(I)}batch(ae,Ee,I){if(!arguments.length){if("opening"===this[Q])return new _(this);if("open"!==this[Q])throw new P("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(I="function"==typeof ae?ae:g(Ee,I),I=O(I,T),Ee=v(Ee,this[oe].empty),"opening"===this[Q])return this.defer(()=>this.batch(ae,Ee,I)),I[T];if(J(this,I))return I[T];if(!Array.isArray(ae))return this.nextTick(I,new TypeError("The first argument 'operations' must be an array")),I[T];if(0===ae.length)return this.nextTick(I),I[T];const $=new Array(ae.length),{keyEncoding:q,valueEncoding:G,...re}=Ee;for(let ye=0;ye<ae.length;ye++){if("object"!=typeof ae[ye]||null===ae[ye])return this.nextTick(I,new TypeError("A batch operation must be an object")),I[T];const me=Object.assign({},ae[ye]);if("put"!==me.type&&"del"!==me.type)return this.nextTick(I,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),I[T];const Me=this._checkKey(me.key);if(Me)return this.nextTick(I,Me),I[T];const Se=null!=me.sublevel?me.sublevel:this,Ye=Se.keyEncoding(me.keyEncoding||q),gt=Ye.format;if(me.key=Se.prefixKey(Ye.encode(me.key),gt),me.keyEncoding=gt,"put"===me.type){const Ke=this._checkValue(me.value);if(Ke)return this.nextTick(I,Ke),I[T];const Ge=Se.valueEncoding(me.valueEncoding||G);me.value=Ge.encode(me.value),me.valueEncoding=Ge.format}Se!==this&&(me.sublevel=null),$[ye]=me}return this._batch($,re,ye=>{if(ye)return I(ye);this.emit("batch",ae),I()}),I[T]}_batch(ae,Ee,I){this.nextTick(I)}sublevel(ae,Ee){return this._sublevel(ae,Fe.defaults(Ee))}_sublevel(ae,Ee){return new Fe(this,ae,Ee)}prefixKey(ae,Ee){return ae}clear(ae,Ee){if(Ee=g(ae,Ee),Ee=O(Ee,T),ae=v(ae,this[oe].empty),"opening"===this[Q])return this.defer(()=>this.clear(ae,Ee)),Ee[T];if(J(this,Ee))return Ee[T];const I=ae,$=this.keyEncoding(ae.keyEncoding);return(ae=D(ae,$)).keyEncoding=$.format,0===ae.limit?this.nextTick(Ee):this._clear(ae,q=>{if(q)return Ee(q);this.emit("clear",I),Ee()}),Ee[T]}_clear(ae,Ee){this.nextTick(Ee)}iterator(ae){const Ee=this.keyEncoding(ae&&ae.keyEncoding),I=this.valueEncoding(ae&&ae.valueEncoding);if((ae=D(ae,Ee)).keys=!1!==ae.keys,ae.values=!1!==ae.values,ae[y.keyEncoding]=Ee,ae[y.valueEncoding]=I,ae.keyEncoding=Ee.format,ae.valueEncoding=I.format,"opening"===this[Q])return new w(this,ae);if("open"!==this[Q])throw new P("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(ae)}_iterator(ae){return new y(this,ae)}keys(ae){const Ee=this.keyEncoding(ae&&ae.keyEncoding),I=this.valueEncoding(ae&&ae.valueEncoding);if((ae=D(ae,Ee))[y.keyEncoding]=Ee,ae[y.valueEncoding]=I,ae.keyEncoding=Ee.format,ae.valueEncoding=I.format,"opening"===this[Q])return new m(this,ae);if("open"!==this[Q])throw new P("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(ae)}_keys(ae){return new u(this,ae)}values(ae){const Ee=this.keyEncoding(ae&&ae.keyEncoding),I=this.valueEncoding(ae&&ae.valueEncoding);if((ae=D(ae,Ee))[y.keyEncoding]=Ee,ae[y.valueEncoding]=I,ae.keyEncoding=Ee.format,ae.valueEncoding=I.format,"opening"===this[Q])return new h(this,ae);if("open"!==this[Q])throw new P("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(ae)}_values(ae){return new c(this,ae)}defer(ae){if("function"!=typeof ae)throw new TypeError("The first argument must be a function");this[k].push(ae)}[B](){if(0===this[k].length)return;const ae=this[k];this[k]=[];for(const Ee of ae)Ee()}attachResource(ae){if("object"!=typeof ae||null===ae||"function"!=typeof ae.close)throw new TypeError("The first argument must be a resource object");this[N].add(ae)}detachResource(ae){this[N].delete(ae)}_chainedBatch(){return new _(this)}_checkKey(ae){if(null==ae)return new P("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(ae){if(null==ae)return new P("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}le.prototype.nextTick=d(4585);const{AbstractSublevel:Fe}=d(5416)({AbstractLevel:le});A.AbstractLevel=le,A.AbstractSublevel=Fe;const J=function(Ie,ae){return"open"!==Ie[Q]&&(Ie.nextTick(ae,new P("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},de=function(Ie){return Object.keys(Ie.supports.encodings).filter(ae=>!!Ie.supports.encodings[ae])}},5929:(Z,A,d)=>{"use strict";A.AbstractLevel=d(3764).AbstractLevel,A.AbstractSublevel=d(3764).AbstractSublevel,A.AbstractIterator=d(3294).AbstractIterator,A.AbstractKeyIterator=d(3294).AbstractKeyIterator,A.AbstractValueIterator=d(3294).AbstractValueIterator,A.AbstractChainedBatch=d(1463).AbstractChainedBatch},7519:(Z,A,d)=>{"use strict";const{AbstractIterator:b,AbstractKeyIterator:S,AbstractValueIterator:R}=d(3294),O=Symbol("unfix"),P=Symbol("iterator"),y=Symbol("handleOne"),u=Symbol("handleMany"),c=Symbol("callback");class w extends b{constructor(g,v,D,T){super(g,v),this[P]=D,this[O]=T,this[y]=this[y].bind(this),this[u]=this[u].bind(this),this[c]=null}[y](g,v,D){const T=this[c];if(g)return T(g);void 0!==v&&(v=this[O](v)),T(g,v,D)}[u](g,v){const D=this[c];if(g)return D(g);for(const T of v){const E=T[0];void 0!==E&&(T[0]=this[O](E))}D(g,v)}}class m extends S{constructor(g,v,D,T){super(g,v),this[P]=D,this[O]=T,this[y]=this[y].bind(this),this[u]=this[u].bind(this),this[c]=null}[y](g,v){const D=this[c];if(g)return D(g);void 0!==v&&(v=this[O](v)),D(g,v)}[u](g,v){const D=this[c];if(g)return D(g);for(let T=0;T<v.length;T++){const E=v[T];void 0!==E&&(v[T]=this[O](E))}D(g,v)}}class h extends R{constructor(g,v,D){super(g,v),this[P]=D}}for(const _ of[w,m])_.prototype._next=function(g){this[c]=g,this[P].next(this[y])},_.prototype._nextv=function(g,v,D){this[c]=D,this[P].nextv(g,v,this[u])},_.prototype._all=function(g,v){this[c]=v,this[P].all(g,this[u])};for(const _ of[h])_.prototype._next=function(g){this[P].next(g)},_.prototype._nextv=function(g,v,D){this[P].nextv(g,v,D)},_.prototype._all=function(g,v){this[P].all(g,v)};for(const _ of[w,m,h])_.prototype._seek=function(g,v){this[P].seek(g,v)},_.prototype._close=function(g){this[P].close(g)};A.AbstractSublevelIterator=w,A.AbstractSublevelKeyIterator=m,A.AbstractSublevelValueIterator=h},5416:(Z,A,d)=>{"use strict";const b=d(1747),{Buffer:S}=d(1067)||{},{AbstractSublevelIterator:R,AbstractSublevelKeyIterator:O,AbstractSublevelValueIterator:P}=d(7519),y=Symbol("prefix"),u=Symbol("upperBound"),c=Symbol("prefixRange"),w=Symbol("parent"),m=Symbol("unfix"),h=new TextEncoder,_={separator:"!"};Z.exports=function({AbstractLevel:N}){class M extends N{static defaults(B){if("string"==typeof B)throw new b("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(B&&B.open)throw new b("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==B?_:B.separator?B:{...B,separator:"!"}}constructor(B,L,z){const{separator:Q,manifest:oe,...j}=M.defaults(z);L=E(L,Q);const ne=Q.charCodeAt(0)+1,K=B[w]||B;if(!h.encode(L).every(Fe=>Fe>ne&&Fe<127))throw new b(`Prefix must use bytes > ${ne} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(g(K,oe),j);const te=(B.prefix||"")+Q+L+Q,le=te.slice(0,-1)+String.fromCharCode(ne);this[w]=K,this[y]=new D(te),this[u]=new D(le),this[m]=new T,this.nextTick=K.nextTick}prefixKey(B,L){if("utf8"===L)return this[y].utf8+B;if(0===B.byteLength)return this[y][L];if("view"===L){const z=this[y].view,Q=new Uint8Array(z.byteLength+B.byteLength);return Q.set(z,0),Q.set(B,z.byteLength),Q}{const z=this[y].buffer;return S.concat([z,B],z.byteLength+B.byteLength)}}[c](B,L){void 0!==B.gte?B.gte=this.prefixKey(B.gte,L):void 0!==B.gt?B.gt=this.prefixKey(B.gt,L):B.gte=this[y][L],void 0!==B.lte?B.lte=this.prefixKey(B.lte,L):void 0!==B.lt?B.lt=this.prefixKey(B.lt,L):B.lte=this[u][L]}get prefix(){return this[y].utf8}get db(){return this[w]}_open(B,L){this[w].open({passive:!0},L)}_put(B,L,z,Q){this[w].put(B,L,z,Q)}_get(B,L,z){this[w].get(B,L,z)}_getMany(B,L,z){this[w].getMany(B,L,z)}_del(B,L,z){this[w].del(B,L,z)}_batch(B,L,z){this[w].batch(B,L,z)}_clear(B,L){this[c](B,B.keyEncoding),this[w].clear(B,L)}_iterator(B){this[c](B,B.keyEncoding);const L=this[w].iterator(B),z=this[m].get(this[y].utf8.length,B.keyEncoding);return new R(this,B,L,z)}_keys(B){this[c](B,B.keyEncoding);const L=this[w].keys(B),z=this[m].get(this[y].utf8.length,B.keyEncoding);return new O(this,B,L,z)}_values(B){this[c](B,B.keyEncoding);const L=this[w].values(B);return new P(this,B,L)}}return{AbstractSublevel:M}};const g=function(N,M){return{...N.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...M,encodings:{utf8:v(N,"utf8"),buffer:v(N,"buffer"),view:v(N,"view")}}},v=function(N,M){return!!N.supports.encodings[M]&&N.keyEncoding(M).name===M};class D{constructor(M){this.utf8=M,this.view=h.encode(M),this.buffer=S?S.from(this.view.buffer,0,this.view.byteLength):{}}}class T{constructor(){this.cache=new Map}get(M,k){let B=this.cache.get(k);return void 0===B&&(B="view"===k?function(L,z){return z.subarray(L)}.bind(null,M):function(L,z){return z.slice(L)}.bind(null,M),this.cache.set(k,B)),B}}const E=function(N,M){let k=0,B=N.length;for(;k<B&&N[k]===M;)k++;for(;B>k&&N[B-1]===M;)B--;return N.slice(k,B)}},2856:(Z,A)=>{"use strict";A.getCallback=function(d,b){return"function"==typeof d?d:b},A.getOptions=function(d,b){return"object"==typeof d&&null!==d?d:void 0!==b?b:{}}},5776:(Z,A,d)=>{"use strict";const{AbstractChainedBatch:b}=d(1463),S=d(1747),R=Symbol("encoded");A.DefaultChainedBatch=class O extends b{constructor(y){super(y),this[R]=[]}_put(y,u,c){this[R].push({...c,type:"put",key:y,value:u})}_del(y,u){this[R].push({...u,type:"del",key:y})}_clear(){this[R]=[]}_write(y,u){"opening"===this.db.status?this.db.defer(()=>this._write(y,u)):"open"===this.db.status?0===this[R].length?this.nextTick(u):this.db._batch(this[R],y,u):this.nextTick(u,new S("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},8335:(Z,A,d)=>{"use strict";const{AbstractKeyIterator:b,AbstractValueIterator:S}=d(3294),R=Symbol("iterator"),O=Symbol("callback"),P=Symbol("handleOne"),y=Symbol("handleMany");class u extends b{constructor(m,h){super(m,h),this[R]=m.iterator({...h,keys:!0,values:!1}),this[P]=this[P].bind(this),this[y]=this[y].bind(this)}}class c extends S{constructor(m,h){super(m,h),this[R]=m.iterator({...h,keys:!1,values:!0}),this[P]=this[P].bind(this),this[y]=this[y].bind(this)}}for(const w of[u,c]){const m=w===u,h=m?_=>_[0]:_=>_[1];w.prototype._next=function(_){this[O]=_,this[R].next(this[P])},w.prototype[P]=function(_,g,v){const D=this[O];_?D(_):D(null,m?g:v)},w.prototype._nextv=function(_,g,v){this[O]=v,this[R].nextv(_,g,this[y])},w.prototype._all=function(_,g){this[O]=g,this[R].all(_,this[y])},w.prototype[y]=function(_,g){const v=this[O];_?v(_):v(null,g.map(h))},w.prototype._seek=function(_,g){this[R].seek(_,g)},w.prototype._close=function(_){this[R].close(_)}}A.DefaultKeyIterator=u,A.DefaultValueIterator=c},2745:(Z,A,d)=>{"use strict";const{AbstractIterator:b,AbstractKeyIterator:S,AbstractValueIterator:R}=d(3294),O=d(1747),P=Symbol("nut"),y=Symbol("undefer"),u=Symbol("factory");class c extends b{constructor(_,g){super(_,g),this[P]=null,this[u]=()=>_.iterator(g),this.db.defer(()=>this[y]())}}class w extends S{constructor(_,g){super(_,g),this[P]=null,this[u]=()=>_.keys(g),this.db.defer(()=>this[y]())}}class m extends R{constructor(_,g){super(_,g),this[P]=null,this[u]=()=>_.values(g),this.db.defer(()=>this[y]())}}for(const h of[c,w,m])h.prototype[y]=function(){"open"===this.db.status&&(this[P]=this[u]())},h.prototype._next=function(_){null!==this[P]?this[P].next(_):"opening"===this.db.status?this.db.defer(()=>this._next(_)):this.nextTick(_,new O("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},h.prototype._nextv=function(_,g,v){null!==this[P]?this[P].nextv(_,g,v):"opening"===this.db.status?this.db.defer(()=>this._nextv(_,g,v)):this.nextTick(v,new O("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},h.prototype._all=function(_,g){null!==this[P]?this[P].all(g):"opening"===this.db.status?this.db.defer(()=>this._all(_,g)):this.nextTick(g,new O("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},h.prototype._seek=function(_,g){null!==this[P]?this[P]._seek(_,g):"opening"===this.db.status&&this.db.defer(()=>this._seek(_,g))},h.prototype._close=function(_){null!==this[P]?this[P].close(_):"opening"===this.db.status?this.db.defer(()=>this._close(_)):this.nextTick(_)};A.DeferredIterator=c,A.DeferredKeyIterator=w,A.DeferredValueIterator=m},4585:(Z,A,d)=>{"use strict";const b=d(4515);Z.exports=function(S,...R){b(0===R.length?S:()=>S(...R))}},4287:(Z,A,d)=>{"use strict";const b=d(1747),S=Object.prototype.hasOwnProperty,R=new Set(["lt","lte","gt","gte"]);Z.exports=function(O,P){const y={};for(const u in O)if(S.call(O,u)&&"keyEncoding"!==u&&"valueEncoding"!==u){if("start"===u||"end"===u)throw new b(`The legacy range option '${u}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===u)throw new b("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});y[u]=R.has(u)?P.encode(O[u]):O[u]}return y.reverse=!!y.reverse,y.limit=Number.isInteger(y.limit)&&y.limit>=0?y.limit:-1,y}},1067:(Z,A,d)=>{"use strict";const b=d(3981),S=d(2020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=u,A.SlowBuffer=function N(F){return+F!=F&&(F=0),u.alloc(+F)},A.INSPECT_MAX_BYTES=50;const O=2147483647;function y(F){if(F>O)throw new RangeError('The value "'+F+'" is invalid for option "size"');const l=new Uint8Array(F);return Object.setPrototypeOf(l,u.prototype),l}function u(F,l,f){if("number"==typeof F){if("string"==typeof l)throw new TypeError('The "string" argument must be of type string. Received type number');return h(F)}return c(F,l,f)}function c(F,l,f){if("string"==typeof F)return function _(F,l){if(("string"!=typeof l||""===l)&&(l="utf8"),!u.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=0|M(F,l);let V=y(f);const X=V.write(F,l);return X!==f&&(V=V.slice(0,X)),V}(F,l);if(ArrayBuffer.isView(F))return function v(F){if(Ne(F,Uint8Array)){const l=new Uint8Array(F);return D(l.buffer,l.byteOffset,l.byteLength)}return g(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ne(F,ArrayBuffer)||F&&Ne(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(F,SharedArrayBuffer)||F&&Ne(F.buffer,SharedArrayBuffer)))return D(F,l,f);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const V=F.valueOf&&F.valueOf();if(null!=V&&V!==F)return u.from(V,l,f);const X=function T(F){if(u.isBuffer(F)){const l=0|E(F.length),f=y(l);return 0===f.length||F.copy(f,0,0,l),f}return void 0!==F.length?"number"!=typeof F.length||Qe(F.length)?y(0):g(F):"Buffer"===F.type&&Array.isArray(F.data)?g(F.data):void 0}(F);if(X)return X;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return u.from(F[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function w(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function h(F){return w(F),y(F<0?0:0|E(F))}function g(F){const l=F.length<0?0:0|E(F.length),f=y(l);for(let V=0;V<l;V+=1)f[V]=255&F[V];return f}function D(F,l,f){if(l<0||F.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let V;return V=void 0===l&&void 0===f?new Uint8Array(F):void 0===f?new Uint8Array(F,l):new Uint8Array(F,l,f),Object.setPrototypeOf(V,u.prototype),V}function E(F){if(F>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return 0|F}function M(F,l){if(u.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ne(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const f=F.length,V=arguments.length>2&&!0===arguments[2];if(!V&&0===f)return 0;let X=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return W(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*f;case"hex":return f>>>1;case"base64":return he(F).length;default:if(X)return V?-1:W(F).length;l=(""+l).toLowerCase(),X=!0}}function k(F,l,f){let V=!1;if((void 0===l||l<0)&&(l=0),l>this.length||((void 0===f||f>this.length)&&(f=this.length),f<=0)||(f>>>=0)<=(l>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return ae(this,l,f);case"utf8":case"utf-8":return le(this,l,f);case"ascii":return de(this,l,f);case"latin1":case"binary":return Ie(this,l,f);case"base64":return te(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,l,f);default:if(V)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),V=!0}}function B(F,l,f){const V=F[l];F[l]=F[f],F[f]=V}function L(F,l,f,V,X){if(0===F.length)return-1;if("string"==typeof f?(V=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),Qe(f=+f)&&(f=X?0:F.length-1),f<0&&(f=F.length+f),f>=F.length){if(X)return-1;f=F.length-1}else if(f<0){if(!X)return-1;f=0}if("string"==typeof l&&(l=u.from(l,V)),u.isBuffer(l))return 0===l.length?-1:z(F,l,f,V,X);if("number"==typeof l)return l&=255,"function"==typeof Uint8Array.prototype.indexOf?X?Uint8Array.prototype.indexOf.call(F,l,f):Uint8Array.prototype.lastIndexOf.call(F,l,f):z(F,[l],f,V,X);throw new TypeError("val must be string, number or Buffer")}function z(F,l,f,V,X){let dt,fe=1,Ce=F.length,$e=l.length;if(void 0!==V&&("ucs2"===(V=String(V).toLowerCase())||"ucs-2"===V||"utf16le"===V||"utf-16le"===V)){if(F.length<2||l.length<2)return-1;fe=2,Ce/=2,$e/=2,f/=2}function Ze(pt,at){return 1===fe?pt[at]:pt.readUInt16BE(at*fe)}if(X){let pt=-1;for(dt=f;dt<Ce;dt++)if(Ze(F,dt)===Ze(l,-1===pt?0:dt-pt)){if(-1===pt&&(pt=dt),dt-pt+1===$e)return pt*fe}else-1!==pt&&(dt-=dt-pt),pt=-1}else for(f+$e>Ce&&(f=Ce-$e),dt=f;dt>=0;dt--){let pt=!0;for(let at=0;at<$e;at++)if(Ze(F,dt+at)!==Ze(l,at)){pt=!1;break}if(pt)return dt}return-1}function Q(F,l,f,V){f=Number(f)||0;const X=F.length-f;V?(V=Number(V))>X&&(V=X):V=X;const fe=l.length;let Ce;for(V>fe/2&&(V=fe/2),Ce=0;Ce<V;++Ce){const $e=parseInt(l.substr(2*Ce,2),16);if(Qe($e))return Ce;F[f+Ce]=$e}return Ce}function oe(F,l,f,V){return Be(W(l,F.length-f),F,f,V)}function j(F,l,f,V){return Be(function ee(F){const l=[];for(let f=0;f<F.length;++f)l.push(255&F.charCodeAt(f));return l}(l),F,f,V)}function ne(F,l,f,V){return Be(he(l),F,f,V)}function K(F,l,f,V){return Be(function ke(F,l){let f,V,X;const fe=[];for(let Ce=0;Ce<F.length&&!((l-=2)<0);++Ce)f=F.charCodeAt(Ce),V=f>>8,X=f%256,fe.push(X),fe.push(V);return fe}(l,F.length-f),F,f,V)}function te(F,l,f){return b.fromByteArray(0===l&&f===F.length?F:F.slice(l,f))}function le(F,l,f){f=Math.min(F.length,f);const V=[];let X=l;for(;X<f;){const fe=F[X];let Ce=null,$e=fe>239?4:fe>223?3:fe>191?2:1;if(X+$e<=f){let Ze,dt,pt,at;switch($e){case 1:fe<128&&(Ce=fe);break;case 2:Ze=F[X+1],128==(192&Ze)&&(at=(31&fe)<<6|63&Ze,at>127&&(Ce=at));break;case 3:Ze=F[X+1],dt=F[X+2],128==(192&Ze)&&128==(192&dt)&&(at=(15&fe)<<12|(63&Ze)<<6|63&dt,at>2047&&(at<55296||at>57343)&&(Ce=at));break;case 4:Ze=F[X+1],dt=F[X+2],pt=F[X+3],128==(192&Ze)&&128==(192&dt)&&128==(192&pt)&&(at=(15&fe)<<18|(63&Ze)<<12|(63&dt)<<6|63&pt,at>65535&&at<1114112&&(Ce=at))}}null===Ce?(Ce=65533,$e=1):Ce>65535&&(Ce-=65536,V.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),V.push(Ce),X+=$e}return function J(F){const l=F.length;if(l<=Fe)return String.fromCharCode.apply(String,F);let f="",V=0;for(;V<l;)f+=String.fromCharCode.apply(String,F.slice(V,V+=Fe));return f}(V)}A.kMaxLength=O,!(u.TYPED_ARRAY_SUPPORT=function P(){try{const F=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(F,l),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(F,l,f){return c(F,l,f)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(F,l,f){return function m(F,l,f){return w(F),F<=0?y(F):void 0!==l?"string"==typeof f?y(F).fill(l,f):y(F).fill(l):y(F)}(F,l,f)},u.allocUnsafe=function(F){return h(F)},u.allocUnsafeSlow=function(F){return h(F)},u.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==u.prototype},u.compare=function(l,f){if(Ne(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),Ne(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(l)||!u.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let V=l.length,X=f.length;for(let fe=0,Ce=Math.min(V,X);fe<Ce;++fe)if(l[fe]!==f[fe]){V=l[fe],X=f[fe];break}return V<X?-1:X<V?1:0},u.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return u.alloc(0);let V;if(void 0===f)for(f=0,V=0;V<l.length;++V)f+=l[V].length;const X=u.allocUnsafe(f);let fe=0;for(V=0;V<l.length;++V){let Ce=l[V];if(Ne(Ce,Uint8Array))fe+Ce.length>X.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(X,fe)):Uint8Array.prototype.set.call(X,Ce,fe);else{if(!u.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(X,fe)}fe+=Ce.length}return X},u.byteLength=M,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)B(this,f,f+1);return this},u.prototype.swap32=function(){const l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)B(this,f,f+3),B(this,f+1,f+2);return this},u.prototype.swap64=function(){const l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)B(this,f,f+7),B(this,f+1,f+6),B(this,f+2,f+5),B(this,f+3,f+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){const l=this.length;return 0===l?"":0===arguments.length?le(this,0,l):k.apply(this,arguments)},u.prototype.equals=function(l){if(!u.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||0===u.compare(this,l)},u.prototype.inspect=function(){let l="";const f=A.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},R&&(u.prototype[R]=u.prototype.inspect),u.prototype.compare=function(l,f,V,X,fe){if(Ne(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(void 0===f&&(f=0),void 0===V&&(V=l?l.length:0),void 0===X&&(X=0),void 0===fe&&(fe=this.length),f<0||V>l.length||X<0||fe>this.length)throw new RangeError("out of range index");if(X>=fe&&f>=V)return 0;if(X>=fe)return-1;if(f>=V)return 1;if(this===l)return 0;let Ce=(fe>>>=0)-(X>>>=0),$e=(V>>>=0)-(f>>>=0);const Ze=Math.min(Ce,$e),dt=this.slice(X,fe),pt=l.slice(f,V);for(let at=0;at<Ze;++at)if(dt[at]!==pt[at]){Ce=dt[at],$e=pt[at];break}return Ce<$e?-1:$e<Ce?1:0},u.prototype.includes=function(l,f,V){return-1!==this.indexOf(l,f,V)},u.prototype.indexOf=function(l,f,V){return L(this,l,f,V,!0)},u.prototype.lastIndexOf=function(l,f,V){return L(this,l,f,V,!1)},u.prototype.write=function(l,f,V,X){if(void 0===f)X="utf8",V=this.length,f=0;else if(void 0===V&&"string"==typeof f)X=f,V=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(V)?(V>>>=0,void 0===X&&(X="utf8")):(X=V,V=void 0)}const fe=this.length-f;if((void 0===V||V>fe)&&(V=fe),l.length>0&&(V<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let Ce=!1;for(;;)switch(X){case"hex":return Q(this,l,f,V);case"utf8":case"utf-8":return oe(this,l,f,V);case"ascii":case"latin1":case"binary":return j(this,l,f,V);case"base64":return ne(this,l,f,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,l,f,V);default:if(Ce)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Fe=4096;function de(F,l,f){let V="";f=Math.min(F.length,f);for(let X=l;X<f;++X)V+=String.fromCharCode(127&F[X]);return V}function Ie(F,l,f){let V="";f=Math.min(F.length,f);for(let X=l;X<f;++X)V+=String.fromCharCode(F[X]);return V}function ae(F,l,f){const V=F.length;(!l||l<0)&&(l=0),(!f||f<0||f>V)&&(f=V);let X="";for(let fe=l;fe<f;++fe)X+=ut[F[fe]];return X}function Ee(F,l,f){const V=F.slice(l,f);let X="";for(let fe=0;fe<V.length-1;fe+=2)X+=String.fromCharCode(V[fe]+256*V[fe+1]);return X}function I(F,l,f){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+l>f)throw new RangeError("Trying to access beyond buffer length")}function $(F,l,f,V,X,fe){if(!u.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>X||l<fe)throw new RangeError('"value" argument is out of bounds');if(f+V>F.length)throw new RangeError("Index out of range")}function q(F,l,f,V,X){Ke(l,V,X,F,f,7);let fe=Number(l&BigInt(4294967295));F[f++]=fe,fe>>=8,F[f++]=fe,fe>>=8,F[f++]=fe,fe>>=8,F[f++]=fe;let Ce=Number(l>>BigInt(32)&BigInt(4294967295));return F[f++]=Ce,Ce>>=8,F[f++]=Ce,Ce>>=8,F[f++]=Ce,Ce>>=8,F[f++]=Ce,f}function G(F,l,f,V,X){Ke(l,V,X,F,f,7);let fe=Number(l&BigInt(4294967295));F[f+7]=fe,fe>>=8,F[f+6]=fe,fe>>=8,F[f+5]=fe,fe>>=8,F[f+4]=fe;let Ce=Number(l>>BigInt(32)&BigInt(4294967295));return F[f+3]=Ce,Ce>>=8,F[f+2]=Ce,Ce>>=8,F[f+1]=Ce,Ce>>=8,F[f]=Ce,f+8}function re(F,l,f,V,X,fe){if(f+V>F.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ye(F,l,f,V,X){return l=+l,f>>>=0,X||re(F,0,f,4),S.write(F,l,f,V,23,4),f+4}function me(F,l,f,V,X){return l=+l,f>>>=0,X||re(F,0,f,8),S.write(F,l,f,V,52,8),f+8}u.prototype.slice=function(l,f){const V=this.length;(l=~~l)<0?(l+=V)<0&&(l=0):l>V&&(l=V),(f=void 0===f?V:~~f)<0?(f+=V)<0&&(f=0):f>V&&(f=V),f<l&&(f=l);const X=this.subarray(l,f);return Object.setPrototypeOf(X,u.prototype),X},u.prototype.readUintLE=u.prototype.readUIntLE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l],fe=1,Ce=0;for(;++Ce<f&&(fe*=256);)X+=this[l+Ce]*fe;return X},u.prototype.readUintBE=u.prototype.readUIntBE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l+--f],fe=1;for(;f>0&&(fe*=256);)X+=this[l+--f]*fe;return X},u.prototype.readUint8=u.prototype.readUInt8=function(l,f){return l>>>=0,f||I(l,1,this.length),this[l]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(l,f){return l>>>=0,f||I(l,2,this.length),this[l]|this[l+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(l,f){return l>>>=0,f||I(l,2,this.length),this[l]<<8|this[l+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(l,f){return l>>>=0,f||I(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(l,f){return l>>>=0,f||I(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},u.prototype.readBigUInt64LE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=f+256*this[++l]+65536*this[++l]+this[++l]*2**24,fe=this[++l]+256*this[++l]+65536*this[++l]+V*2**24;return BigInt(X)+(BigInt(fe)<<BigInt(32))}),u.prototype.readBigUInt64BE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=f*2**24+65536*this[++l]+256*this[++l]+this[++l],fe=this[++l]*2**24+65536*this[++l]+256*this[++l]+V;return(BigInt(X)<<BigInt(32))+BigInt(fe)}),u.prototype.readIntLE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l],fe=1,Ce=0;for(;++Ce<f&&(fe*=256);)X+=this[l+Ce]*fe;return fe*=128,X>=fe&&(X-=Math.pow(2,8*f)),X},u.prototype.readIntBE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=f,fe=1,Ce=this[l+--X];for(;X>0&&(fe*=256);)Ce+=this[l+--X]*fe;return fe*=128,Ce>=fe&&(Ce-=Math.pow(2,8*f)),Ce},u.prototype.readInt8=function(l,f){return l>>>=0,f||I(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},u.prototype.readInt16LE=function(l,f){l>>>=0,f||I(l,2,this.length);const V=this[l]|this[l+1]<<8;return 32768&V?4294901760|V:V},u.prototype.readInt16BE=function(l,f){l>>>=0,f||I(l,2,this.length);const V=this[l+1]|this[l]<<8;return 32768&V?4294901760|V:V},u.prototype.readInt32LE=function(l,f){return l>>>=0,f||I(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},u.prototype.readInt32BE=function(l,f){return l>>>=0,f||I(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},u.prototype.readBigInt64LE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];return(void 0===f||void 0===V)&&Ae(l,this.length-8),(BigInt(this[l+4]+256*this[l+5]+65536*this[l+6]+(V<<24))<<BigInt(32))+BigInt(f+256*this[++l]+65536*this[++l]+this[++l]*2**24)}),u.prototype.readBigInt64BE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=(f<<24)+65536*this[++l]+256*this[++l]+this[++l];return(BigInt(X)<<BigInt(32))+BigInt(this[++l]*2**24+65536*this[++l]+256*this[++l]+V)}),u.prototype.readFloatLE=function(l,f){return l>>>=0,f||I(l,4,this.length),S.read(this,l,!0,23,4)},u.prototype.readFloatBE=function(l,f){return l>>>=0,f||I(l,4,this.length),S.read(this,l,!1,23,4)},u.prototype.readDoubleLE=function(l,f){return l>>>=0,f||I(l,8,this.length),S.read(this,l,!0,52,8)},u.prototype.readDoubleBE=function(l,f){return l>>>=0,f||I(l,8,this.length),S.read(this,l,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(l,f,V,X){l=+l,f>>>=0,V>>>=0,X||$(this,l,f,V,Math.pow(2,8*V)-1,0);let fe=1,Ce=0;for(this[f]=255&l;++Ce<V&&(fe*=256);)this[f+Ce]=l/fe&255;return f+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(l,f,V,X){l=+l,f>>>=0,V>>>=0,X||$(this,l,f,V,Math.pow(2,8*V)-1,0);let fe=V-1,Ce=1;for(this[f+fe]=255&l;--fe>=0&&(Ce*=256);)this[f+fe]=l/Ce&255;return f+V},u.prototype.writeUint8=u.prototype.writeUInt8=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,1,255,0),this[f]=255&l,f+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,65535,0),this[f]=255&l,this[f+1]=l>>>8,f+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=255&l,f+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=255&l,f+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},u.prototype.writeBigUInt64LE=qe(function(l,f=0){return q(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=qe(function(l,f=0){return G(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(l,f,V,X){if(l=+l,f>>>=0,!X){const Ze=Math.pow(2,8*V-1);$(this,l,f,V,Ze-1,-Ze)}let fe=0,Ce=1,$e=0;for(this[f]=255&l;++fe<V&&(Ce*=256);)l<0&&0===$e&&0!==this[f+fe-1]&&($e=1),this[f+fe]=(l/Ce|0)-$e&255;return f+V},u.prototype.writeIntBE=function(l,f,V,X){if(l=+l,f>>>=0,!X){const Ze=Math.pow(2,8*V-1);$(this,l,f,V,Ze-1,-Ze)}let fe=V-1,Ce=1,$e=0;for(this[f+fe]=255&l;--fe>=0&&(Ce*=256);)l<0&&0===$e&&0!==this[f+fe+1]&&($e=1),this[f+fe]=(l/Ce|0)-$e&255;return f+V},u.prototype.writeInt8=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=255&l,f+1},u.prototype.writeInt16LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,32767,-32768),this[f]=255&l,this[f+1]=l>>>8,f+2},u.prototype.writeInt16BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=255&l,f+2},u.prototype.writeInt32LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,2147483647,-2147483648),this[f]=255&l,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},u.prototype.writeInt32BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},u.prototype.writeBigInt64LE=qe(function(l,f=0){return q(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=qe(function(l,f=0){return G(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(l,f,V){return ye(this,l,f,!0,V)},u.prototype.writeFloatBE=function(l,f,V){return ye(this,l,f,!1,V)},u.prototype.writeDoubleLE=function(l,f,V){return me(this,l,f,!0,V)},u.prototype.writeDoubleBE=function(l,f,V){return me(this,l,f,!1,V)},u.prototype.copy=function(l,f,V,X){if(!u.isBuffer(l))throw new TypeError("argument should be a Buffer");if(V||(V=0),!X&&0!==X&&(X=this.length),f>=l.length&&(f=l.length),f||(f=0),X>0&&X<V&&(X=V),X===V||0===l.length||0===this.length)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),l.length-f<X-V&&(X=l.length-f+V);const fe=X-V;return this===l&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(f,V,X):Uint8Array.prototype.set.call(l,this.subarray(V,X),f),fe},u.prototype.fill=function(l,f,V,X){if("string"==typeof l){if("string"==typeof f?(X=f,f=0,V=this.length):"string"==typeof V&&(X=V,V=this.length),void 0!==X&&"string"!=typeof X)throw new TypeError("encoding must be a string");if("string"==typeof X&&!u.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(1===l.length){const Ce=l.charCodeAt(0);("utf8"===X&&Ce<128||"latin1"===X)&&(l=Ce)}}else"number"==typeof l?l&=255:"boolean"==typeof l&&(l=Number(l));if(f<0||this.length<f||this.length<V)throw new RangeError("Out of range index");if(V<=f)return this;let fe;if(f>>>=0,V=void 0===V?this.length:V>>>0,l||(l=0),"number"==typeof l)for(fe=f;fe<V;++fe)this[fe]=l;else{const Ce=u.isBuffer(l)?l:u.from(l,X),$e=Ce.length;if(0===$e)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(fe=0;fe<V-f;++fe)this[fe+f]=Ce[fe%$e]}return this};const Me={};function Se(F,l,f){Me[F]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function Ye(F){let l="",f=F.length;const V="-"===F[0]?1:0;for(;f>=V+4;f-=3)l=`_${F.slice(f-3,f)}${l}`;return`${F.slice(0,f)}${l}`}function Ke(F,l,f,V,X,fe){if(F>f||F<l){const Ce="bigint"==typeof l?"n":"";let $e;throw $e=fe>3?0===l||l===BigInt(0)?`>= 0${Ce} and < 2${Ce} ** ${8*(fe+1)}${Ce}`:`>= -(2${Ce} ** ${8*(fe+1)-1}${Ce}) and < 2 ** ${8*(fe+1)-1}${Ce}`:`>= ${l}${Ce} and <= ${f}${Ce}`,new Me.ERR_OUT_OF_RANGE("value",$e,F)}!function gt(F,l,f){Ge(l,"offset"),(void 0===F[l]||void 0===F[l+f])&&Ae(l,F.length-(f+1))}(V,X,fe)}function Ge(F,l){if("number"!=typeof F)throw new Me.ERR_INVALID_ARG_TYPE(l,"number",F)}function Ae(F,l,f){throw Math.floor(F)!==F?(Ge(F,f),new Me.ERR_OUT_OF_RANGE(f||"offset","an integer",F)):l<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${l}`,F)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(F,l){return`The "${F}" argument must be of type number. Received type ${typeof l}`},TypeError),Se("ERR_OUT_OF_RANGE",function(F,l,f){let V=`The value of "${F}" is out of range.`,X=f;return Number.isInteger(f)&&Math.abs(f)>2**32?X=Ye(String(f)):"bigint"==typeof f&&(X=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(X=Ye(X)),X+="n"),V+=` It must be ${l}. Received ${X}`,V},RangeError);const je=/[^+/0-9A-Za-z-_]/g;function W(F,l){let f;l=l||1/0;const V=F.length;let X=null;const fe=[];for(let Ce=0;Ce<V;++Ce){if(f=F.charCodeAt(Ce),f>55295&&f<57344){if(!X){if(f>56319){(l-=3)>-1&&fe.push(239,191,189);continue}if(Ce+1===V){(l-=3)>-1&&fe.push(239,191,189);continue}X=f;continue}if(f<56320){(l-=3)>-1&&fe.push(239,191,189),X=f;continue}f=65536+(X-55296<<10|f-56320)}else X&&(l-=3)>-1&&fe.push(239,191,189);if(X=null,f<128){if((l-=1)<0)break;fe.push(f)}else if(f<2048){if((l-=2)<0)break;fe.push(f>>6|192,63&f|128)}else if(f<65536){if((l-=3)<0)break;fe.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(f<1114112))throw new Error("Invalid code point");if((l-=4)<0)break;fe.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return fe}function he(F){return b.toByteArray(function se(F){if((F=(F=F.split("=")[0]).trim().replace(je,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function Be(F,l,f,V){let X;for(X=0;X<V&&!(X+f>=l.length||X>=F.length);++X)l[X+f]=F[X];return X}function Ne(F,l){return F instanceof l||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===l.name}function Qe(F){return F!=F}const ut=function(){const F="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const V=16*f;for(let X=0;X<16;++X)l[V+X]=F[f]+F[X]}return l}();function qe(F){return typeof BigInt>"u"?ht:F}function ht(){throw new Error("BigInt not supported")}},9208:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MissingRefError=A.ValidationError=A.CodeGen=A.Name=A.nil=A.stringify=A.str=A._=A.KeywordCxt=A.Ajv=void 0;const b=d(2113),S=d(457),R=d(8058),O=d(2079),P=["/properties"],y="http://json-schema.org/draft-07/schema";class u extends b.default{_addVocabularies(){super._addVocabularies(),S.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(R.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(O,P):O;this.addMetaSchema(g,y,!1),this.refs["http://json-schema.org/schema"]=y}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(y)?y:void 0)}}A.Ajv=u,Z.exports=A=u,Z.exports.Ajv=u,Object.defineProperty(A,"__esModule",{value:!0}),A.default=u;var c=d(7157);Object.defineProperty(A,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var w=d(5432);Object.defineProperty(A,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(A,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(A,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(A,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(A,"Name",{enumerable:!0,get:function(){return w.Name}}),Object.defineProperty(A,"CodeGen",{enumerable:!0,get:function(){return w.CodeGen}});var m=d(2238);Object.defineProperty(A,"ValidationError",{enumerable:!0,get:function(){return m.default}});var h=d(6606);Object.defineProperty(A,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},3467:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.regexpCode=A.getEsmExportName=A.getProperty=A.safeStringify=A.stringify=A.strConcat=A.addCodeArg=A.str=A._=A.nil=A._Code=A.Name=A.IDENTIFIER=A._CodeOrName=void 0;class d{}A._CodeOrName=d,A.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class b extends d{constructor(E){if(super(),!A.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}A.Name=b;class S extends d{constructor(E){super(),this._items="string"==typeof E?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return""===E||'""'===E}get str(){var E;return null!==(E=this._str)&&void 0!==E?E:this._str=this._items.reduce((N,M)=>`${N}${M}`,"")}get names(){var E;return null!==(E=this._names)&&void 0!==E?E:this._names=this._items.reduce((N,M)=>(M instanceof b&&(N[M.str]=(N[M.str]||0)+1),N),{})}}function R(T,...E){const N=[T[0]];let M=0;for(;M<E.length;)y(N,E[M]),N.push(T[++M]);return new S(N)}A._Code=S,A.nil=new S(""),A._=R;const O=new S("+");function P(T,...E){const N=[_(T[0])];let M=0;for(;M<E.length;)N.push(O),y(N,E[M]),N.push(O,_(T[++M]));return function u(T){let E=1;for(;E<T.length-1;){if(T[E]===O){const N=c(T[E-1],T[E+1]);if(void 0!==N){T.splice(E-1,3,N);continue}T[E++]="+"}E++}}(N),new S(N)}function y(T,E){E instanceof S?T.push(...E._items):T.push(E instanceof b?E:function m(T){return"number"==typeof T||"boolean"==typeof T||null===T?T:_(Array.isArray(T)?T.join(","):T)}(E))}function c(T,E){return'""'===E?T:'""'===T?E:"string"==typeof T?E instanceof b||'"'!==T[T.length-1]?void 0:"string"!=typeof E?`${T.slice(0,-1)}${E}"`:'"'===E[0]?T.slice(0,-1)+E.slice(1):void 0:"string"!=typeof E||'"'!==E[0]||T instanceof b?void 0:`"${T}${E.slice(1)}`}function _(T){return JSON.stringify(T).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}A.str=P,A.addCodeArg=y,A.strConcat=function w(T,E){return E.emptyStr()?T:T.emptyStr()?E:P`${T}${E}`},A.stringify=function h(T){return new S(_(T))},A.safeStringify=_,A.getProperty=function g(T){return"string"==typeof T&&A.IDENTIFIER.test(T)?new S(`.${T}`):R`[${T}]`},A.getEsmExportName=function v(T){if("string"==typeof T&&A.IDENTIFIER.test(T))return new S(`${T}`);throw new Error(`CodeGen: invalid export name: ${T}, use explicit $id name mapping`)},A.regexpCode=function D(T){return new S(T.toString())}},5432:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.or=A.and=A.not=A.CodeGen=A.operators=A.varKinds=A.ValueScopeName=A.ValueScope=A.Scope=A.Name=A.regexpCode=A.stringify=A.getProperty=A.nil=A.strConcat=A.str=A._=void 0;const b=d(3467),S=d(240);var R=d(3467);Object.defineProperty(A,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(A,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(A,"strConcat",{enumerable:!0,get:function(){return R.strConcat}}),Object.defineProperty(A,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(A,"getProperty",{enumerable:!0,get:function(){return R.getProperty}}),Object.defineProperty(A,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(A,"regexpCode",{enumerable:!0,get:function(){return R.regexpCode}}),Object.defineProperty(A,"Name",{enumerable:!0,get:function(){return R.Name}});var O=d(240);Object.defineProperty(A,"Scope",{enumerable:!0,get:function(){return O.Scope}}),Object.defineProperty(A,"ValueScope",{enumerable:!0,get:function(){return O.ValueScope}}),Object.defineProperty(A,"ValueScopeName",{enumerable:!0,get:function(){return O.ValueScopeName}}),Object.defineProperty(A,"varKinds",{enumerable:!0,get:function(){return O.varKinds}}),A.operators={GT:new b._Code(">"),GTE:new b._Code(">="),LT:new b._Code("<"),LTE:new b._Code("<="),EQ:new b._Code("==="),NEQ:new b._Code("!=="),NOT:new b._Code("!"),OR:new b._Code("||"),AND:new b._Code("&&"),ADD:new b._Code("+")};class P{optimizeNodes(){return this}optimizeNames(G,re){return this}}class y extends P{constructor(G,re,ye){super(),this.varKind=G,this.name=re,this.rhs=ye}render({es5:G,_n:re}){return`${G?S.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+re}optimizeNames(G,re){if(G[this.name.str])return this.rhs&&(this.rhs=le(this.rhs,G,re)),this}get names(){return this.rhs instanceof b._CodeOrName?this.rhs.names:{}}}class u extends P{constructor(G,re,ye){super(),this.lhs=G,this.rhs=re,this.sideEffects=ye}render({_n:G}){return`${this.lhs} = ${this.rhs};`+G}optimizeNames(G,re){if(!(this.lhs instanceof b.Name)||G[this.lhs.str]||this.sideEffects)return this.rhs=le(this.rhs,G,re),this}get names(){return te(this.lhs instanceof b.Name?{}:{...this.lhs.names},this.rhs)}}class c extends u{constructor(G,re,ye,me){super(G,ye,me),this.op=re}render({_n:G}){return`${this.lhs} ${this.op}= ${this.rhs};`+G}}class w extends P{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`${this.label}:`+G}}class m extends P{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`break${this.label?` ${this.label}`:""};`+G}}class h extends P{constructor(G){super(),this.error=G}render({_n:G}){return`throw ${this.error};`+G}get names(){return this.error.names}}class _ extends P{constructor(G){super(),this.code=G}render({_n:G}){return`${this.code};`+G}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(G,re){return this.code=le(this.code,G,re),this}get names(){return this.code instanceof b._CodeOrName?this.code.names:{}}}class g extends P{constructor(G=[]){super(),this.nodes=G}render(G){return this.nodes.reduce((re,ye)=>re+ye.render(G),"")}optimizeNodes(){const{nodes:G}=this;let re=G.length;for(;re--;){const ye=G[re].optimizeNodes();Array.isArray(ye)?G.splice(re,1,...ye):ye?G[re]=ye:G.splice(re,1)}return G.length>0?this:void 0}optimizeNames(G,re){const{nodes:ye}=this;let me=ye.length;for(;me--;){const Me=ye[me];Me.optimizeNames(G,re)||(Fe(G,Me.names),ye.splice(me,1))}return ye.length>0?this:void 0}get names(){return this.nodes.reduce((G,re)=>K(G,re.names),{})}}class v extends g{render(G){return"{"+G._n+super.render(G)+"}"+G._n}}class D extends g{}let T=(()=>{class q extends v{}return q.kind="else",q})(),E=(()=>{class q extends v{constructor(re,ye){super(ye),this.condition=re}render(re){let ye=`if(${this.condition})`+super.render(re);return this.else&&(ye+="else "+this.else.render(re)),ye}optimizeNodes(){super.optimizeNodes();const re=this.condition;if(!0===re)return this.nodes;let ye=this.else;if(ye){const me=ye.optimizeNodes();ye=this.else=Array.isArray(me)?new T(me):me}return ye?!1===re?ye instanceof q?ye:ye.nodes:this.nodes.length?this:new q(J(re),ye instanceof q?[ye]:ye.nodes):!1!==re&&this.nodes.length?this:void 0}optimizeNames(re,ye){var me;if(this.else=null===(me=this.else)||void 0===me?void 0:me.optimizeNames(re,ye),super.optimizeNames(re,ye)||this.else)return this.condition=le(this.condition,re,ye),this}get names(){const re=super.names;return te(re,this.condition),this.else&&K(re,this.else.names),re}}return q.kind="if",q})(),N=(()=>{class q extends v{}return q.kind="for",q})();class M extends N{constructor(G){super(),this.iteration=G}render(G){return`for(${this.iteration})`+super.render(G)}optimizeNames(G,re){if(super.optimizeNames(G,re))return this.iteration=le(this.iteration,G,re),this}get names(){return K(super.names,this.iteration.names)}}class k extends N{constructor(G,re,ye,me){super(),this.varKind=G,this.name=re,this.from=ye,this.to=me}render(G){const re=G.es5?S.varKinds.var:this.varKind,{name:ye,from:me,to:Me}=this;return`for(${re} ${ye}=${me}; ${ye}<${Me}; ${ye}++)`+super.render(G)}get names(){const G=te(super.names,this.from);return te(G,this.to)}}class B extends N{constructor(G,re,ye,me){super(),this.loop=G,this.varKind=re,this.name=ye,this.iterable=me}render(G){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(G)}optimizeNames(G,re){if(super.optimizeNames(G,re))return this.iterable=le(this.iterable,G,re),this}get names(){return K(super.names,this.iterable.names)}}let L=(()=>{class q extends v{constructor(re,ye,me){super(),this.name=re,this.args=ye,this.async=me}render(re){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(re)}}return q.kind="func",q})(),z=(()=>{class q extends g{render(re){return"return "+super.render(re)}}return q.kind="return",q})();class Q extends v{render(G){let re="try"+super.render(G);return this.catch&&(re+=this.catch.render(G)),this.finally&&(re+=this.finally.render(G)),re}optimizeNodes(){var G,re;return super.optimizeNodes(),null===(G=this.catch)||void 0===G||G.optimizeNodes(),null===(re=this.finally)||void 0===re||re.optimizeNodes(),this}optimizeNames(G,re){var ye,me;return super.optimizeNames(G,re),null===(ye=this.catch)||void 0===ye||ye.optimizeNames(G,re),null===(me=this.finally)||void 0===me||me.optimizeNames(G,re),this}get names(){const G=super.names;return this.catch&&K(G,this.catch.names),this.finally&&K(G,this.finally.names),G}}let oe=(()=>{class q extends v{constructor(re){super(),this.error=re}render(re){return`catch(${this.error})`+super.render(re)}}return q.kind="catch",q})(),j=(()=>{class q extends v{render(re){return"finally"+super.render(re)}}return q.kind="finally",q})();function K(q,G){for(const re in G)q[re]=(q[re]||0)+(G[re]||0);return q}function te(q,G){return G instanceof b._CodeOrName?K(q,G.names):q}function le(q,G,re){return q instanceof b.Name?ye(q):function me(Me){return Me instanceof b._Code&&Me._items.some(Se=>Se instanceof b.Name&&1===G[Se.str]&&void 0!==re[Se.str])}(q)?new b._Code(q._items.reduce((Me,Se)=>(Se instanceof b.Name&&(Se=ye(Se)),Se instanceof b._Code?Me.push(...Se._items):Me.push(Se),Me),[])):q;function ye(Me){const Se=re[Me.str];return void 0===Se||1!==G[Me.str]?Me:(delete G[Me.str],Se)}}function Fe(q,G){for(const re in G)q[re]=(q[re]||0)-(G[re]||0)}function J(q){return"boolean"==typeof q||"number"==typeof q||null===q?!q:b._`!${$(q)}`}A.CodeGen=class ne{constructor(G,re={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...re,_n:re.lines?"\n":""},this._extScope=G,this._scope=new S.Scope({parent:G}),this._nodes=[new D]}toString(){return this._root.render(this.opts)}name(G){return this._scope.name(G)}scopeName(G){return this._extScope.name(G)}scopeValue(G,re){const ye=this._extScope.value(G,re);return(this._values[ye.prefix]||(this._values[ye.prefix]=new Set)).add(ye),ye}getScopeValue(G,re){return this._extScope.getValue(G,re)}scopeRefs(G){return this._extScope.scopeRefs(G,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(G,re,ye,me){const Me=this._scope.toName(re);return void 0!==ye&&me&&(this._constants[Me.str]=ye),this._leafNode(new y(G,Me,ye)),Me}const(G,re,ye){return this._def(S.varKinds.const,G,re,ye)}let(G,re,ye){return this._def(S.varKinds.let,G,re,ye)}var(G,re,ye){return this._def(S.varKinds.var,G,re,ye)}assign(G,re,ye){return this._leafNode(new u(G,re,ye))}add(G,re){return this._leafNode(new c(G,A.operators.ADD,re))}code(G){return"function"==typeof G?G():G!==b.nil&&this._leafNode(new _(G)),this}object(...G){const re=["{"];for(const[ye,me]of G)re.length>1&&re.push(","),re.push(ye),(ye!==me||this.opts.es5)&&(re.push(":"),(0,b.addCodeArg)(re,me));return re.push("}"),new b._Code(re)}if(G,re,ye){if(this._blockNode(new E(G)),re&&ye)this.code(re).else().code(ye).endIf();else if(re)this.code(re).endIf();else if(ye)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(G){return this._elseNode(new E(G))}else(){return this._elseNode(new T)}endIf(){return this._endBlockNode(E,T)}_for(G,re){return this._blockNode(G),re&&this.code(re).endFor(),this}for(G,re){return this._for(new M(G),re)}forRange(G,re,ye,me,Me=(this.opts.es5?S.varKinds.var:S.varKinds.let)){const Se=this._scope.toName(G);return this._for(new k(Me,Se,re,ye),()=>me(Se))}forOf(G,re,ye,me=S.varKinds.const){const Me=this._scope.toName(G);if(this.opts.es5){const Se=re instanceof b.Name?re:this.var("_arr",re);return this.forRange("_i",0,b._`${Se}.length`,Ye=>{this.var(Me,b._`${Se}[${Ye}]`),ye(Me)})}return this._for(new B("of",me,Me,re),()=>ye(Me))}forIn(G,re,ye,me=(this.opts.es5?S.varKinds.var:S.varKinds.const)){if(this.opts.ownProperties)return this.forOf(G,b._`Object.keys(${re})`,ye);const Me=this._scope.toName(G);return this._for(new B("in",me,Me,re),()=>ye(Me))}endFor(){return this._endBlockNode(N)}label(G){return this._leafNode(new w(G))}break(G){return this._leafNode(new m(G))}return(G){const re=new z;if(this._blockNode(re),this.code(G),1!==re.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(G,re,ye){if(!re&&!ye)throw new Error('CodeGen: "try" without "catch" and "finally"');const me=new Q;if(this._blockNode(me),this.code(G),re){const Me=this.name("e");this._currNode=me.catch=new oe(Me),re(Me)}return ye&&(this._currNode=me.finally=new j,this.code(ye)),this._endBlockNode(oe,j)}throw(G){return this._leafNode(new h(G))}block(G,re){return this._blockStarts.push(this._nodes.length),G&&this.code(G).endBlock(re),this}endBlock(G){const re=this._blockStarts.pop();if(void 0===re)throw new Error("CodeGen: not in self-balancing block");const ye=this._nodes.length-re;if(ye<0||void 0!==G&&ye!==G)throw new Error(`CodeGen: wrong number of nodes: ${ye} vs ${G} expected`);return this._nodes.length=re,this}func(G,re=b.nil,ye,me){return this._blockNode(new L(G,re,ye)),me&&this.code(me).endFunc(),this}endFunc(){return this._endBlockNode(L)}optimize(G=1){for(;G-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(G){return this._currNode.nodes.push(G),this}_blockNode(G){this._currNode.nodes.push(G),this._nodes.push(G)}_endBlockNode(G,re){const ye=this._currNode;if(ye instanceof G||re&&ye instanceof re)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${re?`${G.kind}/${re.kind}`:G.kind}"`)}_elseNode(G){const re=this._currNode;if(!(re instanceof E))throw new Error('CodeGen: "else" without "if"');return this._currNode=re.else=G,this}get _root(){return this._nodes[0]}get _currNode(){const G=this._nodes;return G[G.length-1]}set _currNode(G){const re=this._nodes;re[re.length-1]=G}},A.not=J;const de=I(A.operators.AND);A.and=function Ie(...q){return q.reduce(de)};const ae=I(A.operators.OR);function I(q){return(G,re)=>G===b.nil?re:re===b.nil?G:b._`${$(G)} ${q} ${$(re)}`}function $(q){return q instanceof b.Name?q:b._`(${q})`}A.or=function Ee(...q){return q.reduce(ae)}},240:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ValueScope=A.ValueScopeName=A.Scope=A.varKinds=A.UsedValueState=void 0;const b=d(3467);class S extends Error{constructor(w){super(`CodeGen: "code" for ${w} not defined`),this.value=w.value}}var R=function(c){return c[c.Started=0]="Started",c[c.Completed=1]="Completed",c}(R||(A.UsedValueState=R={}));A.varKinds={const:new b.Name("const"),let:new b.Name("let"),var:new b.Name("var")};class O{constructor({prefixes:w,parent:m}={}){this._names={},this._prefixes=w,this._parent=m}toName(w){return w instanceof b.Name?w:this.name(w)}name(w){return new b.Name(this._newName(w))}_newName(w){return`${w}${(this._names[w]||this._nameGroup(w)).index++}`}_nameGroup(w){var m,h;if(null!==(h=null===(m=this._parent)||void 0===m?void 0:m._prefixes)&&void 0!==h&&h.has(w)||this._prefixes&&!this._prefixes.has(w))throw new Error(`CodeGen: prefix "${w}" is not allowed in this scope`);return this._names[w]={prefix:w,index:0}}}A.Scope=O;class P extends b.Name{constructor(w,m){super(m),this.prefix=w}setValue(w,{property:m,itemIndex:h}){this.value=w,this.scopePath=b._`.${new b.Name(m)}[${h}]`}}A.ValueScopeName=P;const y=b._`\n`;A.ValueScope=class u extends O{constructor(w){super(w),this._values={},this._scope=w.scope,this.opts={...w,_n:w.lines?y:b.nil}}get(){return this._scope}name(w){return new P(w,this._newName(w))}value(w,m){var h;if(void 0===m.ref)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(w),{prefix:g}=_,v=null!==(h=m.key)&&void 0!==h?h:m.ref;let D=this._values[g];if(D){const N=D.get(v);if(N)return N}else D=this._values[g]=new Map;D.set(v,_);const T=this._scope[g]||(this._scope[g]=[]),E=T.length;return T[E]=m.ref,_.setValue(m,{property:g,itemIndex:E}),_}getValue(w,m){const h=this._values[w];if(h)return h.get(m)}scopeRefs(w,m=this._values){return this._reduceValues(m,h=>{if(void 0===h.scopePath)throw new Error(`CodeGen: name "${h}" has no value`);return b._`${w}${h.scopePath}`})}scopeCode(w=this._values,m,h){return this._reduceValues(w,_=>{if(void 0===_.value)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},m,h)}_reduceValues(w,m,h={},_){let g=b.nil;for(const v in w){const D=w[v];if(!D)continue;const T=h[v]=h[v]||new Map;D.forEach(E=>{if(T.has(E))return;T.set(E,R.Started);let N=m(E);if(N)g=b._`${g}${this.opts.es5?A.varKinds.var:A.varKinds.const} ${E} = ${N};${this.opts._n}`;else{if(!(N=_?.(E)))throw new S(E);g=b._`${g}${N}${this.opts._n}`}T.set(E,R.Completed)})}return g}}},7511:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.extendErrors=A.resetErrorsCount=A.reportExtraError=A.reportError=A.keyword$DataError=A.keywordError=void 0;const b=d(5432),S=d(7868),R=d(2682);function c(T,E){const N=T.const("err",E);T.if(b._`${R.default.vErrors} === null`,()=>T.assign(R.default.vErrors,b._`[${N}]`),b._`${R.default.vErrors}.push(${N})`),T.code(b._`${R.default.errors}++`)}function w(T,E){const{gen:N,validateName:M,schemaEnv:k}=T;k.$async?N.throw(b._`new ${T.ValidationError}(${E})`):(N.assign(b._`${M}.errors`,E),N.return(!1))}A.keywordError={message:({keyword:T})=>b.str`must pass "${T}" keyword validation`},A.keyword$DataError={message:({keyword:T,schemaType:E})=>E?b.str`"${T}" keyword must be ${E} ($data)`:b.str`"${T}" keyword is invalid ($data)`},A.reportError=function O(T,E=A.keywordError,N,M){const{it:k}=T,{gen:B,compositeRule:L,allErrors:z}=k,Q=h(T,E,N);M??(L||z)?c(B,Q):w(k,b._`[${Q}]`)},A.reportExtraError=function P(T,E=A.keywordError,N){const{it:M}=T,{gen:k,compositeRule:B,allErrors:L}=M;c(k,h(T,E,N)),B||L||w(M,R.default.vErrors)},A.resetErrorsCount=function y(T,E){T.assign(R.default.errors,E),T.if(b._`${R.default.vErrors} !== null`,()=>T.if(E,()=>T.assign(b._`${R.default.vErrors}.length`,E),()=>T.assign(R.default.vErrors,null)))},A.extendErrors=function u({gen:T,keyword:E,schemaValue:N,data:M,errsCount:k,it:B}){if(void 0===k)throw new Error("ajv implementation error");const L=T.name("err");T.forRange("i",k,R.default.errors,z=>{T.const(L,b._`${R.default.vErrors}[${z}]`),T.if(b._`${L}.instancePath === undefined`,()=>T.assign(b._`${L}.instancePath`,(0,b.strConcat)(R.default.instancePath,B.errorPath))),T.assign(b._`${L}.schemaPath`,b.str`${B.errSchemaPath}/${E}`),B.opts.verbose&&(T.assign(b._`${L}.schema`,N),T.assign(b._`${L}.data`,M))})};const m={keyword:new b.Name("keyword"),schemaPath:new b.Name("schemaPath"),params:new b.Name("params"),propertyName:new b.Name("propertyName"),message:new b.Name("message"),schema:new b.Name("schema"),parentSchema:new b.Name("parentSchema")};function h(T,E,N){const{createErrors:M}=T.it;return!1===M?b._`{}`:function _(T,E,N={}){const{gen:M,it:k}=T,B=[g(k,N),v(T,N)];return function D(T,{params:E,message:N},M){const{keyword:k,data:B,schemaValue:L,it:z}=T,{opts:Q,propertyName:oe,topSchemaRef:j,schemaPath:ne}=z;M.push([m.keyword,k],[m.params,"function"==typeof E?E(T):E||b._`{}`]),Q.messages&&M.push([m.message,"function"==typeof N?N(T):N]),Q.verbose&&M.push([m.schema,L],[m.parentSchema,b._`${j}${ne}`],[R.default.data,B]),oe&&M.push([m.propertyName,oe])}(T,E,B),M.object(...B)}(T,E,N)}function g({errorPath:T},{instancePath:E}){const N=E?b.str`${T}${(0,S.getErrorPath)(E,S.Type.Str)}`:T;return[R.default.instancePath,(0,b.strConcat)(R.default.instancePath,N)]}function v({keyword:T,it:{errSchemaPath:E}},{schemaPath:N,parentSchema:M}){let k=M?E:b.str`${E}/${T}`;return N&&(k=b.str`${k}${(0,S.getErrorPath)(N,S.Type.Str)}`),[m.schemaPath,k]}},7762:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.resolveSchema=A.getCompilingSchema=A.resolveRef=A.compileSchema=A.SchemaEnv=void 0;const b=d(5432),S=d(2238),R=d(2682),O=d(8222),P=d(7868),y=d(7157);class u{constructor(N){var M;let k;this.refs={},this.dynamicAnchors={},"object"==typeof N.schema&&(k=N.schema),this.schema=N.schema,this.schemaId=N.schemaId,this.root=N.root||this,this.baseId=null!==(M=N.baseId)&&void 0!==M?M:(0,O.normalizeId)(k?.[N.schemaId||"$id"]),this.schemaPath=N.schemaPath,this.localRefs=N.localRefs,this.meta=N.meta,this.$async=k?.$async,this.refs={}}}function c(E){const N=h.call(this,E);if(N)return N;const M=(0,O.getFullPath)(this.opts.uriResolver,E.root.baseId),{es5:k,lines:B}=this.opts.code,{ownProperties:L}=this.opts,z=new b.CodeGen(this.scope,{es5:k,lines:B,ownProperties:L});let Q;E.$async&&(Q=z.scopeValue("Error",{ref:S.default,code:b._`require("ajv/dist/runtime/validation_error").default`}));const oe=z.scopeName("validate");E.validateName=oe;const j={gen:z,allErrors:this.opts.allErrors,data:R.default.data,parentData:R.default.parentData,parentDataProperty:R.default.parentDataProperty,dataNames:[R.default.data],dataPathArr:[b.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:z.scopeValue("schema",!0===this.opts.code.source?{ref:E.schema,code:(0,b.stringify)(E.schema)}:{ref:E.schema}),validateName:oe,ValidationError:Q,schema:E.schema,schemaEnv:E,rootId:M,baseId:E.baseId||M,schemaPath:b.nil,errSchemaPath:E.schemaPath||(this.opts.jtd?"":"#"),errorPath:b._`""`,opts:this.opts,self:this};let ne;try{this._compilations.add(E),(0,y.validateFunctionCode)(j),z.optimize(this.opts.code.optimize);const K=z.toString();ne=`${z.scopeRefs(R.default.scope)}return ${K}`,this.opts.code.process&&(ne=this.opts.code.process(ne,E));const le=new Function(`${R.default.self}`,`${R.default.scope}`,ne)(this,this.scope.get());if(this.scope.value(oe,{ref:le}),le.errors=null,le.schema=E.schema,le.schemaEnv=E,E.$async&&(le.$async=!0),!0===this.opts.code.source&&(le.source={validateName:oe,validateCode:K,scopeValues:z._values}),this.opts.unevaluated){const{props:Fe,items:J}=j;le.evaluated={props:Fe instanceof b.Name?void 0:Fe,items:J instanceof b.Name?void 0:J,dynamicProps:Fe instanceof b.Name,dynamicItems:J instanceof b.Name},le.source&&(le.source.evaluated=(0,b.stringify)(le.evaluated))}return E.validate=le,E}catch(K){throw delete E.validate,delete E.validateName,ne&&this.logger.error("Error compiling schema, function code:",ne),K}finally{this._compilations.delete(E)}}function m(E){return(0,O.inlineRef)(E.schema,this.opts.inlineRefs)?E.schema:E.validate?E:c.call(this,E)}function h(E){for(const N of this._compilations)if(_(N,E))return N}function _(E,N){return E.schema===N.schema&&E.root===N.root&&E.baseId===N.baseId}function g(E,N){let M;for(;"string"==typeof(M=this.refs[N]);)N=M;return M||this.schemas[N]||v.call(this,E,N)}function v(E,N){const M=this.opts.uriResolver.parse(N),k=(0,O._getFullPath)(this.opts.uriResolver,M);let B=(0,O.getFullPath)(this.opts.uriResolver,E.baseId,void 0);if(Object.keys(E.schema).length>0&&k===B)return T.call(this,M,E);const L=(0,O.normalizeId)(k),z=this.refs[L]||this.schemas[L];if("string"==typeof z){const Q=v.call(this,E,z);return"object"!=typeof Q?.schema?void 0:T.call(this,M,Q)}if("object"==typeof z?.schema){if(z.validate||c.call(this,z),L===(0,O.normalizeId)(N)){const{schema:Q}=z,{schemaId:oe}=this.opts,j=Q[oe];return j&&(B=(0,O.resolveUrl)(this.opts.uriResolver,B,j)),new u({schema:Q,schemaId:oe,root:E,baseId:B})}return T.call(this,M,z)}}A.SchemaEnv=u,A.compileSchema=c,A.resolveRef=function w(E,N,M){var k;M=(0,O.resolveUrl)(this.opts.uriResolver,N,M);const B=E.refs[M];if(B)return B;let L=g.call(this,E,M);if(void 0===L){const z=null===(k=E.localRefs)||void 0===k?void 0:k[M],{schemaId:Q}=this.opts;z&&(L=new u({schema:z,schemaId:Q,root:E,baseId:N}))}return void 0!==L?E.refs[M]=m.call(this,L):void 0},A.getCompilingSchema=h,A.resolveSchema=v;const D=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function T(E,{baseId:N,schema:M,root:k}){var B;if("/"!==(null===(B=E.fragment)||void 0===B?void 0:B[0]))return;for(const Q of E.fragment.slice(1).split("/")){if("boolean"==typeof M)return;const oe=M[(0,P.unescapeFragment)(Q)];if(void 0===oe)return;const j="object"==typeof(M=oe)&&M[this.opts.schemaId];!D.has(Q)&&j&&(N=(0,O.resolveUrl)(this.opts.uriResolver,N,j))}let L;if("boolean"!=typeof M&&M.$ref&&!(0,P.schemaHasRulesButRef)(M,this.RULES)){const Q=(0,O.resolveUrl)(this.opts.uriResolver,N,M.$ref);L=v.call(this,k,Q)}const{schemaId:z}=this.opts;return L=L||new u({schema:M,schemaId:z,root:k,baseId:N}),L.schema!==L.root.schema?L:void 0}},2682:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S={data:new b.Name("data"),valCxt:new b.Name("valCxt"),instancePath:new b.Name("instancePath"),parentData:new b.Name("parentData"),parentDataProperty:new b.Name("parentDataProperty"),rootData:new b.Name("rootData"),dynamicAnchors:new b.Name("dynamicAnchors"),vErrors:new b.Name("vErrors"),errors:new b.Name("errors"),this:new b.Name("this"),self:new b.Name("self"),scope:new b.Name("scope"),json:new b.Name("json"),jsonPos:new b.Name("jsonPos"),jsonLen:new b.Name("jsonLen"),jsonPart:new b.Name("jsonPart")};A.default=S},6606:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(8222);class S extends Error{constructor(O,P,y,u){super(u||`can't resolve reference ${y} from id ${P}`),this.missingRef=(0,b.resolveUrl)(O,P,y),this.missingSchema=(0,b.normalizeId)((0,b.getFullPath)(O,this.missingRef))}}A.default=S},8222:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getSchemaRefs=A.resolveUrl=A.normalizeId=A._getFullPath=A.getFullPath=A.inlineRef=void 0;const b=d(7868),S=d(362),R=d(4331),O=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);A.inlineRef=function P(T,E=!0){return"boolean"==typeof T||(!0===E?!u(T):!!E&&c(T)<=E)};const y=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(T){for(const E in T){if(y.has(E))return!0;const N=T[E];if(Array.isArray(N)&&N.some(u)||"object"==typeof N&&u(N))return!0}return!1}function c(T){let E=0;for(const N in T){if("$ref"===N)return 1/0;if(E++,!O.has(N)&&("object"==typeof T[N]&&(0,b.eachItem)(T[N],M=>E+=c(M)),E===1/0))return 1/0}return E}function w(T,E="",N){!1!==N&&(E=_(E));const M=T.parse(E);return m(T,M)}function m(T,E){return T.serialize(E).split("#")[0]+"#"}A.getFullPath=w,A._getFullPath=m;const h=/#\/?$/;function _(T){return T?T.replace(h,""):""}A.normalizeId=_,A.resolveUrl=function g(T,E,N){return N=_(N),T.resolve(E,N)};const v=/^[a-z_][-a-z0-9._]*$/i;A.getSchemaRefs=function D(T,E){if("boolean"==typeof T)return{};const{schemaId:N,uriResolver:M}=this.opts,k=_(T[N]||E),B={"":k},L=w(M,k,!1),z={},Q=new Set;return R(T,{allKeys:!0},(ne,K,te,le)=>{if(void 0===le)return;const Fe=L+K;let J=B[le];function de(ae){if(ae=_(J?(0,this.opts.uriResolver.resolve)(J,ae):ae),Q.has(ae))throw j(ae);Q.add(ae);let I=this.refs[ae];return"string"==typeof I&&(I=this.refs[I]),"object"==typeof I?oe(ne,I.schema,ae):ae!==_(Fe)&&("#"===ae[0]?(oe(ne,z[ae],ae),z[ae]=ne):this.refs[ae]=Fe),ae}function Ie(ae){if("string"==typeof ae){if(!v.test(ae))throw new Error(`invalid anchor "${ae}"`);de.call(this,`#${ae}`)}}"string"==typeof ne[N]&&(J=de.call(this,ne[N])),Ie.call(this,ne.$anchor),Ie.call(this,ne.$dynamicAnchor),B[K]=J}),z;function oe(ne,K,te){if(void 0!==K&&!S(ne,K))throw j(te)}function j(ne){return new Error(`reference "${ne}" resolves to more than one schema`)}}},6093:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getRules=A.isJSONType=void 0;const b=new Set(["string","number","integer","boolean","null","object","array"]);A.isJSONType=function S(O){return"string"==typeof O&&b.has(O)},A.getRules=function R(){const O={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...O,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},O.number,O.string,O.array,O.object],post:{rules:[]},all:{},keywords:{}}}},7868:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.checkStrictMode=A.getErrorPath=A.Type=A.useFunc=A.setEvaluated=A.evaluatedPropsToName=A.mergeEvaluated=A.eachItem=A.unescapeJsonPointer=A.escapeJsonPointer=A.escapeFragment=A.unescapeFragment=A.schemaRefOrVal=A.schemaHasRulesButRef=A.schemaHasRules=A.checkUnknownRules=A.alwaysValidSchema=A.toHash=void 0;const b=d(5432),S=d(3467);function P(L,z=L.schema){const{opts:Q,self:oe}=L;if(!Q.strictSchema||"boolean"==typeof z)return;const j=oe.RULES.keywords;for(const ne in z)j[ne]||B(L,`unknown keyword: "${ne}"`)}function y(L,z){if("boolean"==typeof L)return!L;for(const Q in L)if(z[Q])return!0;return!1}function h(L){return"number"==typeof L?`${L}`:L.replace(/~/g,"~0").replace(/\//g,"~1")}function _(L){return L.replace(/~1/g,"/").replace(/~0/g,"~")}function v({mergeNames:L,mergeToName:z,mergeValues:Q,resultToName:oe}){return(j,ne,K,te)=>{const le=void 0===K?ne:K instanceof b.Name?(ne instanceof b.Name?L(j,ne,K):z(j,ne,K),K):ne instanceof b.Name?(z(j,K,ne),ne):Q(ne,K);return te!==b.Name||le instanceof b.Name?le:oe(j,le)}}function D(L,z){if(!0===z)return L.var("props",!0);const Q=L.var("props",b._`{}`);return void 0!==z&&T(L,Q,z),Q}function T(L,z,Q){Object.keys(Q).forEach(oe=>L.assign(b._`${z}${(0,b.getProperty)(oe)}`,!0))}A.toHash=function R(L){const z={};for(const Q of L)z[Q]=!0;return z},A.alwaysValidSchema=function O(L,z){return"boolean"==typeof z?z:0===Object.keys(z).length||(P(L,z),!y(z,L.self.RULES.all))},A.checkUnknownRules=P,A.schemaHasRules=y,A.schemaHasRulesButRef=function u(L,z){if("boolean"==typeof L)return!L;for(const Q in L)if("$ref"!==Q&&z.all[Q])return!0;return!1},A.schemaRefOrVal=function c({topSchemaRef:L,schemaPath:z},Q,oe,j){if(!j){if("number"==typeof Q||"boolean"==typeof Q)return Q;if("string"==typeof Q)return b._`${Q}`}return b._`${L}${z}${(0,b.getProperty)(oe)}`},A.unescapeFragment=function w(L){return _(decodeURIComponent(L))},A.escapeFragment=function m(L){return encodeURIComponent(h(L))},A.escapeJsonPointer=h,A.unescapeJsonPointer=_,A.eachItem=function g(L,z){if(Array.isArray(L))for(const Q of L)z(Q);else z(L)},A.mergeEvaluated={props:v({mergeNames:(L,z,Q)=>L.if(b._`${Q} !== true && ${z} !== undefined`,()=>{L.if(b._`${z} === true`,()=>L.assign(Q,!0),()=>L.assign(Q,b._`${Q} || {}`).code(b._`Object.assign(${Q}, ${z})`))}),mergeToName:(L,z,Q)=>L.if(b._`${Q} !== true`,()=>{!0===z?L.assign(Q,!0):(L.assign(Q,b._`${Q} || {}`),T(L,Q,z))}),mergeValues:(L,z)=>!0===L||{...L,...z},resultToName:D}),items:v({mergeNames:(L,z,Q)=>L.if(b._`${Q} !== true && ${z} !== undefined`,()=>L.assign(Q,b._`${z} === true ? true : ${Q} > ${z} ? ${Q} : ${z}`)),mergeToName:(L,z,Q)=>L.if(b._`${Q} !== true`,()=>L.assign(Q,!0===z||b._`${Q} > ${z} ? ${Q} : ${z}`)),mergeValues:(L,z)=>!0===L||Math.max(L,z),resultToName:(L,z)=>L.var("items",z)})},A.evaluatedPropsToName=D,A.setEvaluated=T;const E={};A.useFunc=function N(L,z){return L.scopeValue("func",{ref:z,code:E[z.code]||(E[z.code]=new S._Code(z.code))})};var M=function(L){return L[L.Num=0]="Num",L[L.Str=1]="Str",L}(M||(A.Type=M={}));function B(L,z,Q=L.opts.strictSchema){if(Q){if(z=`strict mode: ${z}`,!0===Q)throw new Error(z);L.self.logger.warn(z)}}A.getErrorPath=function k(L,z,Q){if(L instanceof b.Name){const oe=z===M.Num;return Q?oe?b._`"[" + ${L} + "]"`:b._`"['" + ${L} + "']"`:oe?b._`"/" + ${L}`:b._`"/" + ${L}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return Q?(0,b.getProperty)(L).toString():"/"+h(L)},A.checkStrictMode=B},1064:(Z,A)=>{"use strict";function b(R,O){return O.rules.some(P=>S(R,P))}function S(R,O){var P;return void 0!==R[O.keyword]||(null===(P=O.definition.implements)||void 0===P?void 0:P.some(y=>void 0!==R[y]))}Object.defineProperty(A,"__esModule",{value:!0}),A.shouldUseRule=A.shouldUseGroup=A.schemaHasRulesForType=void 0,A.schemaHasRulesForType=function d({schema:R,self:O},P){const y=O.RULES.types[P];return y&&!0!==y&&b(R,y)},A.shouldUseGroup=b,A.shouldUseRule=S},9318:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.boolOrEmptySchema=A.topBoolOrEmptySchema=void 0;const b=d(7511),S=d(5432),R=d(2682),O={message:"boolean schema is false"};function u(c,w){const{gen:m,data:h}=c;(0,b.reportError)({gen:m,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c},O,void 0,w)}A.topBoolOrEmptySchema=function P(c){const{gen:w,schema:m,validateName:h}=c;!1===m?u(c,!1):"object"==typeof m&&!0===m.$async?w.return(R.default.data):(w.assign(S._`${h}.errors`,null),w.return(!0))},A.boolOrEmptySchema=function y(c,w){const{gen:m,schema:h}=c;!1===h?(m.var(w,!1),u(c)):m.var(w,!0)}},5894:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.reportTypeError=A.checkDataTypes=A.checkDataType=A.coerceAndCheckDataType=A.getJSONTypes=A.getSchemaTypes=A.DataType=void 0;const b=d(6093),S=d(1064),R=d(7511),O=d(5432),P=d(7868);var y=function(M){return M[M.Correct=0]="Correct",M[M.Wrong=1]="Wrong",M}(y||(A.DataType=y={}));function c(M){const k=Array.isArray(M)?M:M?[M]:[];if(k.every(b.isJSONType))return k;throw new Error("type must be JSONType or JSONType[]: "+k.join(","))}A.getSchemaTypes=function u(M){const k=c(M.type);if(k.includes("null")){if(!1===M.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!k.length&&void 0!==M.nullable)throw new Error('"nullable" cannot be used without "type"');!0===M.nullable&&k.push("null")}return k},A.getJSONTypes=c,A.coerceAndCheckDataType=function w(M,k){const{gen:B,data:L,opts:z}=M,Q=function h(M,k){return k?M.filter(B=>m.has(B)||"array"===k&&"array"===B):[]}(k,z.coerceTypes),oe=k.length>0&&!(0===Q.length&&1===k.length&&(0,S.schemaHasRulesForType)(M,k[0]));if(oe){const j=D(k,L,z.strictNumbers,y.Wrong);B.if(j,()=>{Q.length?function _(M,k,B){const{gen:L,data:z,opts:Q}=M,oe=L.let("dataType",O._`typeof ${z}`),j=L.let("coerced",O._`undefined`);"array"===Q.coerceTypes&&L.if(O._`${oe} == 'object' && Array.isArray(${z}) && ${z}.length == 1`,()=>L.assign(z,O._`${z}[0]`).assign(oe,O._`typeof ${z}`).if(D(k,z,Q.strictNumbers),()=>L.assign(j,z))),L.if(O._`${j} !== undefined`);for(const K of B)(m.has(K)||"array"===K&&"array"===Q.coerceTypes)&&ne(K);function ne(K){switch(K){case"string":return void L.elseIf(O._`${oe} == "number" || ${oe} == "boolean"`).assign(j,O._`"" + ${z}`).elseIf(O._`${z} === null`).assign(j,O._`""`);case"number":return void L.elseIf(O._`${oe} == "boolean" || ${z} === null
              || (${oe} == "string" && ${z} && ${z} == +${z})`).assign(j,O._`+${z}`);case"integer":return void L.elseIf(O._`${oe} === "boolean" || ${z} === null
              || (${oe} === "string" && ${z} && ${z} == +${z} && !(${z} % 1))`).assign(j,O._`+${z}`);case"boolean":return void L.elseIf(O._`${z} === "false" || ${z} === 0 || ${z} === null`).assign(j,!1).elseIf(O._`${z} === "true" || ${z} === 1`).assign(j,!0);case"null":return L.elseIf(O._`${z} === "" || ${z} === 0 || ${z} === false`),void L.assign(j,null);case"array":L.elseIf(O._`${oe} === "string" || ${oe} === "number"
              || ${oe} === "boolean" || ${z} === null`).assign(j,O._`[${z}]`)}}L.else(),E(M),L.endIf(),L.if(O._`${j} !== undefined`,()=>{L.assign(z,j),function g({gen:M,parentData:k,parentDataProperty:B},L){M.if(O._`${k} !== undefined`,()=>M.assign(O._`${k}[${B}]`,L))}(M,j)})}(M,k,Q):E(M)})}return oe};const m=new Set(["string","number","integer","boolean","null"]);function v(M,k,B,L=y.Correct){const z=L===y.Correct?O.operators.EQ:O.operators.NEQ;let Q;switch(M){case"null":return O._`${k} ${z} null`;case"array":Q=O._`Array.isArray(${k})`;break;case"object":Q=O._`${k} && typeof ${k} == "object" && !Array.isArray(${k})`;break;case"integer":Q=oe(O._`!(${k} % 1) && !isNaN(${k})`);break;case"number":Q=oe();break;default:return O._`typeof ${k} ${z} ${M}`}return L===y.Correct?Q:(0,O.not)(Q);function oe(j=O.nil){return(0,O.and)(O._`typeof ${k} == "number"`,j,B?O._`isFinite(${k})`:O.nil)}}function D(M,k,B,L){if(1===M.length)return v(M[0],k,B,L);let z;const Q=(0,P.toHash)(M);if(Q.array&&Q.object){const oe=O._`typeof ${k} != "object"`;z=Q.null?oe:O._`!${k} || ${oe}`,delete Q.null,delete Q.array,delete Q.object}else z=O.nil;Q.number&&delete Q.integer;for(const oe in Q)z=(0,O.and)(z,v(oe,k,B,L));return z}A.checkDataType=v,A.checkDataTypes=D;const T={message:({schema:M})=>`must be ${M}`,params:({schema:M,schemaValue:k})=>"string"==typeof M?O._`{type: ${M}}`:O._`{type: ${k}}`};function E(M){const k=function N(M){const{gen:k,data:B,schema:L}=M,z=(0,P.schemaRefOrVal)(M,L,"type");return{gen:k,keyword:"type",data:B,schema:L.type,schemaCode:z,schemaValue:z,parentSchema:L,params:{},it:M}}(M);(0,R.reportError)(k,T)}A.reportTypeError=E},3599:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.assignDefaults=void 0;const b=d(5432),S=d(7868);function O(P,y,u){const{gen:c,compositeRule:w,data:m,opts:h}=P;if(void 0===u)return;const _=b._`${m}${(0,b.getProperty)(y)}`;if(w)return void(0,S.checkStrictMode)(P,`default is ignored for: ${_}`);let g=b._`${_} === undefined`;"empty"===h.useDefaults&&(g=b._`${g} || ${_} === null || ${_} === ""`),c.if(g,b._`${_} = ${(0,b.stringify)(u)}`)}A.assignDefaults=function R(P,y){const{properties:u,items:c}=P.schema;if("object"===y&&u)for(const w in u)O(P,w,u[w].default);else"array"===y&&Array.isArray(c)&&c.forEach((w,m)=>O(P,m,w.default))}},7157:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getData=A.KeywordCxt=A.validateFunctionCode=void 0;const b=d(9318),S=d(5894),R=d(1064),O=d(5894),P=d(3599),y=d(742),u=d(5924),c=d(5432),w=d(2682),m=d(8222),h=d(7868),_=d(7511);function v({gen:Ke,validateName:Ge,schema:Ae,schemaEnv:je,opts:se},W){se.code.es5?Ke.func(Ge,c._`${w.default.data}, ${w.default.valCxt}`,je.$async,()=>{Ke.code(c._`"use strict"; ${M(Ae,se)}`),function T(Ke,Ge){Ke.if(w.default.valCxt,()=>{Ke.var(w.default.instancePath,c._`${w.default.valCxt}.${w.default.instancePath}`),Ke.var(w.default.parentData,c._`${w.default.valCxt}.${w.default.parentData}`),Ke.var(w.default.parentDataProperty,c._`${w.default.valCxt}.${w.default.parentDataProperty}`),Ke.var(w.default.rootData,c._`${w.default.valCxt}.${w.default.rootData}`),Ge.dynamicRef&&Ke.var(w.default.dynamicAnchors,c._`${w.default.valCxt}.${w.default.dynamicAnchors}`)},()=>{Ke.var(w.default.instancePath,c._`""`),Ke.var(w.default.parentData,c._`undefined`),Ke.var(w.default.parentDataProperty,c._`undefined`),Ke.var(w.default.rootData,w.default.data),Ge.dynamicRef&&Ke.var(w.default.dynamicAnchors,c._`{}`)})}(Ke,se),Ke.code(W)}):Ke.func(Ge,c._`${w.default.data}, ${function D(Ke){return c._`{${w.default.instancePath}="", ${w.default.parentData}, ${w.default.parentDataProperty}, ${w.default.rootData}=${w.default.data}${Ke.dynamicRef?c._`, ${w.default.dynamicAnchors}={}`:c.nil}}={}`}(se)}`,je.$async,()=>Ke.code(M(Ae,se)).code(W))}function M(Ke,Ge){const Ae="object"==typeof Ke&&Ke[Ge.schemaId];return Ae&&(Ge.code.source||Ge.code.process)?c._`/*# sourceURL=${Ae} */`:c.nil}function B({schema:Ke,self:Ge}){if("boolean"==typeof Ke)return!Ke;for(const Ae in Ke)if(Ge.RULES.all[Ae])return!0;return!1}function L(Ke){return"boolean"!=typeof Ke.schema}function Q(Ke){(0,h.checkUnknownRules)(Ke),function j(Ke){const{schema:Ge,errSchemaPath:Ae,opts:je,self:se}=Ke;Ge.$ref&&je.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(Ge,se.RULES)&&se.logger.warn(`$ref: keywords ignored in schema at path "${Ae}"`)}(Ke)}function oe(Ke,Ge){if(Ke.opts.jtd)return de(Ke,[],!1,Ge);const Ae=(0,S.getSchemaTypes)(Ke.schema);de(Ke,Ae,!(0,S.coerceAndCheckDataType)(Ke,Ae),Ge)}function le({gen:Ke,schemaEnv:Ge,schema:Ae,errSchemaPath:je,opts:se}){const W=Ae.$comment;if(!0===se.$comment)Ke.code(c._`${w.default.self}.logger.log(${W})`);else if("function"==typeof se.$comment){const ee=c.str`${je}/$comment`,ke=Ke.scopeValue("root",{ref:Ge.root});Ke.code(c._`${w.default.self}.opts.$comment(${W}, ${ee}, ${ke}.schema)`)}}function de(Ke,Ge,Ae,je){const{gen:se,schema:W,data:ee,allErrors:ke,opts:he,self:Be}=Ke,{RULES:Ne}=Be;function Qe(ut){(0,R.shouldUseGroup)(W,ut)&&(ut.type?(se.if((0,O.checkDataType)(ut.type,ee,he.strictNumbers)),Ie(Ke,ut),1===Ge.length&&Ge[0]===ut.type&&Ae&&(se.else(),(0,O.reportTypeError)(Ke)),se.endIf()):Ie(Ke,ut),ke||se.if(c._`${w.default.errors} === ${je||0}`))}!W.$ref||!he.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(W,Ne)?(he.jtd||function ae(Ke,Ge){Ke.schemaEnv.meta||!Ke.opts.strictTypes||(function Ee(Ke,Ge){if(Ge.length){if(!Ke.dataTypes.length)return void(Ke.dataTypes=Ge);Ge.forEach(Ae=>{G(Ke.dataTypes,Ae)||ye(Ke,`type "${Ae}" not allowed by context "${Ke.dataTypes.join(",")}"`)}),function re(Ke,Ge){const Ae=[];for(const je of Ke.dataTypes)G(Ge,je)?Ae.push(je):Ge.includes("integer")&&"number"===je&&Ae.push("integer");Ke.dataTypes=Ae}(Ke,Ge)}}(Ke,Ge),Ke.opts.allowUnionTypes||function I(Ke,Ge){Ge.length>1&&(2!==Ge.length||!Ge.includes("null"))&&ye(Ke,"use allowUnionTypes to allow union type keyword")}(Ke,Ge),function $(Ke,Ge){const Ae=Ke.self.RULES.all;for(const je in Ae){const se=Ae[je];if("object"==typeof se&&(0,R.shouldUseRule)(Ke.schema,se)){const{type:W}=se.definition;W.length&&!W.some(ee=>q(Ge,ee))&&ye(Ke,`missing type "${W.join(",")}" for keyword "${je}"`)}}}(Ke,Ke.dataTypes))}(Ke,Ge),se.block(()=>{for(const ut of Ne.rules)Qe(ut);Qe(Ne.post)})):se.block(()=>Me(Ke,"$ref",Ne.all.$ref.definition))}function Ie(Ke,Ge){const{gen:Ae,schema:je,opts:{useDefaults:se}}=Ke;se&&(0,P.assignDefaults)(Ke,Ge.type),Ae.block(()=>{for(const W of Ge.rules)(0,R.shouldUseRule)(je,W)&&Me(Ke,W.keyword,W.definition,Ge.type)})}function q(Ke,Ge){return Ke.includes(Ge)||"number"===Ge&&Ke.includes("integer")}function G(Ke,Ge){return Ke.includes(Ge)||"integer"===Ge&&Ke.includes("number")}function ye(Ke,Ge){(0,h.checkStrictMode)(Ke,Ge+=` at "${Ke.schemaEnv.baseId+Ke.errSchemaPath}" (strictTypes)`,Ke.opts.strictTypes)}A.validateFunctionCode=function g(Ke){L(Ke)&&(Q(Ke),B(Ke))?function E(Ke){const{schema:Ge,opts:Ae,gen:je}=Ke;v(Ke,()=>{Ae.$comment&&Ge.$comment&&le(Ke),function ne(Ke){const{schema:Ge,opts:Ae}=Ke;void 0!==Ge.default&&Ae.useDefaults&&Ae.strictSchema&&(0,h.checkStrictMode)(Ke,"default is ignored in the schema root")}(Ke),je.let(w.default.vErrors,null),je.let(w.default.errors,0),Ae.unevaluated&&function N(Ke){const{gen:Ge,validateName:Ae}=Ke;Ke.evaluated=Ge.const("evaluated",c._`${Ae}.evaluated`),Ge.if(c._`${Ke.evaluated}.dynamicProps`,()=>Ge.assign(c._`${Ke.evaluated}.props`,c._`undefined`)),Ge.if(c._`${Ke.evaluated}.dynamicItems`,()=>Ge.assign(c._`${Ke.evaluated}.items`,c._`undefined`))}(Ke),oe(Ke),function Fe(Ke){const{gen:Ge,schemaEnv:Ae,validateName:je,ValidationError:se,opts:W}=Ke;Ae.$async?Ge.if(c._`${w.default.errors} === 0`,()=>Ge.return(w.default.data),()=>Ge.throw(c._`new ${se}(${w.default.vErrors})`)):(Ge.assign(c._`${je}.errors`,w.default.vErrors),W.unevaluated&&function J({gen:Ke,evaluated:Ge,props:Ae,items:je}){Ae instanceof c.Name&&Ke.assign(c._`${Ge}.props`,Ae),je instanceof c.Name&&Ke.assign(c._`${Ge}.items`,je)}(Ke),Ge.return(c._`${w.default.errors} === 0`))}(Ke)})}(Ke):v(Ke,()=>(0,b.topBoolOrEmptySchema)(Ke))};class me{constructor(Ge,Ae,je){if((0,y.validateKeywordUsage)(Ge,Ae,je),this.gen=Ge.gen,this.allErrors=Ge.allErrors,this.keyword=je,this.data=Ge.data,this.schema=Ge.schema[je],this.$data=Ae.$data&&Ge.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(Ge,this.schema,je,this.$data),this.schemaType=Ae.schemaType,this.parentSchema=Ge.schema,this.params={},this.it=Ge,this.def=Ae,this.$data)this.schemaCode=Ge.gen.const("vSchema",gt(this.$data,Ge));else if(this.schemaCode=this.schemaValue,!(0,y.validSchemaType)(this.schema,Ae.schemaType,Ae.allowUndefined))throw new Error(`${je} value must be ${JSON.stringify(Ae.schemaType)}`);("code"in Ae?Ae.trackErrors:!1!==Ae.errors)&&(this.errsCount=Ge.gen.const("_errs",w.default.errors))}result(Ge,Ae,je){this.failResult((0,c.not)(Ge),Ae,je)}failResult(Ge,Ae,je){this.gen.if(Ge),je?je():this.error(),Ae?(this.gen.else(),Ae(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Ge,Ae){this.failResult((0,c.not)(Ge),void 0,Ae)}fail(Ge){if(void 0===Ge)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Ge),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Ge){if(!this.$data)return this.fail(Ge);const{schemaCode:Ae}=this;this.fail(c._`${Ae} !== undefined && (${(0,c.or)(this.invalid$data(),Ge)})`)}error(Ge,Ae,je){if(Ae)return this.setParams(Ae),this._error(Ge,je),void this.setParams({});this._error(Ge,je)}_error(Ge,Ae){(Ge?_.reportExtraError:_.reportError)(this,this.def.error,Ae)}$dataError(){(0,_.reportError)(this,this.def.$dataError||_.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,_.resetErrorsCount)(this.gen,this.errsCount)}ok(Ge){this.allErrors||this.gen.if(Ge)}setParams(Ge,Ae){Ae?Object.assign(this.params,Ge):this.params=Ge}block$data(Ge,Ae,je=c.nil){this.gen.block(()=>{this.check$data(Ge,je),Ae()})}check$data(Ge=c.nil,Ae=c.nil){if(!this.$data)return;const{gen:je,schemaCode:se,schemaType:W,def:ee}=this;je.if((0,c.or)(c._`${se} === undefined`,Ae)),Ge!==c.nil&&je.assign(Ge,!0),(W.length||ee.validateSchema)&&(je.elseIf(this.invalid$data()),this.$dataError(),Ge!==c.nil&&je.assign(Ge,!1)),je.else()}invalid$data(){const{gen:Ge,schemaCode:Ae,schemaType:je,def:se,it:W}=this;return(0,c.or)(function ee(){if(je.length){if(!(Ae instanceof c.Name))throw new Error("ajv implementation error");const he=Array.isArray(je)?je:[je];return c._`${(0,O.checkDataTypes)(he,Ae,W.opts.strictNumbers,O.DataType.Wrong)}`}return c.nil}(),function ke(){if(se.validateSchema){const he=Ge.scopeValue("validate$data",{ref:se.validateSchema});return c._`!${he}(${Ae})`}return c.nil}())}subschema(Ge,Ae){const je=(0,u.getSubschema)(this.it,Ge);(0,u.extendSubschemaData)(je,this.it,Ge),(0,u.extendSubschemaMode)(je,Ge);const se={...this.it,...je,items:void 0,props:void 0};return function k(Ke,Ge){L(Ke)&&(Q(Ke),B(Ke))?function z(Ke,Ge){const{schema:Ae,gen:je,opts:se}=Ke;se.$comment&&Ae.$comment&&le(Ke),function K(Ke){const Ge=Ke.schema[Ke.opts.schemaId];Ge&&(Ke.baseId=(0,m.resolveUrl)(Ke.opts.uriResolver,Ke.baseId,Ge))}(Ke),function te(Ke){if(Ke.schema.$async&&!Ke.schemaEnv.$async)throw new Error("async schema in sync schema")}(Ke);const W=je.const("_errs",w.default.errors);oe(Ke,W),je.var(Ge,c._`${W} === ${w.default.errors}`)}(Ke,Ge):(0,b.boolOrEmptySchema)(Ke,Ge)}(se,Ae),se}mergeEvaluated(Ge,Ae){const{it:je,gen:se}=this;je.opts.unevaluated&&(!0!==je.props&&void 0!==Ge.props&&(je.props=h.mergeEvaluated.props(se,Ge.props,je.props,Ae)),!0!==je.items&&void 0!==Ge.items&&(je.items=h.mergeEvaluated.items(se,Ge.items,je.items,Ae)))}mergeValidEvaluated(Ge,Ae){const{it:je,gen:se}=this;if(je.opts.unevaluated&&(!0!==je.props||!0!==je.items))return se.if(Ae,()=>this.mergeEvaluated(Ge,c.Name)),!0}}function Me(Ke,Ge,Ae,je){const se=new me(Ke,Ae,Ge);"code"in Ae?Ae.code(se,je):se.$data&&Ae.validate?(0,y.funcKeywordCode)(se,Ae):"macro"in Ae?(0,y.macroKeywordCode)(se,Ae):(Ae.compile||Ae.validate)&&(0,y.funcKeywordCode)(se,Ae)}A.KeywordCxt=me;const Se=/^\/(?:[^~]|~0|~1)*$/,Ye=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function gt(Ke,{dataLevel:Ge,dataNames:Ae,dataPathArr:je}){let se,W;if(""===Ke)return w.default.rootData;if("/"===Ke[0]){if(!Se.test(Ke))throw new Error(`Invalid JSON-pointer: ${Ke}`);se=Ke,W=w.default.rootData}else{const Be=Ye.exec(Ke);if(!Be)throw new Error(`Invalid JSON-pointer: ${Ke}`);const Ne=+Be[1];if(se=Be[2],"#"===se){if(Ne>=Ge)throw new Error(he("property/index",Ne));return je[Ge-Ne]}if(Ne>Ge)throw new Error(he("data",Ne));if(W=Ae[Ge-Ne],!se)return W}let ee=W;const ke=se.split("/");for(const Be of ke)Be&&(W=c._`${W}${(0,c.getProperty)((0,h.unescapeJsonPointer)(Be))}`,ee=c._`${ee} && ${W}`);return ee;function he(Be,Ne){return`Cannot access ${Be} ${Ne} levels up, current level is ${Ge}`}}A.getData=gt},742:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.validateKeywordUsage=A.validSchemaType=A.funcKeywordCode=A.macroKeywordCode=void 0;const b=d(5432),S=d(2682),R=d(2240),O=d(7511);function u(g){const{gen:v,data:D,it:T}=g;v.if(T.parentData,()=>v.assign(D,b._`${T.parentData}[${T.parentDataProperty}]`))}function m(g,v,D){if(void 0===D)throw new Error(`keyword "${v}" failed to compile`);return g.scopeValue("keyword","function"==typeof D?{ref:D}:{ref:D,code:(0,b.stringify)(D)})}A.macroKeywordCode=function P(g,v){const{gen:D,keyword:T,schema:E,parentSchema:N,it:M}=g,k=v.macro.call(M.self,E,N,M),B=m(D,T,k);!1!==M.opts.validateSchema&&M.self.validateSchema(k,!0);const L=D.name("valid");g.subschema({schema:k,schemaPath:b.nil,errSchemaPath:`${M.errSchemaPath}/${T}`,topSchemaRef:B,compositeRule:!0},L),g.pass(L,()=>g.error(!0))},A.funcKeywordCode=function y(g,v){var D;const{gen:T,keyword:E,schema:N,parentSchema:M,$data:k,it:B}=g;!function w({schemaEnv:g},v){if(v.async&&!g.$async)throw new Error("async keyword in sync schema")}(B,v);const L=!k&&v.compile?v.compile.call(B.self,N,M,B):v.validate,z=m(T,E,L),Q=T.let("valid");function K(le=(v.async?b._`await `:b.nil)){T.assign(Q,b._`${le}${(0,R.callValidateCode)(g,z,B.opts.passContext?S.default.this:S.default.self,!("compile"in v&&!k||!1===v.schema))}`,v.modifying)}function te(le){var Fe;T.if((0,b.not)(null!==(Fe=v.valid)&&void 0!==Fe?Fe:Q),le)}g.block$data(Q,function oe(){if(!1===v.errors)K(),v.modifying&&u(g),te(()=>g.error());else{const le=v.async?function j(){const le=T.let("ruleErrs",null);return T.try(()=>K(b._`await `),Fe=>T.assign(Q,!1).if(b._`${Fe} instanceof ${B.ValidationError}`,()=>T.assign(le,b._`${Fe}.errors`),()=>T.throw(Fe))),le}():function ne(){const le=b._`${z}.errors`;return T.assign(le,null),K(b.nil),le}();v.modifying&&u(g),te(()=>function c(g,v){const{gen:D}=g;D.if(b._`Array.isArray(${v})`,()=>{D.assign(S.default.vErrors,b._`${S.default.vErrors} === null ? ${v} : ${S.default.vErrors}.concat(${v})`).assign(S.default.errors,b._`${S.default.vErrors}.length`),(0,O.extendErrors)(g)},()=>g.error())}(g,le))}}),g.ok(null!==(D=v.valid)&&void 0!==D?D:Q)},A.validSchemaType=function h(g,v,D=!1){return!v.length||v.some(T=>"array"===T?Array.isArray(g):"object"===T?g&&"object"==typeof g&&!Array.isArray(g):typeof g==T||D&&typeof g>"u")},A.validateKeywordUsage=function _({schema:g,opts:v,self:D,errSchemaPath:T},E,N){if(Array.isArray(E.keyword)?!E.keyword.includes(N):E.keyword!==N)throw new Error("ajv implementation error");const M=E.dependencies;if(M?.some(k=>!Object.prototype.hasOwnProperty.call(g,k)))throw new Error(`parent schema must have dependencies of ${N}: ${M.join(",")}`);if(E.validateSchema&&!E.validateSchema(g[N])){const B=`keyword "${N}" value is invalid at path "${T}": `+D.errorsText(E.validateSchema.errors);if("log"!==v.validateSchema)throw new Error(B);D.logger.error(B)}}},5924:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.extendSubschemaMode=A.extendSubschemaData=A.getSubschema=void 0;const b=d(5432),S=d(7868);A.getSubschema=function R(y,{keyword:u,schemaProp:c,schema:w,schemaPath:m,errSchemaPath:h,topSchemaRef:_}){if(void 0!==u&&void 0!==w)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==u){const g=y.schema[u];return void 0===c?{schema:g,schemaPath:b._`${y.schemaPath}${(0,b.getProperty)(u)}`,errSchemaPath:`${y.errSchemaPath}/${u}`}:{schema:g[c],schemaPath:b._`${y.schemaPath}${(0,b.getProperty)(u)}${(0,b.getProperty)(c)}`,errSchemaPath:`${y.errSchemaPath}/${u}/${(0,S.escapeFragment)(c)}`}}if(void 0!==w){if(void 0===m||void 0===h||void 0===_)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:w,schemaPath:m,topSchemaRef:_,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')},A.extendSubschemaData=function O(y,u,{dataProp:c,dataPropType:w,data:m,dataTypes:h,propertyName:_}){if(void 0!==m&&void 0!==c)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=u;if(void 0!==c){const{errorPath:D,dataPathArr:T,opts:E}=u;v(g.let("data",b._`${u.data}${(0,b.getProperty)(c)}`,!0)),y.errorPath=b.str`${D}${(0,S.getErrorPath)(c,w,E.jsPropertySyntax)}`,y.parentDataProperty=b._`${c}`,y.dataPathArr=[...T,y.parentDataProperty]}function v(D){y.data=D,y.dataLevel=u.dataLevel+1,y.dataTypes=[],u.definedProperties=new Set,y.parentData=u.data,y.dataNames=[...u.dataNames,D]}void 0!==m&&(v(m instanceof b.Name?m:g.let("data",m,!0)),void 0!==_&&(y.propertyName=_)),h&&(y.dataTypes=h)},A.extendSubschemaMode=function P(y,{jtdDiscriminator:u,jtdMetadata:c,compositeRule:w,createErrors:m,allErrors:h}){void 0!==w&&(y.compositeRule=w),void 0!==m&&(y.createErrors=m),void 0!==h&&(y.allErrors=h),y.jtdDiscriminator=u,y.jtdMetadata=c}},2113:(Z,A,d)=>{"use strict";var b=d(9293).default;Object.defineProperty(A,"__esModule",{value:!0}),A.CodeGen=A.Name=A.nil=A.stringify=A.str=A._=A.KeywordCxt=void 0;var S=d(7157);Object.defineProperty(A,"KeywordCxt",{enumerable:!0,get:function(){return S.KeywordCxt}});var R=d(5432);Object.defineProperty(A,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(A,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(A,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(A,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(A,"Name",{enumerable:!0,get:function(){return R.Name}}),Object.defineProperty(A,"CodeGen",{enumerable:!0,get:function(){return R.CodeGen}});const O=d(2238),P=d(6606),y=d(6093),u=d(7762),c=d(5432),w=d(8222),m=d(5894),h=d(7868),_=d(3837),g=d(2857),v=(I,$)=>new RegExp(I,$);v.code="new RegExp";const D=["removeAdditional","useDefaults","coerceTypes"],T=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},N={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function k(I){var $,q,G,re,ye,me,Me,Se,Ye,gt,Ke,Ge,Ae,je,se,W,ee,ke,he,Be,Ne,Qe,ut,qe,ht;const F=I.strict,l=null===($=I.code)||void 0===$?void 0:$.optimize,f=!0===l||void 0===l?1:l||0,V=null!==(G=null===(q=I.code)||void 0===q?void 0:q.regExp)&&void 0!==G?G:v,X=null!==(re=I.uriResolver)&&void 0!==re?re:g.default;return{strictSchema:null===(me=null!==(ye=I.strictSchema)&&void 0!==ye?ye:F)||void 0===me||me,strictNumbers:null===(Se=null!==(Me=I.strictNumbers)&&void 0!==Me?Me:F)||void 0===Se||Se,strictTypes:null!==(gt=null!==(Ye=I.strictTypes)&&void 0!==Ye?Ye:F)&&void 0!==gt?gt:"log",strictTuples:null!==(Ge=null!==(Ke=I.strictTuples)&&void 0!==Ke?Ke:F)&&void 0!==Ge?Ge:"log",strictRequired:null!==(je=null!==(Ae=I.strictRequired)&&void 0!==Ae?Ae:F)&&void 0!==je&&je,code:I.code?{...I.code,optimize:f,regExp:V}:{optimize:f,regExp:V},loopRequired:null!==(se=I.loopRequired)&&void 0!==se?se:200,loopEnum:null!==(W=I.loopEnum)&&void 0!==W?W:200,meta:null===(ee=I.meta)||void 0===ee||ee,messages:null===(ke=I.messages)||void 0===ke||ke,inlineRefs:null===(he=I.inlineRefs)||void 0===he||he,schemaId:null!==(Be=I.schemaId)&&void 0!==Be?Be:"$id",addUsedSchema:null===(Ne=I.addUsedSchema)||void 0===Ne||Ne,validateSchema:null===(Qe=I.validateSchema)||void 0===Qe||Qe,validateFormats:null===(ut=I.validateFormats)||void 0===ut||ut,unicodeRegExp:null===(qe=I.unicodeRegExp)||void 0===qe||qe,int32range:null===(ht=I.int32range)||void 0===ht||ht,uriResolver:X}}class B{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...k($)};const{es5:q,lines:G}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:T,es5:q,lines:G}),this.logger=function te(I){if(!1===I)return K;if(void 0===I)return console;if(I.log&&I.warn&&I.error)return I;throw new Error("logger must implement log, warn and error methods")}($.logger);const re=$.validateFormats;$.validateFormats=!1,this.RULES=(0,y.getRules)(),L.call(this,E,$,"NOT SUPPORTED"),L.call(this,N,$,"DEPRECATED","warn"),this._metaOpts=ne.call(this),$.formats&&oe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&j.call(this,$.keywords),"object"==typeof $.meta&&this.addMetaSchema($.meta),Q.call(this),$.validateFormats=re}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:q,schemaId:G}=this.opts;let re=_;"id"===G&&(re={..._},re.id=re.$id,delete re.$id),q&&$&&this.addMetaSchema(re,re[G],!1)}defaultMeta(){const{meta:$,schemaId:q}=this.opts;return this.opts.defaultMeta="object"==typeof $?$[q]||$:void 0}validate($,q){let G;if("string"==typeof $){if(G=this.getSchema($),!G)throw new Error(`no schema with key or ref "${$}"`)}else G=this.compile($);const re=G(q);return"$async"in G||(this.errors=G.errors),re}compile($,q){const G=this._addSchema($,q);return G.validate||this._compileSchemaEnv(G)}compileAsync($,q){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:G}=this.opts;return re.call(this,$,q);function re(se,W){return ye.apply(this,arguments)}function ye(){return(ye=b(function*(se,W){yield me.call(this,se.$schema);const ee=this._addSchema(se,W);return ee.validate||Se.call(this,ee)})).apply(this,arguments)}function me(se){return Me.apply(this,arguments)}function Me(){return(Me=b(function*(se){se&&!this.getSchema(se)&&(yield re.call(this,{$ref:se},!0))})).apply(this,arguments)}function Se(se){return Ye.apply(this,arguments)}function Ye(){return(Ye=b(function*(se){try{return this._compileSchemaEnv(se)}catch(W){if(!(W instanceof P.default))throw W;return gt.call(this,W),yield Ke.call(this,W.missingSchema),Se.call(this,se)}})).apply(this,arguments)}function gt({missingSchema:se,missingRef:W}){if(this.refs[se])throw new Error(`AnySchema ${se} is loaded but ${W} cannot be resolved`)}function Ke(se){return Ge.apply(this,arguments)}function Ge(){return(Ge=b(function*(se){const W=yield Ae.call(this,se);this.refs[se]||(yield me.call(this,W.$schema)),this.refs[se]||this.addSchema(W,se,q)})).apply(this,arguments)}function Ae(se){return je.apply(this,arguments)}function je(){return(je=b(function*(se){const W=this._loading[se];if(W)return W;try{return yield this._loading[se]=G(se)}finally{delete this._loading[se]}})).apply(this,arguments)}}addSchema($,q,G,re=this.opts.validateSchema){if(Array.isArray($)){for(const me of $)this.addSchema(me,void 0,G,re);return this}let ye;if("object"==typeof $){const{schemaId:me}=this.opts;if(ye=$[me],void 0!==ye&&"string"!=typeof ye)throw new Error(`schema ${me} must be string`)}return q=(0,w.normalizeId)(q||ye),this._checkUnique(q),this.schemas[q]=this._addSchema($,G,q,re,!0),this}addMetaSchema($,q,G=this.opts.validateSchema){return this.addSchema($,q,!0,G),this}validateSchema($,q){if("boolean"==typeof $)return!0;let G;if(G=$.$schema,void 0!==G&&"string"!=typeof G)throw new Error("$schema must be a string");if(G=G||this.opts.defaultMeta||this.defaultMeta(),!G)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const re=this.validate(G,$);if(!re&&q){const ye="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(ye);this.logger.error(ye)}return re}getSchema($){let q;for(;"string"==typeof(q=z.call(this,$));)$=q;if(void 0===q){const{schemaId:G}=this.opts,re=new u.SchemaEnv({schema:{},schemaId:G});if(q=u.resolveSchema.call(this,re,$),!q)return;this.refs[$]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=z.call(this,$);return"object"==typeof q&&this._cache.delete(q.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{this._cache.delete($);let G=$[this.opts.schemaId];return G&&(G=(0,w.normalizeId)(G),delete this.schemas[G],delete this.refs[G]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const q of $)this.addKeyword(q);return this}addKeyword($,q){let G;if("string"==typeof $)G=$,"object"==typeof q&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=G);else{if("object"!=typeof $||void 0!==q)throw new Error("invalid addKeywords parameters");if(G=(q=$).keyword,Array.isArray(G)&&!G.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(Fe.call(this,G,q),!q)return(0,h.eachItem)(G,ye=>J.call(this,ye)),this;Ie.call(this,q);const re={...q,type:(0,m.getJSONTypes)(q.type),schemaType:(0,m.getJSONTypes)(q.schemaType)};return(0,h.eachItem)(G,0===re.type.length?ye=>J.call(this,ye,re):ye=>re.type.forEach(me=>J.call(this,ye,re,me))),this}getKeyword($){const q=this.RULES.all[$];return"object"==typeof q?q.definition:!!q}removeKeyword($){const{RULES:q}=this;delete q.keywords[$],delete q.all[$];for(const G of q.rules){const re=G.rules.findIndex(ye=>ye.keyword===$);re>=0&&G.rules.splice(re,1)}return this}addFormat($,q){return"string"==typeof q&&(q=new RegExp(q)),this.formats[$]=q,this}errorsText($=this.errors,{separator:q=", ",dataVar:G="data"}={}){return $&&0!==$.length?$.map(re=>`${G}${re.instancePath} ${re.message}`).reduce((re,ye)=>re+q+ye):"No errors"}$dataMetaSchema($,q){const G=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const re of q){const ye=re.split("/").slice(1);let me=$;for(const Me of ye)me=me[Me];for(const Me in G){const Se=G[Me];if("object"!=typeof Se)continue;const{$data:Ye}=Se.definition,gt=me[Me];Ye&&gt&&(me[Me]=Ee(gt))}}return $}_removeAllSchemas($,q){for(const G in $){const re=$[G];(!q||q.test(G))&&("string"==typeof re?delete $[G]:re&&!re.meta&&(this._cache.delete(re.schema),delete $[G]))}}_addSchema($,q,G,re=this.opts.validateSchema,ye=this.opts.addUsedSchema){let me;const{schemaId:Me}=this.opts;if("object"==typeof $)me=$[Me];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof $)throw new Error("schema must be object or boolean")}let Se=this._cache.get($);if(void 0!==Se)return Se;G=(0,w.normalizeId)(me||G);const Ye=w.getSchemaRefs.call(this,$,G);return Se=new u.SchemaEnv({schema:$,schemaId:Me,meta:q,baseId:G,localRefs:Ye}),this._cache.set(Se.schema,Se),ye&&!G.startsWith("#")&&(G&&this._checkUnique(G),this.refs[G]=Se),re&&this.validateSchema($,!0),Se}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):u.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const q=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,$)}finally{this.opts=q}}}function L(I,$,q,G="error"){for(const re in I)re in $&&this.logger[G](`${q}: option ${re}. ${I[re]}`)}function z(I){return I=(0,w.normalizeId)(I),this.schemas[I]||this.refs[I]}function Q(){const I=this.opts.schemas;if(I)if(Array.isArray(I))this.addSchema(I);else for(const $ in I)this.addSchema(I[$],$)}function oe(){for(const I in this.opts.formats){const $=this.opts.formats[I];$&&this.addFormat(I,$)}}function j(I){if(Array.isArray(I))this.addVocabulary(I);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in I){const q=I[$];q.keyword||(q.keyword=$),this.addKeyword(q)}}}function ne(){const I={...this.opts};for(const $ of D)delete I[$];return I}B.ValidationError=O.default,B.MissingRefError=P.default,A.default=B;const K={log(){},warn(){},error(){}},le=/^[a-z_$][a-z0-9_$:-]*$/i;function Fe(I,$){const{RULES:q}=this;if((0,h.eachItem)(I,G=>{if(q.keywords[G])throw new Error(`Keyword ${G} is already defined`);if(!le.test(G))throw new Error(`Keyword ${G} has invalid name`)}),$&&$.$data&&!("code"in $)&&!("validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function J(I,$,q){var G;const re=$?.post;if(q&&re)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ye}=this;let me=re?ye.post:ye.rules.find(({type:Se})=>Se===q);if(me||(me={type:q,rules:[]},ye.rules.push(me)),ye.keywords[I]=!0,!$)return;const Me={keyword:I,definition:{...$,type:(0,m.getJSONTypes)($.type),schemaType:(0,m.getJSONTypes)($.schemaType)}};$.before?de.call(this,me,Me,$.before):me.rules.push(Me),ye.all[I]=Me,null===(G=$.implements)||void 0===G||G.forEach(Se=>this.addKeyword(Se))}function de(I,$,q){const G=I.rules.findIndex(re=>re.keyword===q);G>=0?I.rules.splice(G,0,$):(I.rules.push($),this.logger.warn(`rule ${q} is not defined`))}function Ie(I){let{metaSchema:$}=I;void 0!==$&&(I.$data&&this.opts.$data&&($=Ee($)),I.validateSchema=this.compile($,!0))}const ae={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ee(I){return{anyOf:[I,ae]}}},4195:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(362);b.code='require("ajv/dist/runtime/equal").default',A.default=b},1506:(Z,A)=>{"use strict";function d(b){const S=b.length;let P,R=0,O=0;for(;O<S;)R++,P=b.charCodeAt(O++),P>=55296&&P<=56319&&O<S&&(P=b.charCodeAt(O),56320==(64512&P)&&O++);return R}Object.defineProperty(A,"__esModule",{value:!0}),A.default=d,d.code='require("ajv/dist/runtime/ucs2length").default'},2857:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(8280);b.code='require("ajv/dist/runtime/uri").default',A.default=b},2238:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});class d extends Error{constructor(S){super("validation failed"),this.errors=S,this.ajv=this.validation=!0}}A.default=d},2676:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.validateAdditionalItems=void 0;const b=d(5432),S=d(7868),O={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:y}})=>b.str`must NOT have more than ${y} items`,params:({params:{len:y}})=>b._`{limit: ${y}}`},code(y){const{parentSchema:u,it:c}=y,{items:w}=u;Array.isArray(w)?P(y,w):(0,S.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas')}};function P(y,u){const{gen:c,schema:w,data:m,keyword:h,it:_}=y;_.items=!0;const g=c.const("len",b._`${m}.length`);if(!1===w)y.setParams({len:u.length}),y.pass(b._`${g} <= ${u.length}`);else if("object"==typeof w&&!(0,S.alwaysValidSchema)(_,w)){const D=c.var("valid",b._`${g} <= ${u.length}`);c.if((0,b.not)(D),()=>function v(D){c.forRange("i",u.length,g,T=>{y.subschema({keyword:h,dataProp:T,dataPropType:S.Type.Num},D),_.allErrors||c.if((0,b.not)(D),()=>c.break())})}(D)),y.ok(D)}}A.validateAdditionalItems=P,A.default=O},4491:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(2240),S=d(5432),R=d(2682),O=d(7868);A.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>S._`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:c,schema:w,parentSchema:m,data:h,errsCount:_,it:g}=u;if(!_)throw new Error("ajv implementation error");const{allErrors:v,opts:D}=g;if(g.props=!0,"all"!==D.removeAdditional&&(0,O.alwaysValidSchema)(g,w))return;const T=(0,b.allSchemaProperties)(m.properties),E=(0,b.allSchemaProperties)(m.patternProperties);function k(z){c.code(S._`delete ${h}[${z}]`)}function B(z){if("all"===D.removeAdditional||D.removeAdditional&&!1===w)k(z);else{if(!1===w)return u.setParams({additionalProperty:z}),u.error(),void(v||c.break());if("object"==typeof w&&!(0,O.alwaysValidSchema)(g,w)){const Q=c.name("valid");"failing"===D.removeAdditional?(L(z,Q,!1),c.if((0,S.not)(Q),()=>{u.reset(),k(z)})):(L(z,Q),v||c.if((0,S.not)(Q),()=>c.break()))}}}function L(z,Q,oe){const j={keyword:"additionalProperties",dataProp:z,dataPropType:O.Type.Str};!1===oe&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(j,Q)}(function N(){c.forIn("key",h,z=>{T.length||E.length?c.if(function M(z){let Q;if(T.length>8){const oe=(0,O.schemaRefOrVal)(g,m.properties,"properties");Q=(0,b.isOwnProperty)(c,oe,z)}else Q=T.length?(0,S.or)(...T.map(oe=>S._`${z} === ${oe}`)):S.nil;return E.length&&(Q=(0,S.or)(Q,...E.map(oe=>S._`${(0,b.usePattern)(u,oe)}.test(${z})`))),(0,S.not)(Q)}(z),()=>B(z)):B(z)})})(),u.ok(S._`${_} === ${R.default.errors}`)}}},2937:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(7868);A.default={keyword:"allOf",schemaType:"array",code(R){const{gen:O,schema:P,it:y}=R;if(!Array.isArray(P))throw new Error("ajv implementation error");const u=O.name("valid");P.forEach((c,w)=>{if((0,b.alwaysValidSchema)(y,c))return;const m=R.subschema({keyword:"allOf",schemaProp:w},u);R.ok(u),R.mergeEvaluated(m)})}}},3968:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const S={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:d(2240).validateUnion,error:{message:"must match a schema in anyOf"}};A.default=S},6066:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868);A.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:P,max:y}})=>void 0===y?b.str`must contain at least ${P} valid item(s)`:b.str`must contain at least ${P} and no more than ${y} valid item(s)`,params:({params:{min:P,max:y}})=>void 0===y?b._`{minContains: ${P}}`:b._`{minContains: ${P}, maxContains: ${y}}`},code(P){const{gen:y,schema:u,parentSchema:c,data:w,it:m}=P;let h,_;const{minContains:g,maxContains:v}=c;m.opts.next?(h=void 0===g?1:g,_=v):h=1;const D=y.const("len",b._`${w}.length`);if(P.setParams({min:h,max:_}),void 0===_&&0===h)return void(0,S.checkStrictMode)(m,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==_&&h>_)return(0,S.checkStrictMode)(m,'"minContains" > "maxContains" is always invalid'),void P.fail();if((0,S.alwaysValidSchema)(m,u)){let k=b._`${D} >= ${h}`;return void 0!==_&&(k=b._`${k} && ${D} <= ${_}`),void P.pass(k)}m.items=!0;const T=y.name("valid");function E(){const k=y.name("_valid"),B=y.let("count",0);N(k,()=>y.if(k,()=>function M(k){y.code(b._`${k}++`),void 0===_?y.if(b._`${k} >= ${h}`,()=>y.assign(T,!0).break()):(y.if(b._`${k} > ${_}`,()=>y.assign(T,!1).break()),1===h?y.assign(T,!0):y.if(b._`${k} >= ${h}`,()=>y.assign(T,!0)))}(B)))}function N(k,B){y.forRange("i",0,D,L=>{P.subschema({keyword:"contains",dataProp:L,dataPropType:S.Type.Num,compositeRule:!0},k),B()})}void 0===_&&1===h?N(T,()=>y.if(T,()=>y.break())):0===h?(y.let(T,!0),void 0!==_&&y.if(b._`${w}.length > 0`,E)):(y.let(T,!1),E()),P.result(T,()=>P.reset())}}},9310:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.validateSchemaDeps=A.validatePropertyDeps=A.error=void 0;const b=d(5432),S=d(7868),R=d(2240);A.error={message:({params:{property:c,depsCount:w,deps:m}})=>b.str`must have ${1===w?"property":"properties"} ${m} when property ${c} is present`,params:({params:{property:c,depsCount:w,deps:m,missingProperty:h}})=>b._`{property: ${c},
    missingProperty: ${h},
    depsCount: ${w},
    deps: ${m}}`};const O={keyword:"dependencies",type:"object",schemaType:"object",error:A.error,code(c){const[w,m]=function P({schema:c}){const w={},m={};for(const h in c)"__proto__"!==h&&((Array.isArray(c[h])?w:m)[h]=c[h]);return[w,m]}(c);y(c,w),u(c,m)}};function y(c,w=c.schema){const{gen:m,data:h,it:_}=c;if(0===Object.keys(w).length)return;const g=m.let("missing");for(const v in w){const D=w[v];if(0===D.length)continue;const T=(0,R.propertyInData)(m,h,v,_.opts.ownProperties);c.setParams({property:v,depsCount:D.length,deps:D.join(", ")}),_.allErrors?m.if(T,()=>{for(const E of D)(0,R.checkReportMissingProp)(c,E)}):(m.if(b._`${T} && (${(0,R.checkMissingProp)(c,D,g)})`),(0,R.reportMissingProp)(c,g),m.else())}}function u(c,w=c.schema){const{gen:m,data:h,keyword:_,it:g}=c,v=m.name("valid");for(const D in w)(0,S.alwaysValidSchema)(g,w[D])||(m.if((0,R.propertyInData)(m,h,D,g.opts.ownProperties),()=>{const T=c.subschema({keyword:_,schemaProp:D},v);c.mergeValidEvaluated(T,v)},()=>m.var(v,!0)),c.ok(v))}A.validatePropertyDeps=y,A.validateSchemaDeps=u,A.default=O},3884:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868);function P(y,u){const c=y.schema[u];return void 0!==c&&!(0,S.alwaysValidSchema)(y,c)}A.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:y})=>b.str`must match "${y.ifClause}" schema`,params:({params:y})=>b._`{failingKeyword: ${y.ifClause}}`},code(y){const{gen:u,parentSchema:c,it:w}=y;void 0===c.then&&void 0===c.else&&(0,S.checkStrictMode)(w,'"if" without "then" and "else" is ignored');const m=P(w,"then"),h=P(w,"else");if(!m&&!h)return;const _=u.let("valid",!0),g=u.name("_valid");if(function v(){const T=y.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);y.mergeEvaluated(T)}(),y.reset(),m&&h){const T=u.let("ifClause");y.setParams({ifClause:T}),u.if(g,D("then",T),D("else",T))}else m?u.if(g,D("then")):u.if((0,b.not)(g),D("else"));function D(T,E){return()=>{const N=y.subschema({keyword:T},g);u.assign(_,g),y.mergeValidEvaluated(N,_),E?u.assign(E,b._`${T}`):y.setParams({ifClause:T})}}y.pass(_,()=>y.error(!0))}}},9795:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(2676),S=d(207),R=d(3403),O=d(8555),P=d(6066),y=d(9310),u=d(2944),c=d(4491),w=d(8758),m=d(5852),h=d(6970),_=d(3968),g=d(2646),v=d(2937),D=d(3884),T=d(3337);A.default=function E(N=!1){const M=[h.default,_.default,g.default,v.default,D.default,T.default,u.default,c.default,y.default,w.default,m.default];return N?M.push(S.default,O.default):M.push(b.default,R.default),M.push(P.default),M}},3403:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.validateTuple=void 0;const b=d(5432),S=d(7868),R=d(2240),O={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(y){const{schema:u,it:c}=y;if(Array.isArray(u))return P(y,"additionalItems",u);c.items=!0,!(0,S.alwaysValidSchema)(c,u)&&y.ok((0,R.validateArray)(y))}};function P(y,u,c=y.schema){const{gen:w,parentSchema:m,data:h,keyword:_,it:g}=y;(function T(E){const{opts:N,errSchemaPath:M}=g,k=c.length;N.strictTuples&&!(k===E.minItems&&(k===E.maxItems||!1===E[u]))&&(0,S.checkStrictMode)(g,`"${_}" is ${k}-tuple, but minItems or maxItems/${u} are not specified or different at path "${M}"`,N.strictTuples)})(m),g.opts.unevaluated&&c.length&&!0!==g.items&&(g.items=S.mergeEvaluated.items(w,c.length,g.items));const v=w.name("valid"),D=w.const("len",b._`${h}.length`);c.forEach((E,N)=>{(0,S.alwaysValidSchema)(g,E)||(w.if(b._`${D} > ${N}`,()=>y.subschema({keyword:_,schemaProp:N,dataProp:N},v)),y.ok(v))})}A.validateTuple=P,A.default=O},8555:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868),R=d(2240),O=d(2676);A.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>b.str`must NOT have more than ${u} items`,params:({params:{len:u}})=>b._`{limit: ${u}}`},code(u){const{schema:c,parentSchema:w,it:m}=u,{prefixItems:h}=w;m.items=!0,!(0,S.alwaysValidSchema)(m,c)&&(h?(0,O.validateAdditionalItems)(u,h):u.ok((0,R.validateArray)(u)))}}},6970:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(7868);A.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(R){const{gen:O,schema:P,it:y}=R;if((0,b.alwaysValidSchema)(y,P))return void R.fail();const u=O.name("valid");R.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),R.failResult(u,()=>R.reset(),()=>R.error())},error:{message:"must NOT be valid"}}},2646:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868);A.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:P})=>b._`{passingSchemas: ${P.passing}}`},code(P){const{gen:y,schema:u,parentSchema:c,it:w}=P;if(!Array.isArray(u))throw new Error("ajv implementation error");if(w.opts.discriminator&&c.discriminator)return;const m=u,h=y.let("valid",!1),_=y.let("passing",null),g=y.name("_valid");P.setParams({passing:_}),y.block(function v(){m.forEach((D,T)=>{let E;(0,S.alwaysValidSchema)(w,D)?y.var(g,!0):E=P.subschema({keyword:"oneOf",schemaProp:T,compositeRule:!0},g),T>0&&y.if(b._`${g} && ${h}`).assign(h,!1).assign(_,b._`[${_}, ${T}]`).else(),y.if(g,()=>{y.assign(h,!0),y.assign(_,T),E&&P.mergeEvaluated(E,b.Name)})})}),P.result(h,()=>P.reset(),()=>P.error(!0))}}},5852:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(2240),S=d(5432),R=d(7868),O=d(7868);A.default={keyword:"patternProperties",type:"object",schemaType:"object",code(y){const{gen:u,schema:c,data:w,parentSchema:m,it:h}=y,{opts:_}=h,g=(0,b.allSchemaProperties)(c),v=g.filter(B=>(0,R.alwaysValidSchema)(h,c[B]));if(0===g.length||v.length===g.length&&(!h.opts.unevaluated||!0===h.props))return;const D=_.strictSchema&&!_.allowMatchingProperties&&m.properties,T=u.name("valid");!0!==h.props&&!(h.props instanceof S.Name)&&(h.props=(0,O.evaluatedPropsToName)(u,h.props));const{props:E}=h;function M(B){for(const L in D)new RegExp(B).test(L)&&(0,R.checkStrictMode)(h,`property ${L} matches pattern ${B} (use allowMatchingProperties)`)}function k(B){u.forIn("key",w,L=>{u.if(S._`${(0,b.usePattern)(y,B)}.test(${L})`,()=>{const z=v.includes(B);z||y.subschema({keyword:"patternProperties",schemaProp:B,dataProp:L,dataPropType:O.Type.Str},T),h.opts.unevaluated&&!0!==E?u.assign(S._`${E}[${L}]`,!0):!z&&!h.allErrors&&u.if((0,S.not)(T),()=>u.break())})})}!function N(){for(const B of g)D&&M(B),h.allErrors?k(B):(u.var(T,!0),k(B),u.if(T))}()}}},207:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(3403);A.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:R=>(0,b.validateTuple)(R,"items")}},8758:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(7157),S=d(2240),R=d(7868),O=d(4491);A.default={keyword:"properties",type:"object",schemaType:"object",code(y){const{gen:u,schema:c,parentSchema:w,data:m,it:h}=y;"all"===h.opts.removeAdditional&&void 0===w.additionalProperties&&O.default.code(new b.KeywordCxt(h,O.default,"additionalProperties"));const _=(0,S.allSchemaProperties)(c);for(const E of _)h.definedProperties.add(E);h.opts.unevaluated&&_.length&&!0!==h.props&&(h.props=R.mergeEvaluated.props(u,(0,R.toHash)(_),h.props));const g=_.filter(E=>!(0,R.alwaysValidSchema)(h,c[E]));if(0===g.length)return;const v=u.name("valid");for(const E of g)D(E)?T(E):(u.if((0,S.propertyInData)(u,m,E,h.opts.ownProperties)),T(E),h.allErrors||u.else().var(v,!0),u.endIf()),y.it.definedProperties.add(E),y.ok(v);function D(E){return h.opts.useDefaults&&!h.compositeRule&&void 0!==c[E].default}function T(E){y.subschema({keyword:"properties",schemaProp:E,dataProp:E},v)}}}},2944:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868);A.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:P})=>b._`{propertyName: ${P.propertyName}}`},code(P){const{gen:y,schema:u,data:c,it:w}=P;if((0,S.alwaysValidSchema)(w,u))return;const m=y.name("valid");y.forIn("key",c,h=>{P.setParams({propertyName:h}),P.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},m),y.if((0,b.not)(m),()=>{P.error(!0),w.allErrors||y.break()})}),P.ok(m)}}},3337:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(7868);A.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:R,parentSchema:O,it:P}){void 0===O.if&&(0,b.checkStrictMode)(P,`"${R}" without "if" is ignored`)}}},2240:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.validateUnion=A.validateArray=A.usePattern=A.callValidateCode=A.schemaProperties=A.allSchemaProperties=A.noPropertyInData=A.propertyInData=A.isOwnProperty=A.hasPropFunc=A.reportMissingProp=A.checkMissingProp=A.checkReportMissingProp=void 0;const b=d(5432),S=d(7868),R=d(2682),O=d(7868);function c(M){return M.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:b._`Object.prototype.hasOwnProperty`})}function w(M,k,B){return b._`${c(M)}.call(${k}, ${B})`}function h(M,k,B,L){const z=b._`${k}${(0,b.getProperty)(B)} === undefined`;return L?(0,b.or)(z,(0,b.not)(w(M,k,B))):z}function _(M){return M?Object.keys(M).filter(k=>"__proto__"!==k):[]}A.checkReportMissingProp=function P(M,k){const{gen:B,data:L,it:z}=M;B.if(h(B,L,k,z.opts.ownProperties),()=>{M.setParams({missingProperty:b._`${k}`},!0),M.error()})},A.checkMissingProp=function y({gen:M,data:k,it:{opts:B}},L,z){return(0,b.or)(...L.map(Q=>(0,b.and)(h(M,k,Q,B.ownProperties),b._`${z} = ${Q}`)))},A.reportMissingProp=function u(M,k){M.setParams({missingProperty:k},!0),M.error()},A.hasPropFunc=c,A.isOwnProperty=w,A.propertyInData=function m(M,k,B,L){const z=b._`${k}${(0,b.getProperty)(B)} !== undefined`;return L?b._`${z} && ${w(M,k,B)}`:z},A.noPropertyInData=h,A.allSchemaProperties=_,A.schemaProperties=function g(M,k){return _(k).filter(B=>!(0,S.alwaysValidSchema)(M,k[B]))},A.callValidateCode=function v({schemaCode:M,data:k,it:{gen:B,topSchemaRef:L,schemaPath:z,errorPath:Q},it:oe},j,ne,K){const te=K?b._`${M}, ${k}, ${L}${z}`:k,le=[[R.default.instancePath,(0,b.strConcat)(R.default.instancePath,Q)],[R.default.parentData,oe.parentData],[R.default.parentDataProperty,oe.parentDataProperty],[R.default.rootData,R.default.rootData]];oe.opts.dynamicRef&&le.push([R.default.dynamicAnchors,R.default.dynamicAnchors]);const Fe=b._`${te}, ${B.object(...le)}`;return ne!==b.nil?b._`${j}.call(${ne}, ${Fe})`:b._`${j}(${Fe})`};const D=b._`new RegExp`;A.usePattern=function T({gen:M,it:{opts:k}},B){const L=k.unicodeRegExp?"u":"",{regExp:z}=k.code,Q=z(B,L);return M.scopeValue("pattern",{key:Q.toString(),ref:Q,code:b._`${"new RegExp"===z.code?D:(0,O.useFunc)(M,z)}(${B}, ${L})`})},A.validateArray=function E(M){const{gen:k,data:B,keyword:L,it:z}=M,Q=k.name("valid");if(z.allErrors){const j=k.let("valid",!0);return oe(()=>k.assign(j,!1)),j}return k.var(Q,!0),oe(()=>k.break()),Q;function oe(j){const ne=k.const("len",b._`${B}.length`);k.forRange("i",0,ne,K=>{M.subschema({keyword:L,dataProp:K,dataPropType:S.Type.Num},Q),k.if((0,b.not)(Q),j)})}},A.validateUnion=function N(M){const{gen:k,schema:B,keyword:L,it:z}=M;if(!Array.isArray(B))throw new Error("ajv implementation error");if(B.some(ne=>(0,S.alwaysValidSchema)(z,ne))&&!z.opts.unevaluated)return;const oe=k.let("valid",!1),j=k.name("_valid");k.block(()=>B.forEach((ne,K)=>{const te=M.subschema({keyword:L,schemaProp:K,compositeRule:!0},j);k.assign(oe,b._`${oe} || ${j}`),M.mergeValidEvaluated(te,j)||k.if((0,b.not)(oe))})),M.result(oe,()=>M.reset(),()=>M.error(!0))}},3260:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},6281:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(3260),S=d(1680);A.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",b.default,S.default]},1680:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.callRef=A.getValidate=void 0;const b=d(6606),S=d(2240),R=d(5432),O=d(2682),P=d(7762),y=d(7868),u={keyword:"$ref",schemaType:"string",code(m){const{gen:h,schema:_,it:g}=m,{baseId:v,schemaEnv:D,validateName:T,opts:E,self:N}=g,{root:M}=D;if(("#"===_||"#/"===_)&&v===M.baseId)return function B(){if(D===M)return w(m,T,D,D.$async);const Q=h.scopeValue("root",{ref:M});return w(m,R._`${Q}.validate`,M,M.$async)}();const k=P.resolveRef.call(N,M,v,_);if(void 0===k)throw new b.default(g.opts.uriResolver,v,_);return k instanceof P.SchemaEnv?function L(Q){const oe=c(m,Q);w(m,oe,Q,Q.$async)}(k):function z(Q){const oe=h.scopeValue("schema",!0===E.code.source?{ref:Q,code:(0,R.stringify)(Q)}:{ref:Q}),j=h.name("valid"),ne=m.subschema({schema:Q,dataTypes:[],schemaPath:R.nil,topSchemaRef:oe,errSchemaPath:_},j);m.mergeEvaluated(ne),m.ok(j)}(k)}};function c(m,h){const{gen:_}=m;return h.validate?_.scopeValue("validate",{ref:h.validate}):R._`${_.scopeValue("wrapper",{ref:h})}.validate`}function w(m,h,_,g){const{gen:v,it:D}=m,{allErrors:T,schemaEnv:E,opts:N}=D,M=N.passContext?O.default.this:R.nil;function L(Q){const oe=R._`${Q}.errors`;v.assign(O.default.vErrors,R._`${O.default.vErrors} === null ? ${oe} : ${O.default.vErrors}.concat(${oe})`),v.assign(O.default.errors,R._`${O.default.vErrors}.length`)}function z(Q){var oe;if(!D.opts.unevaluated)return;const j=null===(oe=_?.validate)||void 0===oe?void 0:oe.evaluated;if(!0!==D.props)if(j&&!j.dynamicProps)void 0!==j.props&&(D.props=y.mergeEvaluated.props(v,j.props,D.props));else{const ne=v.var("props",R._`${Q}.evaluated.props`);D.props=y.mergeEvaluated.props(v,ne,D.props,R.Name)}if(!0!==D.items)if(j&&!j.dynamicItems)void 0!==j.items&&(D.items=y.mergeEvaluated.items(v,j.items,D.items));else{const ne=v.var("items",R._`${Q}.evaluated.items`);D.items=y.mergeEvaluated.items(v,ne,D.items,R.Name)}}g?function k(){if(!E.$async)throw new Error("async schema referenced by sync schema");const Q=v.let("valid");v.try(()=>{v.code(R._`await ${(0,S.callValidateCode)(m,h,M)}`),z(h),T||v.assign(Q,!0)},oe=>{v.if(R._`!(${oe} instanceof ${D.ValidationError})`,()=>v.throw(oe)),L(oe),T||v.assign(Q,!1)}),m.ok(Q)}():function B(){m.result((0,S.callValidateCode)(m,h,M),()=>z(h),()=>L(h))}()}A.getValidate=c,A.callRef=w,A.default=u},8058:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7543),R=d(7762),O=d(6606),P=d(7868);A.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:c,tagName:w}})=>c===S.DiscrError.Tag?`tag "${w}" must be string`:`value of tag "${w}" must be in oneOf`,params:({params:{discrError:c,tag:w,tagName:m}})=>b._`{error: ${c}, tag: ${m}, tagValue: ${w}}`},code(c){const{gen:w,data:m,schema:h,parentSchema:_,it:g}=c,{oneOf:v}=_;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const D=h.propertyName;if("string"!=typeof D)throw new Error("discriminator: requires propertyName");if(h.mapping)throw new Error("discriminator: mapping is not supported");if(!v)throw new Error("discriminator: requires oneOf keyword");const T=w.let("valid",!1),E=w.const("tag",b._`${m}${(0,b.getProperty)(D)}`);function M(B){const L=w.name("valid"),z=c.subschema({keyword:"oneOf",schemaProp:B},L);return c.mergeEvaluated(z,b.Name),L}w.if(b._`typeof ${E} == "string"`,()=>function N(){const B=function k(){var B;const L={},z=oe(_);let Q=!0;for(let K=0;K<v.length;K++){let te=v[K];if(te?.$ref&&!(0,P.schemaHasRulesButRef)(te,g.self.RULES)){const Fe=te.$ref;if(te=R.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,Fe),te instanceof R.SchemaEnv&&(te=te.schema),void 0===te)throw new O.default(g.opts.uriResolver,g.baseId,Fe)}const le=null===(B=te?.properties)||void 0===B?void 0:B[D];if("object"!=typeof le)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${D}"`);Q=Q&&(z||oe(te)),j(le,K)}if(!Q)throw new Error(`discriminator: "${D}" must be required`);return L;function oe({required:K}){return Array.isArray(K)&&K.includes(D)}function j(K,te){if(K.const)ne(K.const,te);else{if(!K.enum)throw new Error(`discriminator: "properties/${D}" must have "const" or "enum"`);for(const le of K.enum)ne(le,te)}}function ne(K,te){if("string"!=typeof K||K in L)throw new Error(`discriminator: "${D}" values must be unique strings`);L[K]=te}}();w.if(!1);for(const L in B)w.elseIf(b._`${E} === ${L}`),w.assign(T,M(B[L]));w.else(),c.error(!1,{discrError:S.DiscrError.Mapping,tag:E,tagName:D}),w.endIf()}(),()=>c.error(!1,{discrError:S.DiscrError.Tag,tag:E,tagName:D})),c.ok(T)}}},7543:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.DiscrError=void 0;var d=function(b){return b.Tag="tag",b.Mapping="mapping",b}(d||(A.DiscrError=d={}))},457:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(6281),S=d(7085),R=d(9795),O=d(5309),P=d(3880),y=[b.default,S.default,(0,R.default)(),O.default,P.metadataVocabulary,P.contentVocabulary];A.default=y},8361:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432);A.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:O})=>b.str`must match format "${O}"`,params:({schemaCode:O})=>b._`{format: ${O}}`},code(O,P){const{gen:y,data:u,$data:c,schema:w,schemaCode:m,it:h}=O,{opts:_,errSchemaPath:g,schemaEnv:v,self:D}=h;_.validateFormats&&(c?function T(){const N=y.scopeValue("formats",{ref:D.formats,code:_.code.formats}),M=y.const("fDef",b._`${N}[${m}]`),k=y.let("fType"),B=y.let("format");y.if(b._`typeof ${M} == "object" && !(${M} instanceof RegExp)`,()=>y.assign(k,b._`${M}.type || "string"`).assign(B,b._`${M}.validate`),()=>y.assign(k,b._`"string"`).assign(B,M)),O.fail$data((0,b.or)(function L(){return!1===_.strictSchema?b.nil:b._`${m} && !${B}`}(),function z(){const Q=v.$async?b._`(${M}.async ? await ${B}(${u}) : ${B}(${u}))`:b._`${B}(${u})`,oe=b._`(typeof ${B} == "function" ? ${Q} : ${B}.test(${u}))`;return b._`${B} && ${B} !== true && ${k} === ${P} && !${oe}`}()))}():function E(){const N=D.formats[w];if(!N)return void function L(){if(!1!==_.strictSchema)throw new Error(oe());function oe(){return`unknown format "${w}" ignored in schema at path "${g}"`}D.logger.warn(oe())}();if(!0===N)return;const[M,k,B]=function z(oe){const j=oe instanceof RegExp?(0,b.regexpCode)(oe):_.code.formats?b._`${_.code.formats}${(0,b.getProperty)(w)}`:void 0,ne=y.scopeValue("formats",{key:w,ref:oe,code:j});return"object"!=typeof oe||oe instanceof RegExp?["string",oe,ne]:[oe.type||"string",oe.validate,b._`${ne}.validate`]}(N);M===P&&O.pass(function Q(){if("object"==typeof N&&!(N instanceof RegExp)&&N.async){if(!v.$async)throw new Error("async format in sync schema");return b._`await ${B}(${u})`}return"function"==typeof k?b._`${B}(${u})`:b._`${B}.test(${u})`}())}())}}},5309:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const S=[d(8361).default];A.default=S},3880:(Z,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.contentVocabulary=A.metadataVocabulary=void 0,A.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],A.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7438:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868),R=d(4195);A.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:y})=>b._`{allowedValue: ${y}}`},code(y){const{gen:u,data:c,$data:w,schemaCode:m,schema:h}=y;w||h&&"object"==typeof h?y.fail$data(b._`!${(0,S.useFunc)(u,R.default)}(${c}, ${m})`):y.fail(b._`${h} !== ${c}`)}}},7956:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868),R=d(4195);A.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:y})=>b._`{allowedValues: ${y}}`},code(y){const{gen:u,data:c,$data:w,schema:m,schemaCode:h,it:_}=y;if(!w&&0===m.length)throw new Error("enum must have non-empty array");let v;const D=()=>v??(v=(0,S.useFunc)(u,R.default));let T;if(m.length>=_.opts.loopEnum||w)T=u.let("valid"),y.block$data(T,function E(){u.assign(T,!1),u.forOf("v",h,M=>u.if(b._`${D()}(${c}, ${M})`,()=>u.assign(T,!0).break()))});else{if(!Array.isArray(m))throw new Error("ajv implementation error");const M=u.const("vSchema",h);T=(0,b.or)(...m.map((k,B)=>function N(M,k){const B=m[k];return"object"==typeof B&&null!==B?b._`${D()}(${c}, ${M}[${k}])`:b._`${c} === ${B}`}(M,B)))}y.pass(T)}}},7085:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(9807),S=d(776),R=d(5854),O=d(8675),P=d(1379),y=d(4620),u=d(4812),c=d(3632),w=d(7438),m=d(7956);A.default=[b.default,S.default,R.default,O.default,P.default,y.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},w.default,m.default]},4812:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432);A.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:O,schemaCode:P})=>b.str`must NOT have ${"maxItems"===O?"more":"fewer"} than ${P} items`,params:({schemaCode:O})=>b._`{limit: ${O}}`},code(O){const{keyword:P,data:y,schemaCode:u}=O;O.fail$data(b._`${y}.length ${"maxItems"===P?b.operators.GT:b.operators.LT} ${u}`)}}},5854:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=d(7868),R=d(1506);A.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:y,schemaCode:u})=>b.str`must NOT have ${"maxLength"===y?"more":"fewer"} than ${u} characters`,params:({schemaCode:y})=>b._`{limit: ${y}}`},code(y){const{keyword:u,data:c,schemaCode:w,it:m}=y,h="maxLength"===u?b.operators.GT:b.operators.LT,_=!1===m.opts.unicode?b._`${c}.length`:b._`${(0,S.useFunc)(y.gen,R.default)}(${c})`;y.fail$data(b._`${_} ${h} ${w}`)}}},9807:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432),S=b.operators,R={maximum:{okStr:"<=",ok:S.LTE,fail:S.GT},minimum:{okStr:">=",ok:S.GTE,fail:S.LT},exclusiveMaximum:{okStr:"<",ok:S.LT,fail:S.GTE},exclusiveMinimum:{okStr:">",ok:S.GT,fail:S.LTE}},O={message:({keyword:y,schemaCode:u})=>b.str`must be ${R[y].okStr} ${u}`,params:({keyword:y,schemaCode:u})=>b._`{comparison: ${R[y].okStr}, limit: ${u}}`},P={keyword:Object.keys(R),type:"number",schemaType:"number",$data:!0,error:O,code(y){const{keyword:u,data:c,schemaCode:w}=y;y.fail$data(b._`${c} ${R[u].fail} ${w} || isNaN(${c})`)}};A.default=P},1379:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432);A.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:O,schemaCode:P})=>b.str`must NOT have ${"maxProperties"===O?"more":"fewer"} than ${P} properties`,params:({schemaCode:O})=>b._`{limit: ${O}}`},code(O){const{keyword:P,data:y,schemaCode:u}=O;O.fail$data(b._`Object.keys(${y}).length ${"maxProperties"===P?b.operators.GT:b.operators.LT} ${u}`)}}},776:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5432);A.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:O})=>b.str`must be multiple of ${O}`,params:({schemaCode:O})=>b._`{multipleOf: ${O}}`},code(O){const{gen:P,data:y,schemaCode:u,it:c}=O,w=c.opts.multipleOfPrecision,m=P.let("res"),h=w?b._`Math.abs(Math.round(${m}) - ${m}) > 1e-${w}`:b._`${m} !== parseInt(${m})`;O.fail$data(b._`(${u} === 0 || (${m} = ${y}/${u}, ${h}))`)}}},8675:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(2240),S=d(5432);A.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:P})=>S.str`must match pattern "${P}"`,params:({schemaCode:P})=>S._`{pattern: ${P}}`},code(P){const{data:y,$data:u,schema:c,schemaCode:w,it:m}=P,_=u?S._`(new RegExp(${w}, ${m.opts.unicodeRegExp?"u":""}))`:(0,b.usePattern)(P,c);P.fail$data(S._`!${_}.test(${y})`)}}},4620:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(2240),S=d(5432),R=d(7868);A.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:y}})=>S.str`must have required property '${y}'`,params:({params:{missingProperty:y}})=>S._`{missingProperty: ${y}}`},code(y){const{gen:u,schema:c,schemaCode:w,data:m,$data:h,it:_}=y,{opts:g}=_;if(!h&&0===c.length)return;const v=c.length>=g.loopRequired;if(_.allErrors?function D(){if(v||h)y.block$data(S.nil,E);else for(const M of c)(0,b.checkReportMissingProp)(y,M)}():function T(){const M=u.let("missing");if(v||h){const k=u.let("valid",!0);y.block$data(k,()=>function N(M,k){y.setParams({missingProperty:M}),u.forOf(M,w,()=>{u.assign(k,(0,b.propertyInData)(u,m,M,g.ownProperties)),u.if((0,S.not)(k),()=>{y.error(),u.break()})},S.nil)}(M,k)),y.ok(k)}else u.if((0,b.checkMissingProp)(y,c,M)),(0,b.reportMissingProp)(y,M),u.else()}(),g.strictRequired){const M=y.parentSchema.properties,{definedProperties:k}=y.it;for(const B of c)void 0!==M?.[B]||k.has(B)||(0,R.checkStrictMode)(_,`required property "${B}" is not defined at "${_.schemaEnv.baseId+_.errSchemaPath}" (strictRequired)`,_.opts.strictRequired)}function E(){u.forOf("prop",w,M=>{y.setParams({missingProperty:M}),u.if((0,b.noPropertyInData)(u,m,M,g.ownProperties),()=>y.error())})}}}},3632:(Z,A,d)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});const b=d(5894),S=d(5432),R=d(7868),O=d(4195);A.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:c}})=>S.str`must NOT have duplicate items (items ## ${c} and ${u} are identical)`,params:({params:{i:u,j:c}})=>S._`{i: ${u}, j: ${c}}`},code(u){const{gen:c,data:w,$data:m,schema:h,parentSchema:_,schemaCode:g,it:v}=u;if(!m&&!h)return;const D=c.let("valid"),T=_.items?(0,b.getSchemaTypes)(_.items):[];function M(B,L){const z=c.name("item"),Q=(0,b.checkDataTypes)(T,z,v.opts.strictNumbers,b.DataType.Wrong),oe=c.const("indices",S._`{}`);c.for(S._`;${B}--;`,()=>{c.let(z,S._`${w}[${B}]`),c.if(Q,S._`continue`),T.length>1&&c.if(S._`typeof ${z} == "string"`,S._`${z} += "_"`),c.if(S._`typeof ${oe}[${z}] == "number"`,()=>{c.assign(L,S._`${oe}[${z}]`),u.error(),c.assign(D,!1).break()}).code(S._`${oe}[${z}] = ${B}`)})}function k(B,L){const z=(0,R.useFunc)(c,O.default),Q=c.name("outer");c.label(Q).for(S._`;${B}--;`,()=>c.for(S._`${L} = ${B}; ${L}--;`,()=>c.if(S._`${z}(${w}[${B}], ${w}[${L}])`,()=>{u.error(),c.assign(D,!1).break(Q)})))}u.block$data(D,function E(){const B=c.let("i",S._`${w}.length`),L=c.let("j");u.setParams({i:B,j:L}),c.assign(D,!0),c.if(S._`${B} > 1`,()=>(function N(){return T.length>0&&!T.some(B=>"object"===B||"array"===B)}()?M:k)(B,L))},S._`${g} === false`),u.ok(D)}}},3981:(Z,A)=>{"use strict";A.byteLength=function u(g){var v=y(g),T=v[1];return 3*(v[0]+T)/4-T},A.toByteArray=function w(g){var v,B,D=y(g),T=D[0],E=D[1],N=new S(function c(g,v,D){return 3*(v+D)/4-D}(0,T,E)),M=0,k=E>0?T-4:T;for(B=0;B<k;B+=4)v=b[g.charCodeAt(B)]<<18|b[g.charCodeAt(B+1)]<<12|b[g.charCodeAt(B+2)]<<6|b[g.charCodeAt(B+3)],N[M++]=v>>16&255,N[M++]=v>>8&255,N[M++]=255&v;return 2===E&&(v=b[g.charCodeAt(B)]<<2|b[g.charCodeAt(B+1)]>>4,N[M++]=255&v),1===E&&(v=b[g.charCodeAt(B)]<<10|b[g.charCodeAt(B+1)]<<4|b[g.charCodeAt(B+2)]>>2,N[M++]=v>>8&255,N[M++]=255&v),N},A.fromByteArray=function _(g){for(var v,D=g.length,T=D%3,E=[],N=16383,M=0,k=D-T;M<k;M+=N)E.push(h(g,M,M+N>k?k:M+N));return 1===T?E.push(d[(v=g[D-1])>>2]+d[v<<4&63]+"=="):2===T&&E.push(d[(v=(g[D-2]<<8)+g[D-1])>>10]+d[v>>4&63]+d[v<<2&63]+"="),E.join("")};for(var d=[],b=[],S=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0;O<64;++O)d[O]=R[O],b[R.charCodeAt(O)]=O;function y(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var D=g.indexOf("=");return-1===D&&(D=v),[D,D===v?0:4-D%4]}function m(g){return d[g>>18&63]+d[g>>12&63]+d[g>>6&63]+d[63&g]}function h(g,v,D){for(var E=[],N=v;N<D;N+=3)E.push(m((g[N]<<16&16711680)+(g[N+1]<<8&65280)+(255&g[N+2])));return E.join("")}b[45]=62,b[95]=63},3963:(Z,A,d)=>{"use strict";d(5929),d(1747),d(1725),d(2381),d(8229),d(7899),d(9857),d(7059),Symbol("idb"),Symbol("namePrefix"),Symbol("location"),Symbol("version"),Symbol("store"),Symbol("onComplete"),Symbol("promise")},8229:(Z,A,d)=>{"use strict";const{AbstractIterator:b}=d(5929),S=d(7059),R=d(7899),O=Symbol("cache"),P=Symbol("finished"),y=Symbol("options"),u=Symbol("currentOptions"),c=Symbol("position"),w=Symbol("location"),m=Symbol("first"),h={};function g(v){"function"==typeof v.commit&&v.commit()}A.Iterator=class _ extends b{constructor(D,T,E){super(D,E),this[O]=[],this[P]=0===this.limit,this[y]=E,this[u]={...E},this[c]=void 0,this[w]=T,this[m]=!0}_nextv(D,T,E){if(this[m]=!1,this[P])return this.nextTick(E,null,[]);if(this[O].length>0)return D=Math.min(D,this[O].length),this.nextTick(E,null,this[O].splice(0,D));let N;void 0!==this[c]&&(this[y].reverse?(this[u].lt=this[c],this[u].lte=void 0):(this[u].gt=this[c],this[u].gte=void 0));try{N=S(this[u])}catch{return this[P]=!0,this.nextTick(E,null,[])}const M=this.db.db.transaction([this[w]],"readonly"),k=M.objectStore(this[w]),B=[];if(this[y].reverse)k[!this[y].values&&k.openKeyCursor?"openKeyCursor":"openCursor"](N,"prev").onsuccess=z=>{const Q=z.target.result;if(Q){const{key:oe,value:j}=Q;this[c]=oe,B.push([this[y].keys&&void 0!==oe?R(oe):void 0,this[y].values&&void 0!==j?R(j):void 0]),B.length<D?Q.continue():g(M)}else this[P]=!0};else{let L,z;const Q=()=>{if(void 0===L||void 0===z)return;const oe=Math.max(L.length,z.length);0===oe||D===1/0?this[P]=!0:this[c]=L[oe-1],B.length=oe;for(let j=0;j<oe;j++){const ne=L[j],K=z[j];B[j]=[this[y].keys&&void 0!==ne?R(ne):void 0,this[y].values&&void 0!==K?R(K):void 0]}g(M)};this[y].keys||D<1/0?k.getAllKeys(N,D<1/0?D:void 0).onsuccess=oe=>{L=oe.target.result,Q()}:(L=[],this.nextTick(Q)),this[y].values?k.getAll(N,D<1/0?D:void 0).onsuccess=oe=>{z=oe.target.result,Q()}:(z=[],this.nextTick(Q))}M.onabort=()=>{E(M.error||new Error("aborted by user")),E=null},M.oncomplete=()=>{E(null,B),E=null}}_next(D){if(this[O].length>0){const[T,E]=this[O].shift();this.nextTick(D,null,T,E)}else if(this[P])this.nextTick(D);else{let T=Math.min(100,this.limit-this.count);this[m]&&(this[m]=!1,T=1),this._nextv(T,h,(E,N)=>{if(E)return D(E);this[O]=N,this._next(D)})}}_all(D,T){this[m]=!1;const E=this[O].splice(0,this[O].length),N=this.limit-this.count-E.length;if(N<=0)return this.nextTick(T,null,E);this._nextv(N,h,(M,k)=>{if(M)return T(M);E.length>0&&(k=E.concat(k)),T(null,k)})}_seek(D,T){let E;this[m]=!0,this[O]=[],this[P]=!1,this[c]=void 0,this[u]={...this[y]};try{E=S(this[y])}catch{return void(this[P]=!0)}null===E||E.includes(D)?this[y].reverse?this[u].lte=D:this[u].gte=D:this[P]=!0}}},9857:Z=>{"use strict";Z.exports=function(d,b,S,R,O){if(0===R.limit)return d.nextTick(O);const P=d.db.transaction([b],"readwrite"),y=P.objectStore(b);let u=0;P.oncomplete=function(){O()},P.onabort=function(){O(P.error||new Error("aborted by user"))},y[y.openKeyCursor?"openKeyCursor":"openCursor"](S,R.reverse?"prev":"next").onsuccess=function(m){const h=m.target.result;h&&(y.delete(h.key).onsuccess=function(){(R.limit<=0||++u<R.limit)&&h.continue()})}}},7899:Z=>{"use strict";const A=new TextEncoder;Z.exports=function(d){return d instanceof Uint8Array?d:d instanceof ArrayBuffer?new Uint8Array(d):A.encode(d)}},7059:Z=>{"use strict";Z.exports=function(d){const b=void 0!==d.gte?d.gte:void 0!==d.gt?d.gt:void 0,S=void 0!==d.lte?d.lte:void 0!==d.lt?d.lt:void 0,R=void 0===d.gte,O=void 0===d.lte;return void 0!==b&&void 0!==S?IDBKeyRange.bound(b,S,R,O):void 0!==b?IDBKeyRange.lowerBound(b,R):void 0!==S?IDBKeyRange.upperBound(S,O):null}},3838:(Z,A,d)=>{"use strict";var b=d(3981),S=d(2020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=u,A.SlowBuffer=function N(se){return+se!=se&&(se=0),u.alloc(+se)},A.INSPECT_MAX_BYTES=50;var O=2147483647;function y(se){if(se>O)throw new RangeError('The value "'+se+'" is invalid for option "size"');var W=new Uint8Array(se);return Object.setPrototypeOf(W,u.prototype),W}function u(se,W,ee){if("number"==typeof se){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return h(se)}return c(se,W,ee)}function c(se,W,ee){if("string"==typeof se)return function _(se,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!u.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var ee=0|M(se,W),ke=y(ee),he=ke.write(se,W);return he!==ee&&(ke=ke.slice(0,he)),ke}(se,W);if(ArrayBuffer.isView(se))return function v(se){if(Ge(se,Uint8Array)){var W=new Uint8Array(se);return D(W.buffer,W.byteOffset,W.byteLength)}return g(se)}(se);if(null==se)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se);if(Ge(se,ArrayBuffer)||se&&Ge(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ge(se,SharedArrayBuffer)||se&&Ge(se.buffer,SharedArrayBuffer)))return D(se,W,ee);if("number"==typeof se)throw new TypeError('The "value" argument must not be of type number. Received type number');var ke=se.valueOf&&se.valueOf();if(null!=ke&&ke!==se)return u.from(ke,W,ee);var he=function T(se){if(u.isBuffer(se)){var W=0|E(se.length),ee=y(W);return 0===ee.length||se.copy(ee,0,0,W),ee}return void 0!==se.length?"number"!=typeof se.length||Ae(se.length)?y(0):g(se):"Buffer"===se.type&&Array.isArray(se.data)?g(se.data):void 0}(se);if(he)return he;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof se[Symbol.toPrimitive])return u.from(se[Symbol.toPrimitive]("string"),W,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof se)}function w(se){if("number"!=typeof se)throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function h(se){return w(se),y(se<0?0:0|E(se))}function g(se){for(var W=se.length<0?0:0|E(se.length),ee=y(W),ke=0;ke<W;ke+=1)ee[ke]=255&se[ke];return ee}function D(se,W,ee){if(W<0||se.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<W+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var ke;return ke=void 0===W&&void 0===ee?new Uint8Array(se):void 0===ee?new Uint8Array(se,W):new Uint8Array(se,W,ee),Object.setPrototypeOf(ke,u.prototype),ke}function E(se){if(se>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return 0|se}function M(se,W){if(u.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||Ge(se,ArrayBuffer))return se.byteLength;if("string"!=typeof se)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof se);var ee=se.length,ke=arguments.length>2&&!0===arguments[2];if(!ke&&0===ee)return 0;for(var he=!1;;)switch(W){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return Me(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return gt(se).length;default:if(he)return ke?-1:Me(se).length;W=(""+W).toLowerCase(),he=!0}}function k(se,W,ee){var ke=!1;if((void 0===W||W<0)&&(W=0),W>this.length||((void 0===ee||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(W>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return ae(this,W,ee);case"utf8":case"utf-8":return le(this,W,ee);case"ascii":return de(this,W,ee);case"latin1":case"binary":return Ie(this,W,ee);case"base64":return te(this,W,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,W,ee);default:if(ke)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),ke=!0}}function B(se,W,ee){var ke=se[W];se[W]=se[ee],se[ee]=ke}function L(se,W,ee,ke,he){if(0===se.length)return-1;if("string"==typeof ee?(ke=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),Ae(ee=+ee)&&(ee=he?0:se.length-1),ee<0&&(ee=se.length+ee),ee>=se.length){if(he)return-1;ee=se.length-1}else if(ee<0){if(!he)return-1;ee=0}if("string"==typeof W&&(W=u.from(W,ke)),u.isBuffer(W))return 0===W.length?-1:z(se,W,ee,ke,he);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?he?Uint8Array.prototype.indexOf.call(se,W,ee):Uint8Array.prototype.lastIndexOf.call(se,W,ee):z(se,[W],ee,ke,he);throw new TypeError("val must be string, number or Buffer")}function z(se,W,ee,ke,he){var qe,Be=1,Ne=se.length,Qe=W.length;if(void 0!==ke&&("ucs2"===(ke=String(ke).toLowerCase())||"ucs-2"===ke||"utf16le"===ke||"utf-16le"===ke)){if(se.length<2||W.length<2)return-1;Be=2,Ne/=2,Qe/=2,ee/=2}function ut(f,V){return 1===Be?f[V]:f.readUInt16BE(V*Be)}if(he){var ht=-1;for(qe=ee;qe<Ne;qe++)if(ut(se,qe)===ut(W,-1===ht?0:qe-ht)){if(-1===ht&&(ht=qe),qe-ht+1===Qe)return ht*Be}else-1!==ht&&(qe-=qe-ht),ht=-1}else for(ee+Qe>Ne&&(ee=Ne-Qe),qe=ee;qe>=0;qe--){for(var F=!0,l=0;l<Qe;l++)if(ut(se,qe+l)!==ut(W,l)){F=!1;break}if(F)return qe}return-1}function Q(se,W,ee,ke){ee=Number(ee)||0;var he=se.length-ee;ke?(ke=Number(ke))>he&&(ke=he):ke=he;var Be=W.length;ke>Be/2&&(ke=Be/2);for(var Ne=0;Ne<ke;++Ne){var Qe=parseInt(W.substr(2*Ne,2),16);if(Ae(Qe))return Ne;se[ee+Ne]=Qe}return Ne}function oe(se,W,ee,ke){return Ke(Me(W,se.length-ee),se,ee,ke)}function j(se,W,ee,ke){return Ke(function Se(se){for(var W=[],ee=0;ee<se.length;++ee)W.push(255&se.charCodeAt(ee));return W}(W),se,ee,ke)}function ne(se,W,ee,ke){return Ke(gt(W),se,ee,ke)}function K(se,W,ee,ke){return Ke(function Ye(se,W){for(var ee,ke,Be=[],Ne=0;Ne<se.length&&!((W-=2)<0);++Ne)ke=(ee=se.charCodeAt(Ne))>>8,Be.push(ee%256),Be.push(ke);return Be}(W,se.length-ee),se,ee,ke)}function te(se,W,ee){return b.fromByteArray(0===W&&ee===se.length?se:se.slice(W,ee))}function le(se,W,ee){ee=Math.min(se.length,ee);for(var ke=[],he=W;he<ee;){var ut,qe,ht,F,Be=se[he],Ne=null,Qe=Be>239?4:Be>223?3:Be>191?2:1;if(he+Qe<=ee)switch(Qe){case 1:Be<128&&(Ne=Be);break;case 2:128==(192&(ut=se[he+1]))&&(F=(31&Be)<<6|63&ut)>127&&(Ne=F);break;case 3:qe=se[he+2],128==(192&(ut=se[he+1]))&&128==(192&qe)&&(F=(15&Be)<<12|(63&ut)<<6|63&qe)>2047&&(F<55296||F>57343)&&(Ne=F);break;case 4:qe=se[he+2],ht=se[he+3],128==(192&(ut=se[he+1]))&&128==(192&qe)&&128==(192&ht)&&(F=(15&Be)<<18|(63&ut)<<12|(63&qe)<<6|63&ht)>65535&&F<1114112&&(Ne=F)}null===Ne?(Ne=65533,Qe=1):Ne>65535&&(ke.push((Ne-=65536)>>>10&1023|55296),Ne=56320|1023&Ne),ke.push(Ne),he+=Qe}return function J(se){var W=se.length;if(W<=Fe)return String.fromCharCode.apply(String,se);for(var ee="",ke=0;ke<W;)ee+=String.fromCharCode.apply(String,se.slice(ke,ke+=Fe));return ee}(ke)}A.kMaxLength=O,!(u.TYPED_ARRAY_SUPPORT=function P(){try{var se=new Uint8Array(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,Uint8Array.prototype),Object.setPrototypeOf(se,W),42===se.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(se,W,ee){return c(se,W,ee)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(se,W,ee){return function m(se,W,ee){return w(se),se<=0?y(se):void 0!==W?"string"==typeof ee?y(se).fill(W,ee):y(se).fill(W):y(se)}(se,W,ee)},u.allocUnsafe=function(se){return h(se)},u.allocUnsafeSlow=function(se){return h(se)},u.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==u.prototype},u.compare=function(W,ee){if(Ge(W,Uint8Array)&&(W=u.from(W,W.offset,W.byteLength)),Ge(ee,Uint8Array)&&(ee=u.from(ee,ee.offset,ee.byteLength)),!u.isBuffer(W)||!u.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===ee)return 0;for(var ke=W.length,he=ee.length,Be=0,Ne=Math.min(ke,he);Be<Ne;++Be)if(W[Be]!==ee[Be]){ke=W[Be],he=ee[Be];break}return ke<he?-1:he<ke?1:0},u.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(W,ee){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return u.alloc(0);var ke;if(void 0===ee)for(ee=0,ke=0;ke<W.length;++ke)ee+=W[ke].length;var he=u.allocUnsafe(ee),Be=0;for(ke=0;ke<W.length;++ke){var Ne=W[ke];if(Ge(Ne,Uint8Array))Be+Ne.length>he.length?u.from(Ne).copy(he,Be):Uint8Array.prototype.set.call(he,Ne,Be);else{if(!u.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(he,Be)}Be+=Ne.length}return he},u.byteLength=M,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ee=0;ee<W;ee+=2)B(this,ee,ee+1);return this},u.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ee=0;ee<W;ee+=4)B(this,ee,ee+3),B(this,ee+1,ee+2);return this},u.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ee=0;ee<W;ee+=8)B(this,ee,ee+7),B(this,ee+1,ee+6),B(this,ee+2,ee+5),B(this,ee+3,ee+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?le(this,0,W):k.apply(this,arguments)},u.prototype.equals=function(W){if(!u.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===u.compare(this,W)},u.prototype.inspect=function(){var W="",ee=A.INSPECT_MAX_BYTES;return W=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(W+=" ... "),"<Buffer "+W+">"},R&&(u.prototype[R]=u.prototype.inspect),u.prototype.compare=function(W,ee,ke,he,Be){if(Ge(W,Uint8Array)&&(W=u.from(W,W.offset,W.byteLength)),!u.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===ee&&(ee=0),void 0===ke&&(ke=W?W.length:0),void 0===he&&(he=0),void 0===Be&&(Be=this.length),ee<0||ke>W.length||he<0||Be>this.length)throw new RangeError("out of range index");if(he>=Be&&ee>=ke)return 0;if(he>=Be)return-1;if(ee>=ke)return 1;if(this===W)return 0;for(var Ne=(Be>>>=0)-(he>>>=0),Qe=(ke>>>=0)-(ee>>>=0),ut=Math.min(Ne,Qe),qe=this.slice(he,Be),ht=W.slice(ee,ke),F=0;F<ut;++F)if(qe[F]!==ht[F]){Ne=qe[F],Qe=ht[F];break}return Ne<Qe?-1:Qe<Ne?1:0},u.prototype.includes=function(W,ee,ke){return-1!==this.indexOf(W,ee,ke)},u.prototype.indexOf=function(W,ee,ke){return L(this,W,ee,ke,!0)},u.prototype.lastIndexOf=function(W,ee,ke){return L(this,W,ee,ke,!1)},u.prototype.write=function(W,ee,ke,he){if(void 0===ee)he="utf8",ke=this.length,ee=0;else if(void 0===ke&&"string"==typeof ee)he=ee,ke=this.length,ee=0;else{if(!isFinite(ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ee>>>=0,isFinite(ke)?(ke>>>=0,void 0===he&&(he="utf8")):(he=ke,ke=void 0)}var Be=this.length-ee;if((void 0===ke||ke>Be)&&(ke=Be),W.length>0&&(ke<0||ee<0)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");for(var Ne=!1;;)switch(he){case"hex":return Q(this,W,ee,ke);case"utf8":case"utf-8":return oe(this,W,ee,ke);case"ascii":case"latin1":case"binary":return j(this,W,ee,ke);case"base64":return ne(this,W,ee,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,W,ee,ke);default:if(Ne)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),Ne=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Fe=4096;function de(se,W,ee){var ke="";ee=Math.min(se.length,ee);for(var he=W;he<ee;++he)ke+=String.fromCharCode(127&se[he]);return ke}function Ie(se,W,ee){var ke="";ee=Math.min(se.length,ee);for(var he=W;he<ee;++he)ke+=String.fromCharCode(se[he]);return ke}function ae(se,W,ee){var ke=se.length;(!W||W<0)&&(W=0),(!ee||ee<0||ee>ke)&&(ee=ke);for(var he="",Be=W;Be<ee;++Be)he+=je[se[Be]];return he}function Ee(se,W,ee){for(var ke=se.slice(W,ee),he="",Be=0;Be<ke.length-1;Be+=2)he+=String.fromCharCode(ke[Be]+256*ke[Be+1]);return he}function I(se,W,ee){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+W>ee)throw new RangeError("Trying to access beyond buffer length")}function $(se,W,ee,ke,he,Be){if(!u.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>he||W<Be)throw new RangeError('"value" argument is out of bounds');if(ee+ke>se.length)throw new RangeError("Index out of range")}function q(se,W,ee,ke,he,Be){if(ee+ke>se.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function G(se,W,ee,ke,he){return W=+W,ee>>>=0,he||q(se,0,ee,4),S.write(se,W,ee,ke,23,4),ee+4}function re(se,W,ee,ke,he){return W=+W,ee>>>=0,he||q(se,0,ee,8),S.write(se,W,ee,ke,52,8),ee+8}u.prototype.slice=function(W,ee){var ke=this.length;(W=~~W)<0?(W+=ke)<0&&(W=0):W>ke&&(W=ke),(ee=void 0===ee?ke:~~ee)<0?(ee+=ke)<0&&(ee=0):ee>ke&&(ee=ke),ee<W&&(ee=W);var he=this.subarray(W,ee);return Object.setPrototypeOf(he,u.prototype),he},u.prototype.readUintLE=u.prototype.readUIntLE=function(W,ee,ke){W>>>=0,ee>>>=0,ke||I(W,ee,this.length);for(var he=this[W],Be=1,Ne=0;++Ne<ee&&(Be*=256);)he+=this[W+Ne]*Be;return he},u.prototype.readUintBE=u.prototype.readUIntBE=function(W,ee,ke){W>>>=0,ee>>>=0,ke||I(W,ee,this.length);for(var he=this[W+--ee],Be=1;ee>0&&(Be*=256);)he+=this[W+--ee]*Be;return he},u.prototype.readUint8=u.prototype.readUInt8=function(W,ee){return W>>>=0,ee||I(W,1,this.length),this[W]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(W,ee){return W>>>=0,ee||I(W,2,this.length),this[W]|this[W+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(W,ee){return W>>>=0,ee||I(W,2,this.length),this[W]<<8|this[W+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(W,ee){return W>>>=0,ee||I(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(W,ee){return W>>>=0,ee||I(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},u.prototype.readIntLE=function(W,ee,ke){W>>>=0,ee>>>=0,ke||I(W,ee,this.length);for(var he=this[W],Be=1,Ne=0;++Ne<ee&&(Be*=256);)he+=this[W+Ne]*Be;return he>=(Be*=128)&&(he-=Math.pow(2,8*ee)),he},u.prototype.readIntBE=function(W,ee,ke){W>>>=0,ee>>>=0,ke||I(W,ee,this.length);for(var he=ee,Be=1,Ne=this[W+--he];he>0&&(Be*=256);)Ne+=this[W+--he]*Be;return Ne>=(Be*=128)&&(Ne-=Math.pow(2,8*ee)),Ne},u.prototype.readInt8=function(W,ee){return W>>>=0,ee||I(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},u.prototype.readInt16LE=function(W,ee){W>>>=0,ee||I(W,2,this.length);var ke=this[W]|this[W+1]<<8;return 32768&ke?4294901760|ke:ke},u.prototype.readInt16BE=function(W,ee){W>>>=0,ee||I(W,2,this.length);var ke=this[W+1]|this[W]<<8;return 32768&ke?4294901760|ke:ke},u.prototype.readInt32LE=function(W,ee){return W>>>=0,ee||I(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},u.prototype.readInt32BE=function(W,ee){return W>>>=0,ee||I(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},u.prototype.readFloatLE=function(W,ee){return W>>>=0,ee||I(W,4,this.length),S.read(this,W,!0,23,4)},u.prototype.readFloatBE=function(W,ee){return W>>>=0,ee||I(W,4,this.length),S.read(this,W,!1,23,4)},u.prototype.readDoubleLE=function(W,ee){return W>>>=0,ee||I(W,8,this.length),S.read(this,W,!0,52,8)},u.prototype.readDoubleBE=function(W,ee){return W>>>=0,ee||I(W,8,this.length),S.read(this,W,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(W,ee,ke,he){W=+W,ee>>>=0,ke>>>=0,he||$(this,W,ee,ke,Math.pow(2,8*ke)-1,0);var Ne=1,Qe=0;for(this[ee]=255&W;++Qe<ke&&(Ne*=256);)this[ee+Qe]=W/Ne&255;return ee+ke},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(W,ee,ke,he){W=+W,ee>>>=0,ke>>>=0,he||$(this,W,ee,ke,Math.pow(2,8*ke)-1,0);var Ne=ke-1,Qe=1;for(this[ee+Ne]=255&W;--Ne>=0&&(Qe*=256);)this[ee+Ne]=W/Qe&255;return ee+ke},u.prototype.writeUint8=u.prototype.writeUInt8=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,1,255,0),this[ee]=255&W,ee+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,2,65535,0),this[ee]=255&W,this[ee+1]=W>>>8,ee+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,2,65535,0),this[ee]=W>>>8,this[ee+1]=255&W,ee+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,4,4294967295,0),this[ee+3]=W>>>24,this[ee+2]=W>>>16,this[ee+1]=W>>>8,this[ee]=255&W,ee+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,4,4294967295,0),this[ee]=W>>>24,this[ee+1]=W>>>16,this[ee+2]=W>>>8,this[ee+3]=255&W,ee+4},u.prototype.writeIntLE=function(W,ee,ke,he){if(W=+W,ee>>>=0,!he){var Be=Math.pow(2,8*ke-1);$(this,W,ee,ke,Be-1,-Be)}var Ne=0,Qe=1,ut=0;for(this[ee]=255&W;++Ne<ke&&(Qe*=256);)W<0&&0===ut&&0!==this[ee+Ne-1]&&(ut=1),this[ee+Ne]=(W/Qe|0)-ut&255;return ee+ke},u.prototype.writeIntBE=function(W,ee,ke,he){if(W=+W,ee>>>=0,!he){var Be=Math.pow(2,8*ke-1);$(this,W,ee,ke,Be-1,-Be)}var Ne=ke-1,Qe=1,ut=0;for(this[ee+Ne]=255&W;--Ne>=0&&(Qe*=256);)W<0&&0===ut&&0!==this[ee+Ne+1]&&(ut=1),this[ee+Ne]=(W/Qe|0)-ut&255;return ee+ke},u.prototype.writeInt8=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,1,127,-128),W<0&&(W=255+W+1),this[ee]=255&W,ee+1},u.prototype.writeInt16LE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,2,32767,-32768),this[ee]=255&W,this[ee+1]=W>>>8,ee+2},u.prototype.writeInt16BE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,2,32767,-32768),this[ee]=W>>>8,this[ee+1]=255&W,ee+2},u.prototype.writeInt32LE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,4,2147483647,-2147483648),this[ee]=255&W,this[ee+1]=W>>>8,this[ee+2]=W>>>16,this[ee+3]=W>>>24,ee+4},u.prototype.writeInt32BE=function(W,ee,ke){return W=+W,ee>>>=0,ke||$(this,W,ee,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[ee]=W>>>24,this[ee+1]=W>>>16,this[ee+2]=W>>>8,this[ee+3]=255&W,ee+4},u.prototype.writeFloatLE=function(W,ee,ke){return G(this,W,ee,!0,ke)},u.prototype.writeFloatBE=function(W,ee,ke){return G(this,W,ee,!1,ke)},u.prototype.writeDoubleLE=function(W,ee,ke){return re(this,W,ee,!0,ke)},u.prototype.writeDoubleBE=function(W,ee,ke){return re(this,W,ee,!1,ke)},u.prototype.copy=function(W,ee,ke,he){if(!u.isBuffer(W))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!he&&0!==he&&(he=this.length),ee>=W.length&&(ee=W.length),ee||(ee=0),he>0&&he<ke&&(he=ke),he===ke||0===W.length||0===this.length)return 0;if(ee<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),W.length-ee<he-ke&&(he=W.length-ee+ke);var Be=he-ke;return this===W&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ee,ke,he):Uint8Array.prototype.set.call(W,this.subarray(ke,he),ee),Be},u.prototype.fill=function(W,ee,ke,he){if("string"==typeof W){if("string"==typeof ee?(he=ee,ee=0,ke=this.length):"string"==typeof ke&&(he=ke,ke=this.length),void 0!==he&&"string"!=typeof he)throw new TypeError("encoding must be a string");if("string"==typeof he&&!u.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(1===W.length){var Be=W.charCodeAt(0);("utf8"===he&&Be<128||"latin1"===he)&&(W=Be)}}else"number"==typeof W?W&=255:"boolean"==typeof W&&(W=Number(W));if(ee<0||this.length<ee||this.length<ke)throw new RangeError("Out of range index");if(ke<=ee)return this;var Ne;if(ee>>>=0,ke=void 0===ke?this.length:ke>>>0,W||(W=0),"number"==typeof W)for(Ne=ee;Ne<ke;++Ne)this[Ne]=W;else{var Qe=u.isBuffer(W)?W:u.from(W,he),ut=Qe.length;if(0===ut)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(Ne=0;Ne<ke-ee;++Ne)this[Ne+ee]=Qe[Ne%ut]}return this};var ye=/[^+/0-9A-Za-z-_]/g;function Me(se,W){W=W||1/0;for(var ee,ke=se.length,he=null,Be=[],Ne=0;Ne<ke;++Ne){if((ee=se.charCodeAt(Ne))>55295&&ee<57344){if(!he){if(ee>56319){(W-=3)>-1&&Be.push(239,191,189);continue}if(Ne+1===ke){(W-=3)>-1&&Be.push(239,191,189);continue}he=ee;continue}if(ee<56320){(W-=3)>-1&&Be.push(239,191,189),he=ee;continue}ee=65536+(he-55296<<10|ee-56320)}else he&&(W-=3)>-1&&Be.push(239,191,189);if(he=null,ee<128){if((W-=1)<0)break;Be.push(ee)}else if(ee<2048){if((W-=2)<0)break;Be.push(ee>>6|192,63&ee|128)}else if(ee<65536){if((W-=3)<0)break;Be.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if((W-=4)<0)break;Be.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return Be}function gt(se){return b.toByteArray(function me(se){if((se=(se=se.split("=")[0]).trim().replace(ye,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(se))}function Ke(se,W,ee,ke){for(var he=0;he<ke&&!(he+ee>=W.length||he>=se.length);++he)W[he+ee]=se[he];return he}function Ge(se,W){return se instanceof W||null!=se&&null!=se.constructor&&null!=se.constructor.name&&se.constructor.name===W.name}function Ae(se){return se!=se}var je=function(){for(var se="0123456789abcdef",W=new Array(256),ee=0;ee<16;++ee)for(var ke=16*ee,he=0;he<16;++he)W[ke+he]=se[ee]+se[he];return W}()},3020:(Z,A,d)=>{"use strict";var b=d(7877),S=d(8128),R=S(b("String.prototype.indexOf"));Z.exports=function(P,y){var u=b(P,!!y);return"function"==typeof u&&R(P,".prototype.")>-1?S(u):u}},8128:(Z,A,d)=>{"use strict";var b=d(5992),S=d(7877),R=d(1358),O=d(6758),P=S("%Function.prototype.apply%"),y=S("%Function.prototype.call%"),u=S("%Reflect.apply%",!0)||b.call(y,P),c=d(4570),w=S("%Math.max%");Z.exports=function(_){if("function"!=typeof _)throw new O("a function is required");var g=u(b,y,arguments);return R(g,1+w(0,_.length-(arguments.length-1)),!0)};var m=function(){return u(b,P,arguments)};c?c(Z.exports,"apply",{value:m}):Z.exports.apply=m},8846:Z=>{"use strict";Z.exports=function A(d){if("number"==typeof d&&isNaN(d))throw new Error("NaN is not allowed");if("number"==typeof d&&!isFinite(d))throw new Error("Infinity is not allowed");return null===d||"object"!=typeof d?JSON.stringify(d):d.toJSON instanceof Function?A(d.toJSON()):Array.isArray(d)?`[${d.reduce((R,O,P)=>`${R}${0===P?"":","}${A(void 0===O||"symbol"==typeof O?null:O)}`,"")}]`:`{${Object.keys(d).sort().reduce((S,R)=>void 0===d[R]||"symbol"==typeof d[R]?S:`${S}${0===S.length?"":","}${A(R)}:${A(d[R])}`,"")}}`}},2381:(Z,A,d)=>{"use strict";var b=d(8341);A.fromCallback=function(S,R){if(void 0===S){var O=new Promise(function(P,y){S=function(u,c){u?y(u):P(c)}});S[void 0!==R?R:"promise"]=O}else if("function"!=typeof S)throw new TypeError("Callback must be a function");return S},A.fromPromise=function(S,R){if(void 0===R)return S;S.then(function(O){b(()=>R(null,O))}).catch(function(O){b(()=>R(O))})}},8341:Z=>{Z.exports="function"==typeof queueMicrotask?queueMicrotask:A=>Promise.resolve().then(A)},2736:(Z,A,d)=>{"use strict";var b=d(4570),S=d(8413),R=d(6758),O=d(3798);Z.exports=function(y,u,c){if(!y||"object"!=typeof y&&"function"!=typeof y)throw new R("`obj` must be an object or a function`");if("string"!=typeof u&&"symbol"!=typeof u)throw new R("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new R("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new R("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new R("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new R("`loose`, if provided, must be a boolean");var w=arguments.length>3?arguments[3]:null,m=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,_=arguments.length>6&&arguments[6],g=!!O&&O(y,u);if(b)b(y,u,{configurable:null===h&&g?g.configurable:!h,enumerable:null===w&&g?g.enumerable:!w,value:c,writable:null===m&&g?g.writable:!m});else{if(!_&&(w||m||h))throw new S("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");y[u]=c}}},947:(Z,A,d)=>{"use strict";var b=d(4934),S="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),R=Object.prototype.toString,O=Array.prototype.concat,P=d(2736),u=d(5861)(),c=function(m,h,_,g){if(h in m)if(!0===g){if(m[h]===_)return}else if(!function(m){return"function"==typeof m&&"[object Function]"===R.call(m)}(g)||!g())return;u?P(m,h,_,!0):P(m,h,_)},w=function(m,h){var _=arguments.length>2?arguments[2]:{},g=b(h);S&&(g=O.call(g,Object.getOwnPropertySymbols(h)));for(var v=0;v<g.length;v+=1)c(m,g[v],h[g[v]],_[g[v]])};w.supportsDescriptors=!!u,Z.exports=w},4570:(Z,A,d)=>{"use strict";var S=d(7877)("%Object.defineProperty%",!0)||!1;if(S)try{S({},"a",{value:1})}catch{S=!1}Z.exports=S},1756:Z=>{"use strict";Z.exports=EvalError},7640:Z=>{"use strict";Z.exports=Error},7933:Z=>{"use strict";Z.exports=RangeError},6613:Z=>{"use strict";Z.exports=ReferenceError},8413:Z=>{"use strict";Z.exports=SyntaxError},6758:Z=>{"use strict";Z.exports=TypeError},5286:Z=>{"use strict";Z.exports=URIError},4813:(Z,A,d)=>{"use strict";var b=d(6758);Z.exports=function(R){if(null==R)throw new b(arguments.length>0&&arguments[1]||"Cannot call method on "+R);return R}},5240:(Z,A,d)=>{"use strict";var S=d(7877)("%Object.defineProperty%",!0),R=d(8779)(),O=d(8368),P=R?Symbol.toStringTag:null;Z.exports=function(u,c){P&&(arguments.length>2&&arguments[2]&&arguments[2].force||!O(u,P))&&(S?S(u,P,{configurable:!0,enumerable:!1,value:c,writable:!1}):u[P]=c)}},1232:(Z,A,d)=>{"use strict";var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,S=d(561),R=d(8239),O=d(4665),P=d(6827);Z.exports=function(w){if(S(w))return w;var h,m="default";if(arguments.length>1&&(arguments[1]===String?m="string":arguments[1]===Number&&(m="number")),b&&(Symbol.toPrimitive?h=function(w,m){var h=w[m];if(null!==h&&typeof h<"u"){if(!R(h))throw new TypeError(h+" returned for property "+m+" of object "+w+" is not a function");return h}}(w,Symbol.toPrimitive):P(w)&&(h=Symbol.prototype.valueOf)),typeof h<"u"){var _=h.call(w,m);if(S(_))return _;throw new TypeError("unable to convert exotic object to primitive")}return"default"===m&&(O(w)||P(w))&&(m="string"),function(w,m){if(typeof w>"u"||null===w)throw new TypeError("Cannot call method on "+w);if("string"!=typeof m||"number"!==m&&"string"!==m)throw new TypeError('hint must be "string" or "number"');var _,g,v,h="string"===m?["toString","valueOf"]:["valueOf","toString"];for(v=0;v<h.length;++v)if(R(_=w[h[v]])&&(g=_.call(w),S(g)))return g;throw new TypeError("No default value")}(w,"default"===m?"number":m)}},561:Z=>{"use strict";Z.exports=function(d){return null===d||"function"!=typeof d&&"object"!=typeof d}},6096:(Z,A,d)=>{!function(){"use strict";var S,R,O,P,y,u,c,w,m,h,_,g,v,D,T,E,N,M,k,B,L,z,Q,oe;function te(Y){return at.Statement.hasOwnProperty(Y.type)}y=d(8038),u=d(3516),S=y.Syntax,O={"||":(R={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20}).LogicalOR,"&&":R.LogicalAND,"|":R.BitwiseOR,"^":R.BitwiseXOR,"&":R.BitwiseAND,"==":R.Equality,"!=":R.Equality,"===":R.Equality,"!==":R.Equality,is:R.Equality,isnt:R.Equality,"<":R.Relational,">":R.Relational,"<=":R.Relational,">=":R.Relational,in:R.Relational,instanceof:R.Relational,"<<":R.BitwiseSHIFT,">>":R.BitwiseSHIFT,">>>":R.BitwiseSHIFT,"+":R.Additive,"-":R.Additive,"*":R.Multiplicative,"%":R.Multiplicative,"/":R.Multiplicative,"**":R.Exponentiation};function Ke(Y,be){var we="";for(be|=0;be>0;be>>>=1,Y+=Y)1&be&&(we+=Y);return we}function Ae(Y){var be=Y.length;return be&&u.code.isLineTerminator(Y.charCodeAt(be-1))}function je(Y,be){var we;for(we in be)be.hasOwnProperty(we)&&(Y[we]=be[we]);return Y}function se(Y,be){var we,Te;function ze(ct){return"object"==typeof ct&&ct instanceof Object&&!(ct instanceof RegExp)}for(we in be)be.hasOwnProperty(we)&&(ze(Te=be[we])?ze(Y[we])?se(Y[we],Te):Y[we]=se({},Te):Y[we]=Te);return Y}function ee(Y,be){return 8232==(-2&Y)?(be?"u":"\\u")+(8232===Y?"2028":"2029"):10===Y||13===Y?(be?"":"\\")+(10===Y?"n":"r"):String.fromCharCode(Y)}function he(Y,be){var we;return 8===Y?"\\b":12===Y?"\\f":9===Y?"\\t":(we=Y.toString(16).toUpperCase(),m||Y>255?"\\u"+"0000".slice(we.length)+we:0!==Y||u.code.isDecimalDigit(be)?11===Y?"\\x0B":"\\x"+"00".slice(we.length)+we:"\\0")}function Be(Y){if(92===Y)return"\\\\";if(10===Y)return"\\n";if(13===Y)return"\\r";if(8232===Y)return"\\u2028";if(8233===Y)return"\\u2029";throw new Error("Incorrectly classified character")}function ut(Y){var be,we,Te,ze="";for(be=0,we=Y.length;be<we;++be)Te=Y[be],ze+=Array.isArray(Te)?ut(Te):Te;return ze}function qe(Y,be){if(!z)return Array.isArray(Y)?ut(Y):Y;if(null==be){if(Y instanceof P)return Y;be={}}return null==be.loc?new P(null,null,z,Y,be.name||null):new P(be.loc.start.line,be.loc.start.column,!0===z?be.loc.source||null:z,Y,be.name||null)}function ht(){return T||" "}function F(Y,be){var we,Te,ze,ct;return 0===(we=qe(Y).toString()).length?[be]:0===(Te=qe(be).toString()).length?[Y]:(ze=we.charCodeAt(we.length-1),ct=Te.charCodeAt(0),(43===ze||45===ze)&&ze===ct||u.code.isIdentifierPartES5(ze)&&u.code.isIdentifierPartES5(ct)||47===ze&&105===ct?[Y,ht(),be]:u.code.isWhiteSpace(ze)||u.code.isLineTerminator(ze)||u.code.isWhiteSpace(ct)||u.code.isLineTerminator(ct)?[Y,be]:[Y,T,be])}function l(Y){return[c,Y]}function f(Y){var be;be=c,Y(c+=w),c=be}function fe(Y,be){if("Line"===Y.type){if(Ae(Y.value))return"//"+Y.value;var we="//"+Y.value;return oe||(we+="\n"),we}return B.format.indent.adjustMultilineComment&&/[\n\r]/.test(Y.value)?function X(Y,be){var we,Te,ze,ct,ve,Oe,xe,_e;for(we=Y.split(/\r\n|[\r\n]/),Oe=Number.MAX_VALUE,Te=1,ze=we.length;Te<ze;++Te){for(ct=we[Te],ve=0;ve<ct.length&&u.code.isWhiteSpace(ct.charCodeAt(ve));)++ve;Oe>ve&&(Oe=ve)}for(typeof be<"u"?(xe=c,"*"===we[1][Oe]&&(be+=" "),c=be):(1&Oe&&--Oe,xe=c),Te=1,ze=we.length;Te<ze;++Te)_e=qe(l(we[Te].slice(Oe))),we[Te]=z?_e.join(""):_e;return c=xe,we.join("\n")}("/*"+Y.value+"*/",be):"/*"+Y.value+"*/"}function Ce(Y,be){var we,Te,ze,ct,ve,Oe,xe,_e,Ve,tt,it,Lt;if(Y.leadingComments&&Y.leadingComments.length>0){if(ct=be,oe){for(be=[],(Lt=((it=Q.substring((_e=(ze=Y.leadingComments[0]).extendedRange)[0],(Ve=ze.range)[0])).match(/\n/g)||[]).length)>0?(be.push(Ke("\n",Lt)),be.push(l(fe(ze)))):(be.push(it),be.push(fe(ze))),tt=Ve,we=1,Te=Y.leadingComments.length;we<Te;we++)Lt=(Q.substring(tt[1],(Ve=(ze=Y.leadingComments[we]).range)[0]).match(/\n/g)||[]).length,be.push(Ke("\n",Lt)),be.push(l(fe(ze))),tt=Ve;Lt=(Q.substring(Ve[1],_e[1]).match(/\n/g)||[]).length,be.push(Ke("\n",Lt))}else for(ze=Y.leadingComments[0],be=[],M&&Y.type===S.Program&&0===Y.body.length&&be.push("\n"),be.push(fe(ze)),Ae(qe(be).toString())||be.push("\n"),we=1,Te=Y.leadingComments.length;we<Te;++we)Ae(qe(xe=[fe(ze=Y.leadingComments[we])]).toString())||xe.push("\n"),be.push(l(xe));be.push(l(ct))}if(Y.trailingComments)if(oe)(Lt=((it=Q.substring((_e=(ze=Y.trailingComments[0]).extendedRange)[0],(Ve=ze.range)[0])).match(/\n/g)||[]).length)>0?(be.push(Ke("\n",Lt)),be.push(l(fe(ze)))):(be.push(it),be.push(fe(ze)));else for(ve=!Ae(qe(be).toString()),Oe=Ke(" ",function V(Y){var be;for(be=Y.length-1;be>=0&&!u.code.isLineTerminator(Y.charCodeAt(be));--be);return Y.length-1-be}(qe([c,be,w]).toString())),we=0,Te=Y.trailingComments.length;we<Te;++we)ze=Y.trailingComments[we],ve?(be=0===we?[be,w]:[be,Oe]).push(fe(ze,Oe)):be=[be,l(fe(ze))],we!==Te-1&&!Ae(qe(be).toString())&&(be=[be,"\n"]);return be}function $e(Y,be,we){var Te,ze=0;for(Te=Y;Te<be;Te++)"\n"===Q[Te]&&ze++;for(Te=1;Te<ze;Te++)we.push(D)}function Ze(Y,be,we){return be<we?["(",Y,")"]:Y}function dt(Y){var be,we,Te;for(be=1,we=(Te=Y.split(/\r\n|\n/)).length;be<we;be++)Te[be]=D+c+Te[be];return Te}function at(){}function xt(Y){return qe(Y.name,Y)}function Bn(Y,be){return Y.async?"async"+(be?ht():T):""}function Sn(Y){return Y.generator&&!B.moz.starlessGenerator?"*"+T:""}function _n(Y){var be=Y.value,we="";return be.async&&(we+=Bn(be,!Y.computed)),be.generator&&(we+=Sn(be)?"*":""),we}at.prototype.maybeBlock=function(Y,be){var we,Te,ze=this;return Te=!B.comment||!Y.leadingComments,Y.type===S.BlockStatement&&Te?[T,this.generateStatement(Y,be)]:Y.type===S.EmptyStatement&&Te?";":(f(function(){we=[D,l(ze.generateStatement(Y,be))]}),we)},at.prototype.maybeBlockSuffix=function(Y,be){var we=Ae(qe(be).toString());return Y.type!==S.BlockStatement||B.comment&&Y.leadingComments||we?we?[be,c]:[be,D,c]:[be,T]},at.prototype.generatePattern=function(Y,be,we){return Y.type===S.Identifier?xt(Y):this.generateExpression(Y,be,we)},at.prototype.generateFunctionParams=function(Y){var be,we,Te,ze;if(ze=!1,Y.type!==S.ArrowFunctionExpression||Y.rest||Y.defaults&&0!==Y.defaults.length||1!==Y.params.length||Y.params[0].type!==S.Identifier){for((Te=Y.type===S.ArrowFunctionExpression?[Bn(Y,!1)]:[]).push("("),Y.defaults&&(ze=!0),be=0,we=Y.params.length;be<we;++be)Te.push(ze&&Y.defaults[be]?this.generateAssignment(Y.params[be],Y.defaults[be],"=",R.Assignment,7):this.generatePattern(Y.params[be],R.Assignment,7)),be+1<we&&Te.push(","+T);Y.rest&&(Y.params.length&&Te.push(","+T),Te.push("..."),Te.push(xt(Y.rest))),Te.push(")")}else Te=[Bn(Y,!0),xt(Y.params[0])];return Te},at.prototype.generateFunctionBody=function(Y){var be,we;return be=this.generateFunctionParams(Y),Y.type===S.ArrowFunctionExpression&&(be.push(T),be.push("=>")),Y.expression?(be.push(T),"{"===(we=this.generateExpression(Y.body,R.Assignment,7)).toString().charAt(0)&&(we=["(",we,")"]),be.push(we)):be.push(this.maybeBlock(Y.body,9)),be},at.prototype.generateIterationForStatement=function(Y,be,we){var Te=["for"+(be.await?ht()+"await":"")+T+"("],ze=this;return f(function(){be.left.type===S.VariableDeclaration?f(function(){Te.push(be.left.kind+ht()),Te.push(ze.generateStatement(be.left.declarations[0],0))}):Te.push(ze.generateExpression(be.left,R.Call,7)),Te=F(Te,Y),Te=[F(Te,ze.generateExpression(be.right,R.Assignment,7)),")"]}),Te.push(this.maybeBlock(be.body,we)),Te},at.prototype.generatePropertyKey=function(Y,be){var we=[];return be&&we.push("["),we.push(this.generateExpression(Y,R.Assignment,7)),be&&we.push("]"),we},at.prototype.generateAssignment=function(Y,be,we,Te,ze){return R.Assignment<Te&&(ze|=1),Ze([this.generateExpression(Y,R.Call,ze),T+we+T,this.generateExpression(be,R.Assignment,ze)],R.Assignment,Te)},at.prototype.semicolon=function(Y){return!N&&32&Y?"":";"},je(at.prototype,at.Statement={BlockStatement:function(Y,be){var we,Te,ze=["{",D],ct=this;return f(function(){var ve,Oe,xe,_e;for(0===Y.body.length&&oe&&(we=Y.range)[1]-we[0]>2&&("\n"===(Te=Q.substring(we[0]+1,we[1]-1))[0]&&(ze=["{"]),ze.push(Te)),_e=1,8&be&&(_e|=16),ve=0,Oe=Y.body.length;ve<Oe;++ve)oe&&(0===ve&&(Y.body[0].leadingComments&&"\n"===(Te=Q.substring((we=Y.body[0].leadingComments[0].extendedRange)[0],we[1]))[0]&&(ze=["{"]),Y.body[0].leadingComments||$e(Y.range[0],Y.body[0].range[0],ze)),ve>0&&!Y.body[ve-1].trailingComments&&!Y.body[ve].leadingComments&&$e(Y.body[ve-1].range[1],Y.body[ve].range[0],ze)),ve===Oe-1&&(_e|=32),xe=Y.body[ve].leadingComments&&oe?ct.generateStatement(Y.body[ve],_e):l(ct.generateStatement(Y.body[ve],_e)),ze.push(xe),Ae(qe(xe).toString())||oe&&ve<Oe-1&&Y.body[ve+1].leadingComments||ze.push(D),oe&&ve===Oe-1&&(Y.body[ve].trailingComments||$e(Y.body[ve].range[1],Y.range[1],ze))}),ze.push(l("}")),ze},BreakStatement:function(Y,be){return Y.label?"break "+Y.label.name+this.semicolon(be):"break"+this.semicolon(be)},ContinueStatement:function(Y,be){return Y.label?"continue "+Y.label.name+this.semicolon(be):"continue"+this.semicolon(be)},ClassBody:function(Y,be){var we=["{",D],Te=this;return f(function(ze){var ct,ve;for(ct=0,ve=Y.body.length;ct<ve;++ct)we.push(ze),we.push(Te.generateExpression(Y.body[ct],R.Sequence,7)),ct+1<ve&&we.push(D)}),Ae(qe(we).toString())||we.push(D),we.push(c),we.push("}"),we},ClassDeclaration:function(Y,be){var we,Te;return we=["class"],Y.id&&(we=F(we,this.generateExpression(Y.id,R.Sequence,7))),Y.superClass&&(Te=F("extends",this.generateExpression(Y.superClass,R.Unary,7)),we=F(we,Te)),we.push(T),we.push(this.generateStatement(Y.body,33)),we},DirectiveStatement:function(Y,be){return B.raw&&Y.raw?Y.raw+this.semicolon(be):function Ne(Y){var be,we,Te,ze;for(ze="double"===g?'"':"'",be=0,we=Y.length;be<we;++be){if(39===(Te=Y.charCodeAt(be))){ze='"';break}if(34===Te){ze="'";break}92===Te&&++be}return ze+Y+ze}(Y.directive)+this.semicolon(be)},DoWhileStatement:function(Y,be){var we=F("do",this.maybeBlock(Y.body,1));return F(we=this.maybeBlockSuffix(Y.body,we),["while"+T+"(",this.generateExpression(Y.test,R.Sequence,7),")"+this.semicolon(be)])},CatchClause:function(Y,be){var we,Te=this;return f(function(){var ze;Y.param?(we=["catch"+T+"(",Te.generateExpression(Y.param,R.Sequence,7),")"],Y.guard&&(ze=Te.generateExpression(Y.guard,R.Sequence,7),we.splice(2,0," if ",ze))):we=["catch"]}),we.push(this.maybeBlock(Y.body,1)),we},DebuggerStatement:function(Y,be){return"debugger"+this.semicolon(be)},EmptyStatement:function(Y,be){return";"},ExportDefaultDeclaration:function(Y,be){var Te,we=["export"];return Te=32&be?33:1,we=F(we,"default"),te(Y.declaration)?F(we,this.generateStatement(Y.declaration,Te)):F(we,this.generateExpression(Y.declaration,R.Assignment,7)+this.semicolon(be))},ExportNamedDeclaration:function(Y,be){var we=["export"],ze=this;return Y.declaration?F(we,this.generateStatement(Y.declaration,32&be?33:1)):(Y.specifiers&&(0===Y.specifiers.length?we=F(we,"{"+T+"}"):Y.specifiers[0].type===S.ExportBatchSpecifier?we=F(we,this.generateExpression(Y.specifiers[0],R.Sequence,7)):(we=F(we,"{"),f(function(ct){var ve,Oe;for(we.push(D),ve=0,Oe=Y.specifiers.length;ve<Oe;++ve)we.push(ct),we.push(ze.generateExpression(Y.specifiers[ve],R.Sequence,7)),ve+1<Oe&&we.push(","+D)}),Ae(qe(we).toString())||we.push(D),we.push(c+"}")),Y.source?we=F(we,["from"+T,this.generateExpression(Y.source,R.Sequence,7),this.semicolon(be)]):we.push(this.semicolon(be))),we)},ExportAllDeclaration:function(Y,be){return["export"+T,"*"+T,"from"+T,this.generateExpression(Y.source,R.Sequence,7),this.semicolon(be)]},ExpressionStatement:function(Y,be){var we,Te;return 123===(Te=qe(we=[this.generateExpression(Y.expression,R.Sequence,7)]).toString()).charCodeAt(0)||function ze(Oe){var xe;return"class"===Oe.slice(0,5)&&(123===(xe=Oe.charCodeAt(5))||u.code.isWhiteSpace(xe)||u.code.isLineTerminator(xe))}(Te)||function ct(Oe){var xe;return"function"===Oe.slice(0,8)&&(40===(xe=Oe.charCodeAt(8))||u.code.isWhiteSpace(xe)||42===xe||u.code.isLineTerminator(xe))}(Te)||function ve(Oe){var xe,_e,Ve;if("async"!==Oe.slice(0,5)||!u.code.isWhiteSpace(Oe.charCodeAt(5)))return!1;for(_e=6,Ve=Oe.length;_e<Ve&&u.code.isWhiteSpace(Oe.charCodeAt(_e));++_e);return _e!==Ve&&"function"===Oe.slice(_e,_e+8)&&(40===(xe=Oe.charCodeAt(_e+8))||u.code.isWhiteSpace(xe)||42===xe||u.code.isLineTerminator(xe))}(Te)||k&&16&be&&Y.expression.type===S.Literal&&"string"==typeof Y.expression.value?we=["(",we,")"+this.semicolon(be)]:we.push(this.semicolon(be)),we},ImportDeclaration:function(Y,be){var we,Te,ze=this;return 0===Y.specifiers.length?["import",T,this.generateExpression(Y.source,R.Sequence,7),this.semicolon(be)]:(we=["import"],Y.specifiers[Te=0].type===S.ImportDefaultSpecifier&&(we=F(we,[this.generateExpression(Y.specifiers[Te],R.Sequence,7)]),++Te),Y.specifiers[Te]&&(0!==Te&&we.push(","),Y.specifiers[Te].type===S.ImportNamespaceSpecifier?we=F(we,[T,this.generateExpression(Y.specifiers[Te],R.Sequence,7)]):(we.push(T+"{"),Y.specifiers.length-Te==1?(we.push(T),we.push(this.generateExpression(Y.specifiers[Te],R.Sequence,7)),we.push(T+"}"+T)):(f(function(ct){var ve,Oe;for(we.push(D),ve=Te,Oe=Y.specifiers.length;ve<Oe;++ve)we.push(ct),we.push(ze.generateExpression(Y.specifiers[ve],R.Sequence,7)),ve+1<Oe&&we.push(","+D)}),Ae(qe(we).toString())||we.push(D),we.push(c+"}"+T)))),we=F(we,["from"+T,this.generateExpression(Y.source,R.Sequence,7),this.semicolon(be)]))},VariableDeclarator:function(Y,be){var we=1&be?7:6;return Y.init?[this.generateExpression(Y.id,R.Assignment,we),T,"=",T,this.generateExpression(Y.init,R.Assignment,we)]:this.generatePattern(Y.id,R.Assignment,we)},VariableDeclaration:function(Y,be){var we,Te,ze,ct,ve,Oe=this;function xe(){for(ct=Y.declarations[0],B.comment&&ct.leadingComments?(we.push("\n"),we.push(l(Oe.generateStatement(ct,ve)))):(we.push(ht()),we.push(Oe.generateStatement(ct,ve))),Te=1,ze=Y.declarations.length;Te<ze;++Te)ct=Y.declarations[Te],B.comment&&ct.leadingComments?(we.push(","+D),we.push(l(Oe.generateStatement(ct,ve)))):(we.push(","+T),we.push(Oe.generateStatement(ct,ve)))}return we=[Y.kind],ve=1&be?1:0,Y.declarations.length>1?f(xe):xe(),we.push(this.semicolon(be)),we},ThrowStatement:function(Y,be){return[F("throw",this.generateExpression(Y.argument,R.Sequence,7)),this.semicolon(be)]},TryStatement:function(Y,be){var we,Te,ze,ct;if(we=["try",this.maybeBlock(Y.block,1)],we=this.maybeBlockSuffix(Y.block,we),Y.handlers)for(Te=0,ze=Y.handlers.length;Te<ze;++Te)we=F(we,this.generateStatement(Y.handlers[Te],1)),(Y.finalizer||Te+1!==ze)&&(we=this.maybeBlockSuffix(Y.handlers[Te].body,we));else{for(Te=0,ze=(ct=Y.guardedHandlers||[]).length;Te<ze;++Te)we=F(we,this.generateStatement(ct[Te],1)),(Y.finalizer||Te+1!==ze)&&(we=this.maybeBlockSuffix(ct[Te].body,we));if(Y.handler)if(Array.isArray(Y.handler))for(Te=0,ze=Y.handler.length;Te<ze;++Te)we=F(we,this.generateStatement(Y.handler[Te],1)),(Y.finalizer||Te+1!==ze)&&(we=this.maybeBlockSuffix(Y.handler[Te].body,we));else we=F(we,this.generateStatement(Y.handler,1)),Y.finalizer&&(we=this.maybeBlockSuffix(Y.handler.body,we))}return Y.finalizer&&(we=F(we,["finally",this.maybeBlock(Y.finalizer,1)])),we},SwitchStatement:function(Y,be){var we,Te,ze,ct,ve,Oe=this;if(f(function(){we=["switch"+T+"(",Oe.generateExpression(Y.discriminant,R.Sequence,7),")"+T+"{"+D]}),Y.cases)for(ve=1,ze=0,ct=Y.cases.length;ze<ct;++ze)ze===ct-1&&(ve|=32),Te=l(this.generateStatement(Y.cases[ze],ve)),we.push(Te),Ae(qe(Te).toString())||we.push(D);return we.push(l("}")),we},SwitchCase:function(Y,be){var we,Te,ze,ct,ve,Oe=this;return f(function(){for(we=Y.test?[F("case",Oe.generateExpression(Y.test,R.Sequence,7)),":"]:["default:"],ze=0,(ct=Y.consequent.length)&&Y.consequent[0].type===S.BlockStatement&&(Te=Oe.maybeBlock(Y.consequent[0],1),we.push(Te),ze=1),ze!==ct&&!Ae(qe(we).toString())&&we.push(D),ve=1;ze<ct;++ze)ze===ct-1&&32&be&&(ve|=32),Te=l(Oe.generateStatement(Y.consequent[ze],ve)),we.push(Te),ze+1!==ct&&!Ae(qe(Te).toString())&&we.push(D)}),we},IfStatement:function(Y,be){var we,Te,ct=this;return f(function(){we=["if"+T+"(",ct.generateExpression(Y.test,R.Sequence,7),")"]}),Te=1,32&be&&(Te|=32),Y.alternate?(we.push(this.maybeBlock(Y.consequent,1)),we=F(we=this.maybeBlockSuffix(Y.consequent,we),Y.alternate.type===S.IfStatement?["else ",this.generateStatement(Y.alternate,Te)]:F("else",this.maybeBlock(Y.alternate,Te)))):we.push(this.maybeBlock(Y.consequent,Te)),we},ForStatement:function(Y,be){var we,Te=this;return f(function(){we=["for"+T+"("],Y.init?Y.init.type===S.VariableDeclaration?we.push(Te.generateStatement(Y.init,0)):(we.push(Te.generateExpression(Y.init,R.Sequence,6)),we.push(";")):we.push(";"),Y.test&&(we.push(T),we.push(Te.generateExpression(Y.test,R.Sequence,7))),we.push(";"),Y.update&&(we.push(T),we.push(Te.generateExpression(Y.update,R.Sequence,7))),we.push(")")}),we.push(this.maybeBlock(Y.body,32&be?33:1)),we},ForInStatement:function(Y,be){return this.generateIterationForStatement("in",Y,32&be?33:1)},ForOfStatement:function(Y,be){return this.generateIterationForStatement("of",Y,32&be?33:1)},LabeledStatement:function(Y,be){return[Y.label.name+":",this.maybeBlock(Y.body,32&be?33:1)]},Program:function(Y,be){var we,Te,ze,ct,ve;for(ct=Y.body.length,we=[M&&ct>0?"\n":""],ve=17,ze=0;ze<ct;++ze)!M&&ze===ct-1&&(ve|=32),oe&&(0===ze&&(Y.body[0].leadingComments||$e(Y.range[0],Y.body[ze].range[0],we)),ze>0&&!Y.body[ze-1].trailingComments&&!Y.body[ze].leadingComments&&$e(Y.body[ze-1].range[1],Y.body[ze].range[0],we)),Te=l(this.generateStatement(Y.body[ze],ve)),we.push(Te),ze+1<ct&&!Ae(qe(Te).toString())&&(oe&&Y.body[ze+1].leadingComments||we.push(D)),oe&&ze===ct-1&&(Y.body[ze].trailingComments||$e(Y.body[ze].range[1],Y.range[1],we));return we},FunctionDeclaration:function(Y,be){return[Bn(Y,!0),"function",Sn(Y)||ht(),Y.id?xt(Y.id):"",this.generateFunctionBody(Y)]},ReturnStatement:function(Y,be){return Y.argument?[F("return",this.generateExpression(Y.argument,R.Sequence,7)),this.semicolon(be)]:["return"+this.semicolon(be)]},WhileStatement:function(Y,be){var we,Te=this;return f(function(){we=["while"+T+"(",Te.generateExpression(Y.test,R.Sequence,7),")"]}),we.push(this.maybeBlock(Y.body,32&be?33:1)),we},WithStatement:function(Y,be){var we,Te=this;return f(function(){we=["with"+T+"(",Te.generateExpression(Y.object,R.Sequence,7),")"]}),we.push(this.maybeBlock(Y.body,32&be?33:1)),we}}),je(at.prototype,at.Expression={SequenceExpression:function(Y,be,we){var Te,ze,ct;for(R.Sequence<be&&(we|=1),Te=[],ze=0,ct=Y.expressions.length;ze<ct;++ze)Te.push(this.generateExpression(Y.expressions[ze],R.Assignment,we)),ze+1<ct&&Te.push(","+T);return Ze(Te,R.Sequence,be)},AssignmentExpression:function(Y,be,we){return this.generateAssignment(Y.left,Y.right,Y.operator,be,we)},ArrowFunctionExpression:function(Y,be,we){return Ze(this.generateFunctionBody(Y),R.ArrowFunction,be)},ConditionalExpression:function(Y,be,we){return R.Conditional<be&&(we|=1),Ze([this.generateExpression(Y.test,R.LogicalOR,we),T+"?"+T,this.generateExpression(Y.consequent,R.Assignment,we),T+":"+T,this.generateExpression(Y.alternate,R.Assignment,we)],R.Conditional,be)},LogicalExpression:function(Y,be,we){return this.BinaryExpression(Y,be,we)},BinaryExpression:function(Y,be,we){var Te,ct,ve,Oe,xe;return ve=O[Y.operator],ct="**"===Y.operator?ve:ve+1,ve<be&&(we|=1),Te=47===(xe=(Oe=this.generateExpression(Y.left,"**"===Y.operator?R.Postfix:ve,we)).toString()).charCodeAt(xe.length-1)&&u.code.isIdentifierPartES5(Y.operator.charCodeAt(0))?[Oe,ht(),Y.operator]:F(Oe,Y.operator),Oe=this.generateExpression(Y.right,ct,we),"/"===Y.operator&&"/"===Oe.toString().charAt(0)||"<"===Y.operator.slice(-1)&&"!--"===Oe.toString().slice(0,3)?(Te.push(ht()),Te.push(Oe)):Te=F(Te,Oe),"in"!==Y.operator||1&we?Ze(Te,ve,be):["(",Te,")"]},CallExpression:function(Y,be,we){var Te,ze,ct;for((Te=[this.generateExpression(Y.callee,R.Call,3)]).push("("),ze=0,ct=Y.arguments.length;ze<ct;++ze)Te.push(this.generateExpression(Y.arguments[ze],R.Assignment,7)),ze+1<ct&&Te.push(","+T);return Te.push(")"),2&we?Ze(Te,R.Call,be):["(",Te,")"]},NewExpression:function(Y,be,we){var Te,ze,ct,ve;if(ze=Y.arguments.length,Te=F("new",this.generateExpression(Y.callee,R.New,4&we&&!E&&0===ze?5:1)),!(4&we)||E||ze>0){for(Te.push("("),ct=0,ve=ze;ct<ve;++ct)Te.push(this.generateExpression(Y.arguments[ct],R.Assignment,7)),ct+1<ve&&Te.push(","+T);Te.push(")")}return Ze(Te,R.New,be)},MemberExpression:function(Y,be,we){var Te,ze;return Te=[this.generateExpression(Y.object,R.Call,2&we?3:1)],Y.computed?(Te.push("["),Te.push(this.generateExpression(Y.property,R.Sequence,2&we?7:5)),Te.push("]")):(Y.object.type===S.Literal&&"number"==typeof Y.object.value&&(ze=qe(Te).toString()).indexOf(".")<0&&!/[eExX]/.test(ze)&&u.code.isDecimalDigit(ze.charCodeAt(ze.length-1))&&!(ze.length>=2&&48===ze.charCodeAt(0))&&Te.push(" "),Te.push("."),Te.push(xt(Y.property))),Ze(Te,R.Member,be)},MetaProperty:function(Y,be,we){var Te;return(Te=[]).push("string"==typeof Y.meta?Y.meta:xt(Y.meta)),Te.push("."),Te.push("string"==typeof Y.property?Y.property:xt(Y.property)),Ze(Te,R.Member,be)},UnaryExpression:function(Y,be,we){var Te,ze,ct,ve,Oe;return ze=this.generateExpression(Y.argument,R.Unary,7),""===T?Te=F(Y.operator,ze):(Te=[Y.operator],Y.operator.length>2?Te=F(Te,ze):(Oe=(ve=qe(Te).toString()).charCodeAt(ve.length-1),ct=ze.toString().charCodeAt(0),((43===Oe||45===Oe)&&Oe===ct||u.code.isIdentifierPartES5(Oe)&&u.code.isIdentifierPartES5(ct))&&Te.push(ht()),Te.push(ze))),Ze(Te,R.Unary,be)},YieldExpression:function(Y,be,we){var Te;return Te=Y.delegate?"yield*":"yield",Y.argument&&(Te=F(Te,this.generateExpression(Y.argument,R.Yield,7))),Ze(Te,R.Yield,be)},AwaitExpression:function(Y,be,we){return Ze(F(Y.all?"await*":"await",this.generateExpression(Y.argument,R.Await,7)),R.Await,be)},UpdateExpression:function(Y,be,we){return Y.prefix?Ze([Y.operator,this.generateExpression(Y.argument,R.Unary,7)],R.Unary,be):Ze([this.generateExpression(Y.argument,R.Postfix,7),Y.operator],R.Postfix,be)},FunctionExpression:function(Y,be,we){var Te=[Bn(Y,!0),"function"];return Y.id?(Te.push(Sn(Y)||ht()),Te.push(xt(Y.id))):Te.push(Sn(Y)||T),Te.push(this.generateFunctionBody(Y)),Te},ArrayPattern:function(Y,be,we){return this.ArrayExpression(Y,be,we,!0)},ArrayExpression:function(Y,be,we,Te){var ze,ct,ve=this;return Y.elements.length?(ze=["[",(ct=!Te&&Y.elements.length>1)?D:""],f(function(Oe){var xe,_e;for(xe=0,_e=Y.elements.length;xe<_e;++xe)Y.elements[xe]?(ze.push(ct?Oe:""),ze.push(ve.generateExpression(Y.elements[xe],R.Assignment,7))):(ct&&ze.push(Oe),xe+1===_e&&ze.push(",")),xe+1<_e&&ze.push(","+(ct?D:T))}),ct&&!Ae(qe(ze).toString())&&ze.push(D),ze.push(ct?c:""),ze.push("]"),ze):"[]"},RestElement:function(Y,be,we){return"..."+this.generatePattern(Y.argument)},ClassExpression:function(Y,be,we){var Te,ze;return Te=["class"],Y.id&&(Te=F(Te,this.generateExpression(Y.id,R.Sequence,7))),Y.superClass&&(ze=F("extends",this.generateExpression(Y.superClass,R.Unary,7)),Te=F(Te,ze)),Te.push(T),Te.push(this.generateStatement(Y.body,33)),Te},MethodDefinition:function(Y,be,we){var Te,ze;return Te=Y.static?["static"+T]:[],ze="get"===Y.kind||"set"===Y.kind?[F(Y.kind,this.generatePropertyKey(Y.key,Y.computed)),this.generateFunctionBody(Y.value)]:[_n(Y),this.generatePropertyKey(Y.key,Y.computed),this.generateFunctionBody(Y.value)],F(Te,ze)},Property:function(Y,be,we){return"get"===Y.kind||"set"===Y.kind?[Y.kind,ht(),this.generatePropertyKey(Y.key,Y.computed),this.generateFunctionBody(Y.value)]:Y.shorthand?"AssignmentPattern"===Y.value.type?this.AssignmentPattern(Y.value,R.Sequence,7):this.generatePropertyKey(Y.key,Y.computed):Y.method?[_n(Y),this.generatePropertyKey(Y.key,Y.computed),this.generateFunctionBody(Y.value)]:[this.generatePropertyKey(Y.key,Y.computed),":"+T,this.generateExpression(Y.value,R.Assignment,7)]},ObjectExpression:function(Y,be,we){var Te,ze,ct,ve=this;return Y.properties.length?(Te=Y.properties.length>1,f(function(){ct=ve.generateExpression(Y.properties[0],R.Sequence,7)}),Te||function Ge(Y){return/[\r\n]/g.test(Y)}(qe(ct).toString())?(f(function(Oe){var xe,_e;if(ze=["{",D,Oe,ct],Te)for(ze.push(","+D),xe=1,_e=Y.properties.length;xe<_e;++xe)ze.push(Oe),ze.push(ve.generateExpression(Y.properties[xe],R.Sequence,7)),xe+1<_e&&ze.push(","+D)}),Ae(qe(ze).toString())||ze.push(D),ze.push(c),ze.push("}"),ze):["{",T,ct,T,"}"]):"{}"},AssignmentPattern:function(Y,be,we){return this.generateAssignment(Y.left,Y.right,"=",be,we)},ObjectPattern:function(Y,be,we){var Te,ze,ct,ve,Oe,xe=this;if(!Y.properties.length)return"{}";if(ve=!1,1===Y.properties.length)(Oe=Y.properties[0]).type===S.Property&&Oe.value.type!==S.Identifier&&(ve=!0);else for(ze=0,ct=Y.properties.length;ze<ct;++ze)if((Oe=Y.properties[ze]).type===S.Property&&!Oe.shorthand){ve=!0;break}return Te=["{",ve?D:""],f(function(_e){var Ve,tt;for(Ve=0,tt=Y.properties.length;Ve<tt;++Ve)Te.push(ve?_e:""),Te.push(xe.generateExpression(Y.properties[Ve],R.Sequence,7)),Ve+1<tt&&Te.push(","+(ve?D:T))}),ve&&!Ae(qe(Te).toString())&&Te.push(D),Te.push(ve?c:""),Te.push("}"),Te},ThisExpression:function(Y,be,we){return"this"},Super:function(Y,be,we){return"super"},Identifier:function(Y,be,we){return xt(Y)},ImportDefaultSpecifier:function(Y,be,we){return xt(Y.id||Y.local)},ImportNamespaceSpecifier:function(Y,be,we){var Te=["*"],ze=Y.id||Y.local;return ze&&Te.push(T+"as"+ht()+xt(ze)),Te},ImportSpecifier:function(Y,be,we){var Te=Y.imported,ze=[Te.name],ct=Y.local;return ct&&ct.name!==Te.name&&ze.push(ht()+"as"+ht()+xt(ct)),ze},ExportSpecifier:function(Y,be,we){var Te=Y.local,ze=[Te.name],ct=Y.exported;return ct&&ct.name!==Te.name&&ze.push(ht()+"as"+ht()+xt(ct)),ze},Literal:function(Y,be,we){var Te;if(Y.hasOwnProperty("raw")&&L&&B.raw)try{if((Te=L(Y.raw).body[0].expression).type===S.Literal&&Te.value===Y.value)return Y.raw}catch{}return Y.regex?"/"+Y.regex.pattern+"/"+Y.regex.flags:null===Y.value?"null":"string"==typeof Y.value?function Qe(Y){var we,Te,ze,Oe,xe,be="",ct=0,ve=0;for(we=0,Te=Y.length;we<Te;++we){if(39===(ze=Y.charCodeAt(we)))++ct;else if(34===ze)++ve;else if(47===ze&&m)be+="\\";else{if(u.code.isLineTerminator(ze)||92===ze){be+=Be(ze);continue}if(!u.code.isIdentifierPartES5(ze)&&(m&&ze<32||!m&&!v&&(ze<32||ze>126))){be+=he(ze,Y.charCodeAt(we+1));continue}}be+=String.fromCharCode(ze)}if(xe=(Oe=!("double"===g||"auto"===g&&ve<ct))?"'":'"',!(Oe?ct:ve))return xe+be+xe;for(Y=be,be=xe,we=0,Te=Y.length;we<Te;++we)(39===(ze=Y.charCodeAt(we))&&Oe||34===ze&&!Oe)&&(be+="\\"),be+=String.fromCharCode(ze);return be+xe}(Y.value):"number"==typeof Y.value?function W(Y){var be,we,Te,ze,ct;if(Y!=Y)throw new Error("Numeric literal whose value is NaN");if(Y<0||0===Y&&1/Y<0)throw new Error("Numeric literal whose value is negative");if(Y===1/0)return m?"null":h?"1e400":"1e+400";if(be=""+Y,!h||be.length<3)return be;for(we=be.indexOf("."),!m&&48===be.charCodeAt(0)&&1===we&&(we=0,be=be.slice(1)),Te=be,be=be.replace("e+","e"),ze=0,(ct=Te.indexOf("e"))>0&&(ze=+Te.slice(ct+1),Te=Te.slice(0,ct)),we>=0&&(ze-=Te.length-we-1,Te=+(Te.slice(0,we)+Te.slice(we+1))+""),ct=0;48===Te.charCodeAt(Te.length+ct-1);)--ct;return 0!==ct&&(ze-=ct,Te=Te.slice(0,ct)),0!==ze&&(Te+="e"+ze),(Te.length<be.length||_&&Y>1e12&&Math.floor(Y)===Y&&(Te="0x"+Y.toString(16)).length<be.length)&&+Te===Y&&(be=Te),be}(Y.value):"boolean"==typeof Y.value?Y.value?"true":"false":function ke(Y){var be,we,Te,ze,ct,ve,Oe,xe;if(we=Y.toString(),Y.source){if(!(be=we.match(/\/([^/]*)$/)))return we;for(Te=be[1],we="",Oe=!1,xe=!1,ze=0,ct=Y.source.length;ze<ct;++ze)ve=Y.source.charCodeAt(ze),xe?(we+=ee(ve,xe),xe=!1):(Oe?93===ve&&(Oe=!1):47===ve?we+="\\":91===ve&&(Oe=!0),we+=ee(ve,xe),xe=92===ve);return"/"+we+"/"+Te}return we}(Y.value)},GeneratorExpression:function(Y,be,we){return this.ComprehensionExpression(Y,be,we)},ComprehensionExpression:function(Y,be,we){var Te,ze,ct,ve,Oe=this;return Te=Y.type===S.GeneratorExpression?["("]:["["],B.moz.comprehensionExpressionStartsWithAssignment&&(ve=this.generateExpression(Y.body,R.Assignment,7),Te.push(ve)),Y.blocks&&f(function(){for(ze=0,ct=Y.blocks.length;ze<ct;++ze)ve=Oe.generateExpression(Y.blocks[ze],R.Sequence,7),ze>0||B.moz.comprehensionExpressionStartsWithAssignment?Te=F(Te,ve):Te.push(ve)}),Y.filter&&(Te=F(Te,"if"+T),ve=this.generateExpression(Y.filter,R.Sequence,7),Te=F(Te,["(",ve,")"])),B.moz.comprehensionExpressionStartsWithAssignment||(ve=this.generateExpression(Y.body,R.Assignment,7),Te=F(Te,ve)),Te.push(Y.type===S.GeneratorExpression?")":"]"),Te},ComprehensionBlock:function(Y,be,we){var Te;return Te=F(Te=Y.left.type===S.VariableDeclaration?[Y.left.kind,ht(),this.generateStatement(Y.left.declarations[0],0)]:this.generateExpression(Y.left,R.Call,7),Y.of?"of":"in"),Te=F(Te,this.generateExpression(Y.right,R.Sequence,7)),["for"+T+"(",Te,")"]},SpreadElement:function(Y,be,we){return["...",this.generateExpression(Y.argument,R.Assignment,7)]},TaggedTemplateExpression:function(Y,be,we){var Te=3;return 2&we||(Te=1),Ze([this.generateExpression(Y.tag,R.Call,Te),this.generateExpression(Y.quasi,R.Primary,4)],R.TaggedTemplate,be)},TemplateElement:function(Y,be,we){return Y.value.raw},TemplateLiteral:function(Y,be,we){var Te,ze,ct;for(Te=["`"],ze=0,ct=Y.quasis.length;ze<ct;++ze)Te.push(this.generateExpression(Y.quasis[ze],R.Primary,7)),ze+1<ct&&(Te.push("${"+T),Te.push(this.generateExpression(Y.expressions[ze],R.Sequence,7)),Te.push(T+"}"));return Te.push("`"),Te},ModuleSpecifier:function(Y,be,we){return this.Literal(Y,be,we)},ImportExpression:function(Y,be,we){return Ze(["import(",this.generateExpression(Y.source,R.Assignment,7),")"],R.Call,be)}}),at.prototype.generateExpression=function(Y,be,we){var Te,ze;return ze=Y.type||S.Property,B.verbatim&&Y.hasOwnProperty(B.verbatim)?function pt(Y,be){var we;return qe("string"==typeof(we=Y[B.verbatim])?Ze(dt(we),R.Sequence,be):Ze(dt(we.content),null!=we.precedence?we.precedence:R.Sequence,be),Y)}(Y,be):(Te=this[ze](Y,be,we),B.comment&&(Te=Ce(Y,Te)),qe(Te,Y))},at.prototype.generateStatement=function(Y,be){var we,Te;return we=this[Y.type](Y,be),B.comment&&(we=Ce(Y,we)),Te=qe(we).toString(),Y.type===S.Program&&!M&&""===D&&"\n"===Te.charAt(Te.length-1)&&(we=z?qe(we).replaceRight(/\s+$/,""):Te.replace(/\s+$/,"")),qe(we,Y)},d(4777),A.cM=function Hn(Y,be){var Te,ze,we={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=be?("string"==typeof be.indent&&(we.format.indent.style=be.indent),"number"==typeof be.base&&(we.format.indent.base=be.base),be=se(we,be),w=be.format.indent.style,c="string"==typeof be.base?be.base:Ke(w,be.format.indent.base)):c=Ke(w=(be=we).format.indent.style,be.format.indent.base),h=be.format.renumber,_=!(m=be.format.json)&&be.format.hexadecimal,g=m?"double":be.format.quotes,v=be.format.escapeless,D=be.format.newline,T=be.format.space,be.format.compact&&(D=T=w=c=""),E=be.format.parentheses,N=be.format.semicolons,M=be.format.safeConcatenation,k=be.directive,L=m?null:be.parse,Q=be.sourceCode,oe=be.format.preserveBlankLines&&null!==Q,B=be,(z=be.sourceMap)&&(P=A.T?globalThis.sourceMap.SourceNode:d(9877).SourceNode),Te=function An(Y){var be;if(be=new at,te(Y))return be.generateStatement(Y,1);if(function K(Y){return at.Expression.hasOwnProperty(Y.type)}(Y))return be.generateExpression(Y,R.Sequence,7);throw new Error("Unknown node type: "+Y.type)}(Y),z?(ze=Te.toStringWithSourceMap({file:be.file,sourceRoot:be.sourceMapRoot}),be.sourceContent&&ze.map.setSourceContent(be.sourceMap,be.sourceContent),be.sourceMapWithCode?ze:ze.map.toString()):(ze={code:Te.toString(),map:null},be.sourceMapWithCode?ze:ze.code)},se({},R),A.T=!1}()},4683:(Z,A,d)=>{var b=d(5775),S=Object.prototype.hasOwnProperty,R=typeof Map<"u";function O(){this._array=[],this._set=R?new Map:Object.create(null)}O.fromArray=function(y,u){for(var c=new O,w=0,m=y.length;w<m;w++)c.add(y[w],u);return c},O.prototype.size=function(){return R?this._set.size:Object.getOwnPropertyNames(this._set).length},O.prototype.add=function(y,u){var c=R?y:b.toSetString(y),w=R?this.has(y):S.call(this._set,c),m=this._array.length;(!w||u)&&this._array.push(y),w||(R?this._set.set(y,m):this._set[c]=m)},O.prototype.has=function(y){if(R)return this._set.has(y);var u=b.toSetString(y);return S.call(this._set,u)},O.prototype.indexOf=function(y){if(R){var u=this._set.get(y);if(u>=0)return u}else{var c=b.toSetString(y);if(S.call(this._set,c))return this._set[c]}throw new Error('"'+y+'" is not in the set.')},O.prototype.at=function(y){if(y>=0&&y<this._array.length)return this._array[y];throw new Error("No element indexed by "+y)},O.prototype.toArray=function(){return this._array.slice()},A.C=O},9344:(Z,A,d)=>{var b=d(7312);A.encode=function(w){var h,m="",_=function y(c){return c<0?1+(-c<<1):0+(c<<1)}(w);do{h=31&_,(_>>>=5)>0&&(h|=32),m+=b.encode(h)}while(_>0);return m},A.decode=function(w,m,h){var D,T,_=w.length,g=0,v=0;do{if(m>=_)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(T=b.decode(w.charCodeAt(m++))))throw new Error("Invalid base64 digit: "+w.charAt(m-1));D=!!(32&T),g+=(T&=31)<<v,v+=5}while(D);h.value=function u(c){var m=c>>1;return 1&~c?m:-m}(g),h.rest=m}},7312:(Z,A)=>{var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");A.encode=function(b){if(0<=b&&b<d.length)return d[b];throw new TypeError("Must be between 0 and 63: "+b)},A.decode=function(b){return 65<=b&&b<=90?b-65:97<=b&&b<=122?b-97+26:48<=b&&b<=57?b-48+52:43==b?62:47==b?63:-1}},6295:(Z,A)=>{function d(b,S,R,O,P,y){var u=Math.floor((S-b)/2)+b,c=P(R,O[u],!0);return 0===c?u:c>0?S-u>1?d(u,S,R,O,P,y):y==A.LEAST_UPPER_BOUND?S<O.length?S:-1:u:u-b>1?d(b,u,R,O,P,y):y==A.LEAST_UPPER_BOUND?u:b<0?-1:b}A.GREATEST_LOWER_BOUND=1,A.LEAST_UPPER_BOUND=2,A.search=function(S,R,O,P){if(0===R.length)return-1;var y=d(-1,R.length,S,R,O,P||A.GREATEST_LOWER_BOUND);if(y<0)return-1;for(;y-1>=0&&0===O(R[y],R[y-1],!0);)--y;return y}},4242:(Z,A,d)=>{var b=d(5775);function R(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}R.prototype.unsortedForEach=function(P,y){this._array.forEach(P,y)},R.prototype.add=function(P){!function S(O,P){var y=O.generatedLine,u=P.generatedLine;return u>y||u==y&&P.generatedColumn>=O.generatedColumn||b.compareByGeneratedPositionsInflated(O,P)<=0}(this._last,P)?(this._sorted=!1,this._array.push(P)):(this._last=P,this._array.push(P))},R.prototype.toArray=function(){return this._sorted||(this._array.sort(b.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},A.P=R},4421:(Z,A)=>{function d(R,O,P){var y=R[O];R[O]=R[P],R[P]=y}function S(R,O,P,y){if(P<y){var u=function b(R,O){return Math.round(R+Math.random()*(O-R))}(P,y),c=P-1;d(R,u,y);for(var w=R[y],m=P;m<y;m++)O(R[m],w)<=0&&d(R,c+=1,m);d(R,c+1,m);var h=c+1;S(R,O,P,h-1),S(R,O,h+1,y)}}A.g=function(R,O){S(R,O,0,R.length-1)}},2818:(Z,A,d)=>{var S=d(5775),R=d(6295),O=d(4683).C,P=d(9344),y=d(4421).g;function u(h,_){var g=h;return"string"==typeof h&&(g=S.parseSourceMapInput(h)),null!=g.sections?new m(g,_):new c(g,_)}function c(h,_){var g=h;"string"==typeof h&&(g=S.parseSourceMapInput(h));var v=S.getArg(g,"version"),D=S.getArg(g,"sources"),T=S.getArg(g,"names",[]),E=S.getArg(g,"sourceRoot",null),N=S.getArg(g,"sourcesContent",null),M=S.getArg(g,"mappings"),k=S.getArg(g,"file",null);if(v!=this._version)throw new Error("Unsupported version: "+v);E&&(E=S.normalize(E)),D=D.map(String).map(S.normalize).map(function(B){return E&&S.isAbsolute(E)&&S.isAbsolute(B)?S.relative(E,B):B}),this._names=O.fromArray(T.map(String),!0),this._sources=O.fromArray(D,!0),this._absoluteSources=this._sources.toArray().map(function(B){return S.computeSourceURL(E,B,_)}),this.sourceRoot=E,this.sourcesContent=N,this._mappings=M,this._sourceMapURL=_,this.file=k}function w(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function m(h,_){var g=h;"string"==typeof h&&(g=S.parseSourceMapInput(h));var v=S.getArg(g,"version"),D=S.getArg(g,"sections");if(v!=this._version)throw new Error("Unsupported version: "+v);this._sources=new O,this._names=new O;var T={line:-1,column:0};this._sections=D.map(function(E){if(E.url)throw new Error("Support for url field in sections not implemented.");var N=S.getArg(E,"offset"),M=S.getArg(N,"line"),k=S.getArg(N,"column");if(M<T.line||M===T.line&&k<T.column)throw new Error("Section offsets must be ordered and non-overlapping.");return T=N,{generatedOffset:{generatedLine:M+1,generatedColumn:k+1},consumer:new u(S.getArg(E,"map"),_)}})}u.fromSourceMap=function(h,_){return c.fromSourceMap(h,_)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(_,g){var v=_.charAt(g);return";"===v||","===v},u.prototype._parseMappings=function(_,g){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(_,g,v){var E,D=g||null;switch(v||u.GENERATED_ORDER){case u.GENERATED_ORDER:E=this._generatedMappings;break;case u.ORIGINAL_ORDER:E=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var N=this.sourceRoot;E.map(function(M){var k=null===M.source?null:this._sources.at(M.source);return{source:k=S.computeSourceURL(N,k,this._sourceMapURL),generatedLine:M.generatedLine,generatedColumn:M.generatedColumn,originalLine:M.originalLine,originalColumn:M.originalColumn,name:null===M.name?null:this._names.at(M.name)}},this).forEach(_,D)},u.prototype.allGeneratedPositionsFor=function(_){var g=S.getArg(_,"line"),v={source:S.getArg(_,"source"),originalLine:g,originalColumn:S.getArg(_,"column",0)};if(v.source=this._findSourceIndex(v.source),v.source<0)return[];var D=[],T=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,R.LEAST_UPPER_BOUND);if(T>=0){var E=this._originalMappings[T];if(void 0===_.column)for(var N=E.originalLine;E&&E.originalLine===N;)D.push({line:S.getArg(E,"generatedLine",null),column:S.getArg(E,"generatedColumn",null),lastColumn:S.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++T];else for(var M=E.originalColumn;E&&E.originalLine===g&&E.originalColumn==M;)D.push({line:S.getArg(E,"generatedLine",null),column:S.getArg(E,"generatedColumn",null),lastColumn:S.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++T]}return D},(c.prototype=Object.create(u.prototype)).consumer=u,c.prototype._findSourceIndex=function(h){var g,_=h;if(null!=this.sourceRoot&&(_=S.relative(this.sourceRoot,_)),this._sources.has(_))return this._sources.indexOf(_);for(g=0;g<this._absoluteSources.length;++g)if(this._absoluteSources[g]==h)return g;return-1},c.fromSourceMap=function(_,g){var v=Object.create(c.prototype),D=v._names=O.fromArray(_._names.toArray(),!0),T=v._sources=O.fromArray(_._sources.toArray(),!0);v.sourceRoot=_._sourceRoot,v.sourcesContent=_._generateSourcesContent(v._sources.toArray(),v.sourceRoot),v.file=_._file,v._sourceMapURL=g,v._absoluteSources=v._sources.toArray().map(function(Q){return S.computeSourceURL(v.sourceRoot,Q,g)});for(var E=_._mappings.toArray().slice(),N=v.__generatedMappings=[],M=v.__originalMappings=[],k=0,B=E.length;k<B;k++){var L=E[k],z=new w;z.generatedLine=L.generatedLine,z.generatedColumn=L.generatedColumn,L.source&&(z.source=T.indexOf(L.source),z.originalLine=L.originalLine,z.originalColumn=L.originalColumn,L.name&&(z.name=D.indexOf(L.name)),M.push(z)),N.push(z)}return y(v.__originalMappings,S.compareByOriginalPositions),v},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),c.prototype._parseMappings=function(_,g){for(var j,ne,K,te,v=1,D=0,T=0,E=0,N=0,M=0,k=_.length,B=0,L={},z={},Q=[],oe=[];B<k;)if(";"===_.charAt(B))v++,B++,D=0;else if(","===_.charAt(B))B++;else{for((j=new w).generatedLine=v,te=B;te<k&&!this._charIsMappingSeparator(_,te);te++);if(K=L[ne=_.slice(B,te)])B+=ne.length;else{for(K=[];B<te;)P.decode(_,B,z),B=z.rest,K.push(z.value);if(2===K.length)throw new Error("Found a source, but no line and column");if(3===K.length)throw new Error("Found a source and line, but no column");L[ne]=K}j.generatedColumn=D+K[0],D=j.generatedColumn,K.length>1&&(j.source=N+K[1],N+=K[1],j.originalLine=T+K[2],T=j.originalLine,j.originalLine+=1,j.originalColumn=E+K[3],E=j.originalColumn,K.length>4&&(j.name=M+K[4],M+=K[4])),oe.push(j),"number"==typeof j.originalLine&&Q.push(j)}y(oe,S.compareByGeneratedPositionsDeflated),this.__generatedMappings=oe,y(Q,S.compareByOriginalPositions),this.__originalMappings=Q},c.prototype._findMapping=function(_,g,v,D,T,E){if(_[v]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+_[v]);if(_[D]<0)throw new TypeError("Column must be greater than or equal to 0, got "+_[D]);return R.search(_,g,T,E)},c.prototype.computeColumnSpans=function(){for(var _=0;_<this._generatedMappings.length;++_){var g=this._generatedMappings[_];if(_+1<this._generatedMappings.length){var v=this._generatedMappings[_+1];if(g.generatedLine===v.generatedLine){g.lastGeneratedColumn=v.generatedColumn-1;continue}}g.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(_){var g={generatedLine:S.getArg(_,"line"),generatedColumn:S.getArg(_,"column")},v=this._findMapping(g,this._generatedMappings,"generatedLine","generatedColumn",S.compareByGeneratedPositionsDeflated,S.getArg(_,"bias",u.GREATEST_LOWER_BOUND));if(v>=0){var D=this._generatedMappings[v];if(D.generatedLine===g.generatedLine){var T=S.getArg(D,"source",null);null!==T&&(T=this._sources.at(T),T=S.computeSourceURL(this.sourceRoot,T,this._sourceMapURL));var E=S.getArg(D,"name",null);return null!==E&&(E=this._names.at(E)),{source:T,line:S.getArg(D,"originalLine",null),column:S.getArg(D,"originalColumn",null),name:E}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(_){return null==_})},c.prototype.sourceContentFor=function(_,g){if(!this.sourcesContent)return null;var v=this._findSourceIndex(_);if(v>=0)return this.sourcesContent[v];var T,D=_;if(null!=this.sourceRoot&&(D=S.relative(this.sourceRoot,D)),null!=this.sourceRoot&&(T=S.urlParse(this.sourceRoot))){var E=D.replace(/^file:\/\//,"");if("file"==T.scheme&&this._sources.has(E))return this.sourcesContent[this._sources.indexOf(E)];if((!T.path||"/"==T.path)&&this._sources.has("/"+D))return this.sourcesContent[this._sources.indexOf("/"+D)]}if(g)return null;throw new Error('"'+D+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(_){var g=S.getArg(_,"source");if((g=this._findSourceIndex(g))<0)return{line:null,column:null,lastColumn:null};var v={source:g,originalLine:S.getArg(_,"line"),originalColumn:S.getArg(_,"column")},D=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,S.getArg(_,"bias",u.GREATEST_LOWER_BOUND));if(D>=0){var T=this._originalMappings[D];if(T.source===v.source)return{line:S.getArg(T,"generatedLine",null),column:S.getArg(T,"generatedColumn",null),lastColumn:S.getArg(T,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},(m.prototype=Object.create(u.prototype)).constructor=u,m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){for(var h=[],_=0;_<this._sections.length;_++)for(var g=0;g<this._sections[_].consumer.sources.length;g++)h.push(this._sections[_].consumer.sources[g]);return h}}),m.prototype.originalPositionFor=function(_){var g={generatedLine:S.getArg(_,"line"),generatedColumn:S.getArg(_,"column")},v=R.search(g,this._sections,function(T,E){return T.generatedLine-E.generatedOffset.generatedLine||T.generatedColumn-E.generatedOffset.generatedColumn}),D=this._sections[v];return D?D.consumer.originalPositionFor({line:g.generatedLine-(D.generatedOffset.generatedLine-1),column:g.generatedColumn-(D.generatedOffset.generatedLine===g.generatedLine?D.generatedOffset.generatedColumn-1:0),bias:_.bias}):{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(_){return _.consumer.hasContentsOfAllSources()})},m.prototype.sourceContentFor=function(_,g){for(var v=0;v<this._sections.length;v++){var T=this._sections[v].consumer.sourceContentFor(_,!0);if(T)return T}if(g)return null;throw new Error('"'+_+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(_){for(var g=0;g<this._sections.length;g++){var v=this._sections[g];if(-1!==v.consumer._findSourceIndex(S.getArg(_,"source"))){var D=v.consumer.generatedPositionFor(_);if(D)return{line:D.line+(v.generatedOffset.generatedLine-1),column:D.column+(v.generatedOffset.generatedLine===D.line?v.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},m.prototype._parseMappings=function(_,g){this.__generatedMappings=[],this.__originalMappings=[];for(var v=0;v<this._sections.length;v++)for(var D=this._sections[v],T=D.consumer._generatedMappings,E=0;E<T.length;E++){var N=T[E],M=D.consumer._sources.at(N.source);M=S.computeSourceURL(D.consumer.sourceRoot,M,this._sourceMapURL),this._sources.add(M),M=this._sources.indexOf(M);var k=null;N.name&&(k=D.consumer._names.at(N.name),this._names.add(k),k=this._names.indexOf(k));var B={source:M,generatedLine:N.generatedLine+(D.generatedOffset.generatedLine-1),generatedColumn:N.generatedColumn+(D.generatedOffset.generatedLine===N.generatedLine?D.generatedOffset.generatedColumn-1:0),originalLine:N.originalLine,originalColumn:N.originalColumn,name:k};this.__generatedMappings.push(B),"number"==typeof B.originalLine&&this.__originalMappings.push(B)}y(this.__generatedMappings,S.compareByGeneratedPositionsDeflated),y(this.__originalMappings,S.compareByOriginalPositions)}},3429:(Z,A,d)=>{var b=d(9344),S=d(5775),R=d(4683).C,O=d(4242).P;function P(y){y||(y={}),this._file=S.getArg(y,"file",null),this._sourceRoot=S.getArg(y,"sourceRoot",null),this._skipValidation=S.getArg(y,"skipValidation",!1),this._sources=new R,this._names=new R,this._mappings=new O,this._sourcesContents=null}P.prototype._version=3,P.fromSourceMap=function(u){var c=u.sourceRoot,w=new P({file:u.file,sourceRoot:c});return u.eachMapping(function(m){var h={generated:{line:m.generatedLine,column:m.generatedColumn}};null!=m.source&&(h.source=m.source,null!=c&&(h.source=S.relative(c,h.source)),h.original={line:m.originalLine,column:m.originalColumn},null!=m.name&&(h.name=m.name)),w.addMapping(h)}),u.sources.forEach(function(m){var h=m;null!==c&&(h=S.relative(c,m)),w._sources.has(h)||w._sources.add(h);var _=u.sourceContentFor(m);null!=_&&w.setSourceContent(m,_)}),w},P.prototype.addMapping=function(u){var c=S.getArg(u,"generated"),w=S.getArg(u,"original",null),m=S.getArg(u,"source",null),h=S.getArg(u,"name",null);this._skipValidation||this._validateMapping(c,w,m,h),null!=m&&(m=String(m),this._sources.has(m)||this._sources.add(m)),null!=h&&(h=String(h),this._names.has(h)||this._names.add(h)),this._mappings.add({generatedLine:c.line,generatedColumn:c.column,originalLine:null!=w&&w.line,originalColumn:null!=w&&w.column,source:m,name:h})},P.prototype.setSourceContent=function(u,c){var w=u;null!=this._sourceRoot&&(w=S.relative(this._sourceRoot,w)),null!=c?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[S.toSetString(w)]=c):this._sourcesContents&&(delete this._sourcesContents[S.toSetString(w)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},P.prototype.applySourceMap=function(u,c,w){var m=c;if(null==c){if(null==u.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');m=u.file}var h=this._sourceRoot;null!=h&&(m=S.relative(h,m));var _=new R,g=new R;this._mappings.unsortedForEach(function(v){if(v.source===m&&null!=v.originalLine){var D=u.originalPositionFor({line:v.originalLine,column:v.originalColumn});null!=D.source&&(v.source=D.source,null!=w&&(v.source=S.join(w,v.source)),null!=h&&(v.source=S.relative(h,v.source)),v.originalLine=D.line,v.originalColumn=D.column,null!=D.name&&(v.name=D.name))}var T=v.source;null!=T&&!_.has(T)&&_.add(T);var E=v.name;null!=E&&!g.has(E)&&g.add(E)},this),this._sources=_,this._names=g,u.sources.forEach(function(v){var D=u.sourceContentFor(v);null!=D&&(null!=w&&(v=S.join(w,v)),null!=h&&(v=S.relative(h,v)),this.setSourceContent(v,D))},this)},P.prototype._validateMapping=function(u,c,w,m){if(c&&"number"!=typeof c.line&&"number"!=typeof c.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0)||c||w||m){if(u&&"line"in u&&"column"in u&&c&&"line"in c&&"column"in c&&u.line>0&&u.column>=0&&c.line>0&&c.column>=0&&w)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:w,original:c,name:m}))}},P.prototype._serializeMappings=function(){for(var v,D,T,E,u=0,c=1,w=0,m=0,h=0,_=0,g="",N=this._mappings.toArray(),M=0,k=N.length;M<k;M++){if(v="",(D=N[M]).generatedLine!==c)for(u=0;D.generatedLine!==c;)v+=";",c++;else if(M>0){if(!S.compareByGeneratedPositionsInflated(D,N[M-1]))continue;v+=","}v+=b.encode(D.generatedColumn-u),u=D.generatedColumn,null!=D.source&&(E=this._sources.indexOf(D.source),v+=b.encode(E-_),_=E,v+=b.encode(D.originalLine-1-m),m=D.originalLine-1,v+=b.encode(D.originalColumn-w),w=D.originalColumn,null!=D.name&&(T=this._names.indexOf(D.name),v+=b.encode(T-h),h=T)),g+=v}return g},P.prototype._generateSourcesContent=function(u,c){return u.map(function(w){if(!this._sourcesContents)return null;null!=c&&(w=S.relative(c,w));var m=S.toSetString(w);return Object.prototype.hasOwnProperty.call(this._sourcesContents,m)?this._sourcesContents[m]:null},this)},P.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(u.file=this._file),null!=this._sourceRoot&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},P.prototype.toString=function(){return JSON.stringify(this.toJSON())},A.x=P},2071:(Z,A,d)=>{var b=d(3429).x,S=d(5775),R=/(\r?\n)/,P="$$$isSourceNode$$$";function y(u,c,w,m,h){this.children=[],this.sourceContents={},this.line=u??null,this.column=c??null,this.source=w??null,this.name=h??null,this[P]=!0,null!=m&&this.add(m)}y.fromStringWithSourceMap=function(c,w,m){var h=new y,_=c.split(R),g=0,v=function(){return B()+(B()||"");function B(){return g<_.length?_[g++]:void 0}},D=1,T=0,E=null;return w.eachMapping(function(M){if(null!==E){if(!(D<M.generatedLine)){var B=(k=_[g]||"").substr(0,M.generatedColumn-T);return _[g]=k.substr(M.generatedColumn-T),T=M.generatedColumn,N(E,B),void(E=M)}N(E,v()),D++,T=0}for(;D<M.generatedLine;)h.add(v()),D++;var k;T<M.generatedColumn&&(h.add((k=_[g]||"").substr(0,M.generatedColumn)),_[g]=k.substr(M.generatedColumn),T=M.generatedColumn),E=M},this),g<_.length&&(E&&N(E,v()),h.add(_.splice(g).join(""))),w.sources.forEach(function(M){var k=w.sourceContentFor(M);null!=k&&(null!=m&&(M=S.join(m,M)),h.setSourceContent(M,k))}),h;function N(M,k){if(null===M||void 0===M.source)h.add(k);else{var B=m?S.join(m,M.source):M.source;h.add(new y(M.originalLine,M.originalColumn,B,k,M.name))}}},y.prototype.add=function(c){if(Array.isArray(c))c.forEach(function(w){this.add(w)},this);else{if(!c[P]&&"string"!=typeof c)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);c&&this.children.push(c)}return this},y.prototype.prepend=function(c){if(Array.isArray(c))for(var w=c.length-1;w>=0;w--)this.prepend(c[w]);else{if(!c[P]&&"string"!=typeof c)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);this.children.unshift(c)}return this},y.prototype.walk=function(c){for(var w,m=0,h=this.children.length;m<h;m++)(w=this.children[m])[P]?w.walk(c):""!==w&&c(w,{source:this.source,line:this.line,column:this.column,name:this.name})},y.prototype.join=function(c){var w,m,h=this.children.length;if(h>0){for(w=[],m=0;m<h-1;m++)w.push(this.children[m]),w.push(c);w.push(this.children[m]),this.children=w}return this},y.prototype.replaceRight=function(c,w){var m=this.children[this.children.length-1];return m[P]?m.replaceRight(c,w):"string"==typeof m?this.children[this.children.length-1]=m.replace(c,w):this.children.push("".replace(c,w)),this},y.prototype.setSourceContent=function(c,w){this.sourceContents[S.toSetString(c)]=w},y.prototype.walkSourceContents=function(c){for(var w=0,m=this.children.length;w<m;w++)this.children[w][P]&&this.children[w].walkSourceContents(c);var h=Object.keys(this.sourceContents);for(w=0,m=h.length;w<m;w++)c(S.fromSetString(h[w]),this.sourceContents[h[w]])},y.prototype.toString=function(){var c="";return this.walk(function(w){c+=w}),c},y.prototype.toStringWithSourceMap=function(c){var w={code:"",line:1,column:0},m=new b(c),h=!1,_=null,g=null,v=null,D=null;return this.walk(function(T,E){w.code+=T,null!==E.source&&null!==E.line&&null!==E.column?((_!==E.source||g!==E.line||v!==E.column||D!==E.name)&&m.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:w.line,column:w.column},name:E.name}),_=E.source,g=E.line,v=E.column,D=E.name,h=!0):h&&(m.addMapping({generated:{line:w.line,column:w.column}}),_=null,h=!1);for(var N=0,M=T.length;N<M;N++)10===T.charCodeAt(N)?(w.line++,w.column=0,N+1===M?(_=null,h=!1):h&&m.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:w.line,column:w.column},name:E.name})):w.column++}),this.walkSourceContents(function(T,E){m.setSourceContent(T,E)}),{code:w.code,map:m}},A.SourceNode=y},5775:(Z,A)=>{A.getArg=function d(M,k,B){if(k in M)return M[k];if(3===arguments.length)return B;throw new Error('"'+k+'" is a required argument.')};var b=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,S=/^data:.+\,.+$/;function R(M){var k=M.match(b);return k?{scheme:k[1],auth:k[2],host:k[3],port:k[4],path:k[5]}:null}function O(M){var k="";return M.scheme&&(k+=M.scheme+":"),k+="//",M.auth&&(k+=M.auth+"@"),M.host&&(k+=M.host),M.port&&(k+=":"+M.port),M.path&&(k+=M.path),k}function P(M){var k=M,B=R(M);if(B){if(!B.path)return M;k=B.path}for(var Q,L=A.isAbsolute(k),z=k.split(/\/+/),oe=0,j=z.length-1;j>=0;j--)"."===(Q=z[j])?z.splice(j,1):".."===Q?oe++:oe>0&&(""===Q?(z.splice(j+1,oe),oe=0):(z.splice(j,2),oe--));return""===(k=z.join("/"))&&(k=L?"/":"."),B?(B.path=k,O(B)):k}function y(M,k){""===M&&(M="."),""===k&&(k=".");var B=R(k),L=R(M);if(L&&(M=L.path||"/"),B&&!B.scheme)return L&&(B.scheme=L.scheme),O(B);if(B||k.match(S))return k;if(L&&!L.host&&!L.path)return L.host=k,O(L);var z="/"===k.charAt(0)?k:P(M.replace(/\/+$/,"")+"/"+k);return L?(L.path=z,O(L)):z}A.urlParse=R,A.urlGenerate=O,A.normalize=P,A.join=y,A.isAbsolute=function(M){return"/"===M.charAt(0)||b.test(M)},A.relative=function u(M,k){""===M&&(M="."),M=M.replace(/\/$/,"");for(var B=0;0!==k.indexOf(M+"/");){var L=M.lastIndexOf("/");if(L<0||(M=M.slice(0,L)).match(/^([^\/]+:\/)?\/*$/))return k;++B}return Array(B+1).join("../")+k.substr(M.length+1)};var c=!("__proto__"in Object.create(null));function w(M){return M}function _(M){if(!M)return!1;var k=M.length;if(k<9||95!==M.charCodeAt(k-1)||95!==M.charCodeAt(k-2)||111!==M.charCodeAt(k-3)||116!==M.charCodeAt(k-4)||111!==M.charCodeAt(k-5)||114!==M.charCodeAt(k-6)||112!==M.charCodeAt(k-7)||95!==M.charCodeAt(k-8)||95!==M.charCodeAt(k-9))return!1;for(var B=k-10;B>=0;B--)if(36!==M.charCodeAt(B))return!1;return!0}function D(M,k){return M===k?0:null===M?1:null===k?-1:M>k?1:-1}A.toSetString=c?w:function m(M){return _(M)?"$"+M:M},A.fromSetString=c?w:function h(M){return _(M)?M.slice(1):M},A.compareByOriginalPositions=function g(M,k,B){var L=D(M.source,k.source);return 0!==L||0!=(L=M.originalLine-k.originalLine)||0!=(L=M.originalColumn-k.originalColumn)||B||0!=(L=M.generatedColumn-k.generatedColumn)||0!=(L=M.generatedLine-k.generatedLine)?L:D(M.name,k.name)},A.compareByGeneratedPositionsDeflated=function v(M,k,B){var L=M.generatedLine-k.generatedLine;return 0!==L||0!=(L=M.generatedColumn-k.generatedColumn)||B||0!==(L=D(M.source,k.source))||0!=(L=M.originalLine-k.originalLine)||0!=(L=M.originalColumn-k.originalColumn)?L:D(M.name,k.name)},A.compareByGeneratedPositionsInflated=function T(M,k){var B=M.generatedLine-k.generatedLine;return 0!==B||0!=(B=M.generatedColumn-k.generatedColumn)||0!==(B=D(M.source,k.source))||0!=(B=M.originalLine-k.originalLine)||0!=(B=M.originalColumn-k.originalColumn)?B:D(M.name,k.name)},A.parseSourceMapInput=function E(M){return JSON.parse(M.replace(/^\)]}'[^\n]*\n/,""))},A.computeSourceURL=function N(M,k,B){if(k=k||"",M&&("/"!==M[M.length-1]&&"/"!==k[0]&&(M+="/"),k=M+k),B){var L=R(B);if(!L)throw new Error("sourceMapURL could not be parsed");if(L.path){var z=L.path.lastIndexOf("/");z>=0&&(L.path=L.path.substring(0,z+1))}k=y(O(L),k)}return P(k)}},9877:(Z,A,d)=>{d(3429),d(2818),A.SourceNode=d(2071).SourceNode},8038:(Z,A,d)=>{!function b(S){"use strict";var R,O,P,y,u,c;function w(k){var L,z,B={};for(L in k)k.hasOwnProperty(L)&&(B[L]="object"==typeof(z=k[L])&&null!==z?w(z):z);return B}function h(k,B){this.parent=k,this.key=B}function _(k,B,L,z){this.node=k,this.path=B,this.wrap=L,this.ref=z}function g(){}function v(k){return null!=k&&"object"==typeof k&&"string"==typeof k.type}function D(k,B){return(k===R.ObjectExpression||k===R.ObjectPattern)&&"properties"===B}function T(k,B){return(new g).traverse(k,B)}function N(k,B){var L;return L=function m(k,B){var L,z,Q,oe;for(z=k.length,Q=0;z;)B(k[oe=Q+(L=z>>>1)])?z=L:(Q=oe+1,z-=L+1);return Q}(B,function(Q){return Q.range[0]>k.range[0]}),k.extendedRange=[k.range[0],k.range[1]],L!==B.length&&(k.extendedRange[1]=B[L].range[0]),(L-=1)>=0&&(k.extendedRange[0]=B[L].range[1]),k}return R={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},P={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},O={Break:y={},Skip:u={},Remove:c={}},h.prototype.replace=function(B){this.parent[this.key]=B},h.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},g.prototype.path=function(){var B,L,z,Q,oe;function ne(K,te){if(Array.isArray(te))for(z=0,Q=te.length;z<Q;++z)K.push(te[z]);else K.push(te)}if(!this.__current.path)return null;for(oe=[],B=2,L=this.__leavelist.length;B<L;++B)ne(oe,this.__leavelist[B].path);return ne(oe,this.__current.path),oe},g.prototype.type=function(){return this.current().type||this.__current.wrap},g.prototype.parents=function(){var B,L,z;for(z=[],B=1,L=this.__leavelist.length;B<L;++B)z.push(this.__leavelist[B].node);return z},g.prototype.current=function(){return this.__current.node},g.prototype.__execute=function(B,L){var z,Q;return Q=void 0,z=this.__current,this.__current=L,this.__state=null,B&&(Q=B.call(this,L.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=z,Q},g.prototype.notify=function(B){this.__state=B},g.prototype.skip=function(){this.notify(u)},g.prototype.break=function(){this.notify(y)},g.prototype.remove=function(){this.notify(c)},g.prototype.__initialize=function(k,B){this.visitor=B,this.root=k,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===B.fallback?this.__fallback=Object.keys:"function"==typeof B.fallback&&(this.__fallback=B.fallback),this.__keys=P,B.keys&&(this.__keys=Object.assign(Object.create(this.__keys),B.keys))},g.prototype.traverse=function(B,L){var z,Q,oe,j,ne,K,te,le,Fe,J,de,Ie;for(this.__initialize(B,L),Ie={},Q=this.__leavelist,(z=this.__worklist).push(new _(B,null,null,null)),Q.push(new _(null,null,null,null));z.length;)if((oe=z.pop())!==Ie){if(oe.node){if(K=this.__execute(L.enter,oe),this.__state===y||K===y)return;if(z.push(Ie),Q.push(oe),this.__state===u||K===u)continue;if(!(J=this.__keys[ne=(j=oe.node).type||oe.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+ne+".");J=this.__fallback(j)}for(le=J.length;(le-=1)>=0;)if(de=j[te=J[le]])if(Array.isArray(de)){for(Fe=de.length;(Fe-=1)>=0;)if(de[Fe]){if(D(ne,J[le]))oe=new _(de[Fe],[te,Fe],"Property",null);else{if(!v(de[Fe]))continue;oe=new _(de[Fe],[te,Fe],null,null)}z.push(oe)}}else v(de)&&z.push(new _(de,te,null,null))}}else if(oe=Q.pop(),K=this.__execute(L.leave,oe),this.__state===y||K===y)return},g.prototype.replace=function(B,L){var z,Q,oe,j,ne,K,te,le,Fe,J,de,Ie,ae;function Ee(I){var $,q,G,re;if(I.ref.remove())for(q=I.ref.key,re=I.ref.parent,$=z.length;$--;)if((G=z[$]).ref&&G.ref.parent===re){if(G.ref.key<q)break;--G.ref.key}}for(this.__initialize(B,L),de={},z=this.__worklist,Q=this.__leavelist,K=new _(B,null,null,new h(Ie={root:B},"root")),z.push(K),Q.push(K);z.length;)if((K=z.pop())!==de){if(void 0!==(ne=this.__execute(L.enter,K))&&ne!==y&&ne!==u&&ne!==c&&(K.ref.replace(ne),K.node=ne),(this.__state===c||ne===c)&&(Ee(K),K.node=null),this.__state===y||ne===y)return Ie.root;if((oe=K.node)&&(z.push(de),Q.push(K),this.__state!==u&&ne!==u)){if(!(Fe=this.__keys[j=oe.type||K.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+j+".");Fe=this.__fallback(oe)}for(te=Fe.length;(te-=1)>=0;)if(J=oe[ae=Fe[te]])if(Array.isArray(J)){for(le=J.length;(le-=1)>=0;)if(J[le]){if(D(j,Fe[te]))K=new _(J[le],[ae,le],"Property",new h(J,le));else{if(!v(J[le]))continue;K=new _(J[le],[ae,le],null,new h(J,le))}z.push(K)}}else v(J)&&z.push(new _(J,ae,null,new h(oe,ae)))}}else if(K=Q.pop(),void 0!==(ne=this.__execute(L.leave,K))&&ne!==y&&ne!==u&&ne!==c&&K.ref.replace(ne),(this.__state===c||ne===c)&&Ee(K),this.__state===y||ne===y)return Ie.root;return Ie.root},S.version=d(9600).rE,S.Syntax=R,S.traverse=T,S.replace=function E(k,B){return(new g).replace(k,B)},S.attachComments=function M(k,B,L){var Q,oe,j,ne,z=[];if(!k.range)throw new Error("attachComments needs range information");if(!L.length){if(B.length){for(j=0,oe=B.length;j<oe;j+=1)(Q=w(B[j])).extendedRange=[0,k.range[0]],z.push(Q);k.leadingComments=z}return k}for(j=0,oe=B.length;j<oe;j+=1)z.push(N(w(B[j]),L));return ne=0,T(k,{enter:function(K){for(var te;ne<z.length&&!((te=z[ne]).extendedRange[1]>K.range[0]);)te.extendedRange[1]===K.range[0]?(K.leadingComments||(K.leadingComments=[]),K.leadingComments.push(te),z.splice(ne,1)):ne+=1;return ne===z.length?O.Break:z[ne].extendedRange[0]>K.range[1]?O.Skip:void 0}}),ne=0,T(k,{leave:function(K){for(var te;ne<z.length&&!(K.range[1]<(te=z[ne]).extendedRange[0]);)K.range[1]===te.extendedRange[0]?(K.trailingComments||(K.trailingComments=[]),K.trailingComments.push(te),z.splice(ne,1)):ne+=1;return ne===z.length?O.Break:z[ne].extendedRange[0]>K.range[1]?O.Skip:void 0}}),k},S.VisitorKeys=P,S.VisitorOption=O,S.Controller=g,S.cloneEnvironment=function(){return b({})},S}(A)},569:Z=>{!function(){"use strict";function b(P){if(null==P)return!1;switch(P.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function R(P){switch(P.type){case"IfStatement":return null!=P.alternate?P.alternate:P.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return P.body}return null}Z.exports={isExpression:function A(P){if(null==P)return!1;switch(P.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:b,isIterationStatement:function d(P){if(null==P)return!1;switch(P.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function S(P){return b(P)||null!=P&&"FunctionDeclaration"===P.type},isProblematicIfStatement:function O(P){var y;if("IfStatement"!==P.type||null==P.alternate)return!1;y=P.consequent;do{if("IfStatement"===y.type&&null==y.alternate)return!0;y=R(y)}while(y);return!1},trailingStatement:R}}()},5444:Z=>{!function(){"use strict";var A,d,b,S,R,O;function m(D){return D<=65535?String.fromCharCode(D):String.fromCharCode(Math.floor((D-65536)/1024)+55296)+String.fromCharCode((D-65536)%1024+56320)}for(d={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},A={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},b=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],S=new Array(128),O=0;O<128;++O)S[O]=O>=97&&O<=122||O>=65&&O<=90||36===O||95===O;for(R=new Array(128),O=0;O<128;++O)R[O]=O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||36===O||95===O;Z.exports={isDecimalDigit:function P(D){return 48<=D&&D<=57},isHexDigit:function y(D){return 48<=D&&D<=57||97<=D&&D<=102||65<=D&&D<=70},isOctalDigit:function u(D){return D>=48&&D<=55},isWhiteSpace:function c(D){return 32===D||9===D||11===D||12===D||160===D||D>=5760&&b.indexOf(D)>=0},isLineTerminator:function w(D){return 10===D||13===D||8232===D||8233===D},isIdentifierStartES5:function h(D){return D<128?S[D]:d.NonAsciiIdentifierStart.test(m(D))},isIdentifierPartES5:function _(D){return D<128?R[D]:d.NonAsciiIdentifierPart.test(m(D))},isIdentifierStartES6:function g(D){return D<128?S[D]:A.NonAsciiIdentifierStart.test(m(D))},isIdentifierPartES6:function v(D){return D<128?R[D]:A.NonAsciiIdentifierPart.test(m(D))}}}()},9050:(Z,A,d)=>{!function(){"use strict";var b=d(5444);function R(g,v){return!(!v&&"yield"===g)&&O(g,v)}function O(g,v){if(v&&function S(g){switch(g){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(g))return!0;switch(g.length){case 2:return"if"===g||"in"===g||"do"===g;case 3:return"var"===g||"for"===g||"new"===g||"try"===g;case 4:return"this"===g||"else"===g||"case"===g||"void"===g||"with"===g||"enum"===g;case 5:return"while"===g||"break"===g||"catch"===g||"throw"===g||"const"===g||"yield"===g||"class"===g||"super"===g;case 6:return"return"===g||"typeof"===g||"delete"===g||"switch"===g||"export"===g||"import"===g;case 7:return"default"===g||"finally"===g||"extends"===g;case 8:return"function"===g||"continue"===g||"debugger"===g;case 10:return"instanceof"===g;default:return!1}}function P(g,v){return"null"===g||"true"===g||"false"===g||R(g,v)}function y(g,v){return"null"===g||"true"===g||"false"===g||O(g,v)}function c(g){var v,D,T;if(0===g.length||(T=g.charCodeAt(0),!b.isIdentifierStartES5(T)))return!1;for(v=1,D=g.length;v<D;++v)if(T=g.charCodeAt(v),!b.isIdentifierPartES5(T))return!1;return!0}function w(g,v){return 1024*(g-55296)+(v-56320)+65536}function m(g){var v,D,T,E,N;if(0===g.length)return!1;for(N=b.isIdentifierStartES6,v=0,D=g.length;v<D;++v){if(55296<=(T=g.charCodeAt(v))&&T<=56319){if(++v>=D||!(56320<=(E=g.charCodeAt(v))&&E<=57343))return!1;T=w(T,E)}if(!N(T))return!1;N=b.isIdentifierPartES6}return!0}Z.exports={isKeywordES5:R,isKeywordES6:O,isReservedWordES5:P,isReservedWordES6:y,isRestrictedWord:function u(g){return"eval"===g||"arguments"===g},isIdentifierNameES5:c,isIdentifierNameES6:m,isIdentifierES5:function h(g,v){return c(g)&&!P(g,v)},isIdentifierES6:function _(g,v){return m(g)&&!y(g,v)}}}()},3516:(Z,A,d)=>{!function(){"use strict";A.ast=d(569),A.code=d(5444),A.keyword=d(9050)}()},4356:Z=>{"use strict";var b,A="object"==typeof Reflect?Reflect:null,d=A&&"function"==typeof A.apply?A.apply:function(k,B,L){return Function.prototype.apply.call(k,B,L)};b=A&&"function"==typeof A.ownKeys?A.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var R=Number.isNaN||function(k){return k!=k};function O(){O.init.call(this)}Z.exports=O,Z.exports.once=function T(M,k){return new Promise(function(B,L){function z(oe){M.removeListener(k,Q),L(oe)}function Q(){"function"==typeof M.removeListener&&M.removeListener("error",z),B([].slice.call(arguments))}N(M,k,Q,{once:!0}),"error"!==k&&function E(M,k,B){"function"==typeof M.on&&N(M,"error",k,B)}(M,z,{once:!0})})},O.EventEmitter=O,O.prototype._events=void 0,O.prototype._eventsCount=0,O.prototype._maxListeners=void 0;var P=10;function y(M){if("function"!=typeof M)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}function u(M){return void 0===M._maxListeners?O.defaultMaxListeners:M._maxListeners}function c(M,k,B,L){var z,Q,oe;if(y(B),void 0===(Q=M._events)?(Q=M._events=Object.create(null),M._eventsCount=0):(void 0!==Q.newListener&&(M.emit("newListener",k,B.listener?B.listener:B),Q=M._events),oe=Q[k]),void 0===oe)oe=Q[k]=B,++M._eventsCount;else if("function"==typeof oe?oe=Q[k]=L?[B,oe]:[oe,B]:L?oe.unshift(B):oe.push(B),(z=u(M))>0&&oe.length>z&&!oe.warned){oe.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+oe.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=M,j.type=k,j.count=oe.length,function S(M){console&&console.warn&&console.warn(M)}(j)}return M}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(M,k,B){var L={fired:!1,wrapFn:void 0,target:M,type:k,listener:B},z=w.bind(L);return z.listener=B,L.wrapFn=z,z}function h(M,k,B){var L=M._events;if(void 0===L)return[];var z=L[k];return void 0===z?[]:"function"==typeof z?B?[z.listener||z]:[z]:B?function D(M){for(var k=new Array(M.length),B=0;B<k.length;++B)k[B]=M[B].listener||M[B];return k}(z):g(z,z.length)}function _(M){var k=this._events;if(void 0!==k){var B=k[M];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function g(M,k){for(var B=new Array(k),L=0;L<k;++L)B[L]=M[L];return B}function N(M,k,B,L){if("function"==typeof M.on)L.once?M.once(k,B):M.on(k,B);else{if("function"!=typeof M.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M);M.addEventListener(k,function z(Q){L.once&&M.removeEventListener(k,z),B(Q)})}}Object.defineProperty(O,"defaultMaxListeners",{enumerable:!0,get:function(){return P},set:function(M){if("number"!=typeof M||M<0||R(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");P=M}}),O.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},O.prototype.setMaxListeners=function(k){if("number"!=typeof k||k<0||R(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},O.prototype.getMaxListeners=function(){return u(this)},O.prototype.emit=function(k){for(var B=[],L=1;L<arguments.length;L++)B.push(arguments[L]);var z="error"===k,Q=this._events;if(void 0!==Q)z=z&&void 0===Q.error;else if(!z)return!1;if(z){var oe;if(B.length>0&&(oe=B[0]),oe instanceof Error)throw oe;var j=new Error("Unhandled error."+(oe?" ("+oe.message+")":""));throw j.context=oe,j}var ne=Q[k];if(void 0===ne)return!1;if("function"==typeof ne)d(ne,this,B);else{var K=ne.length,te=g(ne,K);for(L=0;L<K;++L)d(te[L],this,B)}return!0},O.prototype.on=O.prototype.addListener=function(k,B){return c(this,k,B,!1)},O.prototype.prependListener=function(k,B){return c(this,k,B,!0)},O.prototype.once=function(k,B){return y(B),this.on(k,m(this,k,B)),this},O.prototype.prependOnceListener=function(k,B){return y(B),this.prependListener(k,m(this,k,B)),this},O.prototype.off=O.prototype.removeListener=function(k,B){var L,z,Q,oe,j;if(y(B),void 0===(z=this._events))return this;if(void 0===(L=z[k]))return this;if(L===B||L.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete z[k],z.removeListener&&this.emit("removeListener",k,L.listener||B));else if("function"!=typeof L){for(Q=-1,oe=L.length-1;oe>=0;oe--)if(L[oe]===B||L[oe].listener===B){j=L[oe].listener,Q=oe;break}if(Q<0)return this;0===Q?L.shift():function v(M,k){for(;k+1<M.length;k++)M[k]=M[k+1];M.pop()}(L,Q),1===L.length&&(z[k]=L[0]),void 0!==z.removeListener&&this.emit("removeListener",k,j||B)}return this},O.prototype.removeAllListeners=function(k){var B,L,z;if(void 0===(L=this._events))return this;if(void 0===L.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==L[k]&&(0==--this._eventsCount?this._events=Object.create(null):delete L[k]),this;if(0===arguments.length){var oe,Q=Object.keys(L);for(z=0;z<Q.length;++z)"removeListener"!==(oe=Q[z])&&this.removeAllListeners(oe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=L[k]))this.removeListener(k,B);else if(void 0!==B)for(z=B.length-1;z>=0;z--)this.removeListener(k,B[z]);return this},O.prototype.listeners=function(k){return h(this,k,!0)},O.prototype.rawListeners=function(k){return h(this,k,!1)},O.listenerCount=function(M,k){return"function"==typeof M.listenerCount?M.listenerCount(k):_.call(M,k)},O.prototype.listenerCount=_,O.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]}},362:Z=>{"use strict";Z.exports=function A(d,b){if(d===b)return!0;if(d&&b&&"object"==typeof d&&"object"==typeof b){if(d.constructor!==b.constructor)return!1;var S,R,O;if(Array.isArray(d)){if((S=d.length)!=b.length)return!1;for(R=S;0!=R--;)if(!A(d[R],b[R]))return!1;return!0}if(d.constructor===RegExp)return d.source===b.source&&d.flags===b.flags;if(d.valueOf!==Object.prototype.valueOf)return d.valueOf()===b.valueOf();if(d.toString!==Object.prototype.toString)return d.toString()===b.toString();if((S=(O=Object.keys(d)).length)!==Object.keys(b).length)return!1;for(R=S;0!=R--;)if(!Object.prototype.hasOwnProperty.call(b,O[R]))return!1;for(R=S;0!=R--;){var P=O[R];if(!A(d[P],b[P]))return!1}return!0}return d!=d&&b!=b}},9132:Z=>{"use strict";var d=Object.prototype.toString,b=Math.max,R=function(u,c){for(var w=[],m=0;m<u.length;m+=1)w[m]=u[m];for(var h=0;h<c.length;h+=1)w[h+u.length]=c[h];return w};Z.exports=function(u){var c=this;if("function"!=typeof c||"[object Function]"!==d.apply(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var m,w=function(u){for(var w=[],m=1,h=0;m<u.length;m+=1,h+=1)w[h]=u[m];return w}(arguments),_=b(0,c.length-w.length),g=[],v=0;v<_;v++)g[v]="$"+v;if(m=Function("binder","return function ("+function(y){for(var c="",w=0;w<y.length;w+=1)c+=y[w],w+1<y.length&&(c+=",");return c}(g)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof m){var T=c.apply(this,R(w,arguments));return Object(T)===T?T:this}return c.apply(u,R(w,arguments))}),c.prototype){var D=function(){};D.prototype=c.prototype,m.prototype=new D,D.prototype=null}return m}},5992:(Z,A,d)=>{"use strict";var b=d(9132);Z.exports=Function.prototype.bind||b},4003:Z=>{"use strict";var A=function(){return"string"==typeof function(){}.name},d=Object.getOwnPropertyDescriptor;if(d)try{d([],"length")}catch{d=null}A.functionsHaveConfigurableNames=function(){if(!A()||!d)return!1;var R=d(function(){},"name");return!!R&&!!R.configurable};var b=Function.prototype.bind;A.boundFunctionsHaveNames=function(){return A()&&"function"==typeof b&&""!==function(){}.bind().name},Z.exports=A},7877:(Z,A,d)=>{"use strict";var b,S=d(7640),R=d(1756),O=d(7933),P=d(6613),y=d(8413),u=d(6758),c=d(5286),w=Function,m=function(Ie){try{return w('"use strict"; return ('+Ie+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var _=function(){throw new u},g=h?function(){try{return _}catch{try{return h(arguments,"callee").get}catch{return _}}}():_,v=d(9900)(),D=d(2119)(),T=Object.getPrototypeOf||(D?function(Ie){return Ie.__proto__}:null),E={},N=typeof Uint8Array>"u"||!T?b:T(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?b:ArrayBuffer,"%ArrayIteratorPrototype%":v&&T?T([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":typeof Atomics>"u"?b:Atomics,"%BigInt%":typeof BigInt>"u"?b:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?b:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?b:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":S,"%eval%":eval,"%EvalError%":R,"%Float32Array%":typeof Float32Array>"u"?b:Float32Array,"%Float64Array%":typeof Float64Array>"u"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?b:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":E,"%Int8Array%":typeof Int8Array>"u"?b:Int8Array,"%Int16Array%":typeof Int16Array>"u"?b:Int16Array,"%Int32Array%":typeof Int32Array>"u"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v&&T?T(T([][Symbol.iterator]())):b,"%JSON%":"object"==typeof JSON?JSON:b,"%Map%":typeof Map>"u"?b:Map,"%MapIteratorPrototype%":typeof Map>"u"||!v||!T?b:T((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?b:Promise,"%Proxy%":typeof Proxy>"u"?b:Proxy,"%RangeError%":O,"%ReferenceError%":P,"%Reflect%":typeof Reflect>"u"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?b:Set,"%SetIteratorPrototype%":typeof Set>"u"||!v||!T?b:T((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v&&T?T(""[Symbol.iterator]()):b,"%Symbol%":v?Symbol:b,"%SyntaxError%":y,"%ThrowTypeError%":g,"%TypedArray%":N,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?b:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?b:WeakMap,"%WeakRef%":typeof WeakRef>"u"?b:WeakRef,"%WeakSet%":typeof WeakSet>"u"?b:WeakSet};if(T)try{null.error}catch(Ie){var k=T(T(Ie));M["%Error.prototype%"]=k}var B=function Ie(ae){var Ee;if("%AsyncFunction%"===ae)Ee=m("async function () {}");else if("%GeneratorFunction%"===ae)Ee=m("function* () {}");else if("%AsyncGeneratorFunction%"===ae)Ee=m("async function* () {}");else if("%AsyncGenerator%"===ae){var I=Ie("%AsyncGeneratorFunction%");I&&(Ee=I.prototype)}else if("%AsyncIteratorPrototype%"===ae){var $=Ie("%AsyncGenerator%");$&&T&&(Ee=T($.prototype))}return M[ae]=Ee,Ee},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=d(5992),Q=d(8368),oe=z.call(Function.call,Array.prototype.concat),j=z.call(Function.apply,Array.prototype.splice),ne=z.call(Function.call,String.prototype.replace),K=z.call(Function.call,String.prototype.slice),te=z.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Fe=/\\(\\)?/g,de=function(ae,Ee){var $,I=ae;if(Q(L,I)&&(I="%"+($=L[I])[0]+"%"),Q(M,I)){var q=M[I];if(q===E&&(q=B(I)),typeof q>"u"&&!Ee)throw new u("intrinsic "+ae+" exists, but is not available. Please file an issue!");return{alias:$,name:I,value:q}}throw new y("intrinsic "+ae+" does not exist!")};Z.exports=function(ae,Ee){if("string"!=typeof ae||0===ae.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ee)throw new u('"allowMissing" argument must be a boolean');if(null===te(/^%?[^%]*%?$/,ae))throw new y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=function(ae){var Ee=K(ae,0,1),I=K(ae,-1);if("%"===Ee&&"%"!==I)throw new y("invalid intrinsic syntax, expected closing `%`");if("%"===I&&"%"!==Ee)throw new y("invalid intrinsic syntax, expected opening `%`");var $=[];return ne(ae,le,function(q,G,re,ye){$[$.length]=re?ne(ye,Fe,"$1"):G||q}),$}(ae),$=I.length>0?I[0]:"",q=de("%"+$+"%",Ee),G=q.name,re=q.value,ye=!1,me=q.alias;me&&($=me[0],j(I,oe([0,1],me)));for(var Me=1,Se=!0;Me<I.length;Me+=1){var Ye=I[Me],gt=K(Ye,0,1),Ke=K(Ye,-1);if(('"'===gt||"'"===gt||"`"===gt||'"'===Ke||"'"===Ke||"`"===Ke)&&gt!==Ke)throw new y("property names with quotes must have matching quotes");if(("constructor"===Ye||!Se)&&(ye=!0),Q(M,G="%"+($+="."+Ye)+"%"))re=M[G];else if(null!=re){if(!(Ye in re)){if(!Ee)throw new u("base intrinsic for "+ae+" exists, but the property is not available.");return}if(h&&Me+1>=I.length){var Ge=h(re,Ye);re=(Se=!!Ge)&&"get"in Ge&&!("originalValue"in Ge.get)?Ge.get:re[Ye]}else Se=Q(re,Ye),re=re[Ye];Se&&!ye&&(M[G]=re)}}return re}},3798:(Z,A,d)=>{"use strict";var S=d(7877)("%Object.getOwnPropertyDescriptor%",!0);if(S)try{S([],"length")}catch{S=null}Z.exports=S},5861:(Z,A,d)=>{"use strict";var b=d(4570),S=function(){return!!b};S.hasArrayLengthDefineBug=function(){if(!b)return null;try{return 1!==b([],"length",{value:1}).length}catch{return!0}},Z.exports=S},2119:Z=>{"use strict";var A={__proto__:null,foo:{}},d=Object;Z.exports=function(){return{__proto__:A}.foo===A.foo&&!(A instanceof d)}},9900:(Z,A,d)=>{"use strict";var b=typeof Symbol<"u"&&Symbol,S=d(5310);Z.exports=function(){return"function"==typeof b&&"function"==typeof Symbol&&"symbol"==typeof b("foo")&&"symbol"==typeof Symbol("bar")&&S()}},5310:Z=>{"use strict";Z.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var d={},b=Symbol("test"),S=Object(b);if("string"==typeof b||"[object Symbol]"!==Object.prototype.toString.call(b)||"[object Symbol]"!==Object.prototype.toString.call(S))return!1;for(b in d[b]=42,d)return!1;if("function"==typeof Object.keys&&0!==Object.keys(d).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(d).length)return!1;var O=Object.getOwnPropertySymbols(d);if(1!==O.length||O[0]!==b||!Object.prototype.propertyIsEnumerable.call(d,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var P=Object.getOwnPropertyDescriptor(d,b);if(42!==P.value||!0!==P.enumerable)return!1}return!0}},8779:(Z,A,d)=>{"use strict";var b=d(5310);Z.exports=function(){return b()&&!!Symbol.toStringTag}},8368:(Z,A,d)=>{"use strict";var b=Function.prototype.call,S=Object.prototype.hasOwnProperty,R=d(5992);Z.exports=R.call(b,S)},2020:(Z,A)=>{A.read=function(d,b,S,R,O){var P,y,u=8*O-R-1,c=(1<<u)-1,w=c>>1,m=-7,h=S?O-1:0,_=S?-1:1,g=d[b+h];for(h+=_,P=g&(1<<-m)-1,g>>=-m,m+=u;m>0;P=256*P+d[b+h],h+=_,m-=8);for(y=P&(1<<-m)-1,P>>=-m,m+=R;m>0;y=256*y+d[b+h],h+=_,m-=8);if(0===P)P=1-w;else{if(P===c)return y?NaN:1/0*(g?-1:1);y+=Math.pow(2,R),P-=w}return(g?-1:1)*y*Math.pow(2,P-R)},A.write=function(d,b,S,R,O,P){var y,u,c,w=8*P-O-1,m=(1<<w)-1,h=m>>1,_=23===O?Math.pow(2,-24)-Math.pow(2,-77):0,g=R?0:P-1,v=R?1:-1,D=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(u=isNaN(b)?1:0,y=m):(y=Math.floor(Math.log(b)/Math.LN2),b*(c=Math.pow(2,-y))<1&&(y--,c*=2),(b+=y+h>=1?_/c:_*Math.pow(2,1-h))*c>=2&&(y++,c/=2),y+h>=m?(u=0,y=m):y+h>=1?(u=(b*c-1)*Math.pow(2,O),y+=h):(u=b*Math.pow(2,h-1)*Math.pow(2,O),y=0));O>=8;d[S+g]=255&u,g+=v,u/=256,O-=8);for(y=y<<O|u,w+=O;w>0;d[S+g]=255&y,g+=v,y/=256,w-=8);d[S+g-v]|=128*D}},3720:(Z,A,d)=>{"use strict";var b=d(8368),S=d(3541)(),R=d(6758),O={assert:function(P,y){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new R("`O` is not an object");if("string"!=typeof y)throw new R("`slot` must be a string");if(S.assert(P),!O.has(P,y))throw new R("`"+y+"` is not present on `O`")},get:function(P,y){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new R("`O` is not an object");if("string"!=typeof y)throw new R("`slot` must be a string");var u=S.get(P);return u&&u["$"+y]},has:function(P,y){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new R("`O` is not an object");if("string"!=typeof y)throw new R("`slot` must be a string");var u=S.get(P);return!!u&&b(u,"$"+y)},set:function(P,y,u){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new R("`O` is not an object");if("string"!=typeof y)throw new R("`slot` must be a string");var c=S.get(P);c||S.set(P,c={}),c["$"+y]=u}};Object.freeze&&Object.freeze(O),Z.exports=O},8239:Z=>{"use strict";var b,S,A=Function.prototype.toString,d="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof d&&"function"==typeof Object.defineProperty)try{b=Object.defineProperty({},"length",{get:function(){throw S}}),S={},d(function(){throw 42},null,b)}catch(E){E!==S&&(d=null)}else d=null;var R=/^\s*class\b/,O=function(N){try{var M=A.call(N);return R.test(M)}catch{return!1}},P=function(N){try{return!O(N)&&(A.call(N),!0)}catch{return!1}},y=Object.prototype.toString,g="function"==typeof Symbol&&!!Symbol.toStringTag,v=!(0 in[,]),D=function(){return!1};if("object"==typeof document){var T=document.all;y.call(T)===y.call(document.all)&&(D=function(N){if((v||!N)&&(typeof N>"u"||"object"==typeof N))try{var M=y.call(N);return("[object HTMLAllCollection]"===M||"[object HTML document.all class]"===M||"[object HTMLCollection]"===M||"[object Object]"===M)&&null==N("")}catch{}return!1})}Z.exports=d?function(N){if(D(N))return!0;if(!N||"function"!=typeof N&&"object"!=typeof N)return!1;try{d(N,null,b)}catch(M){if(M!==S)return!1}return!O(N)&&P(N)}:function(N){if(D(N))return!0;if(!N||"function"!=typeof N&&"object"!=typeof N)return!1;if(g)return P(N);if(O(N))return!1;var M=y.call(N);return!("[object Function]"!==M&&"[object GeneratorFunction]"!==M&&!/^\[object HTML/.test(M))&&P(N)}},4665:(Z,A,d)=>{"use strict";var b=Date.prototype.getDay,R=Object.prototype.toString,P=d(8779)();Z.exports=function(u){return"object"==typeof u&&null!==u&&(P?function(u){try{return b.call(u),!0}catch{return!1}}(u):"[object Date]"===R.call(u))}},3290:(Z,A,d)=>{"use strict";var R,O,P,y,b=d(3020),S=d(8779)();if(S){R=b("Object.prototype.hasOwnProperty"),O=b("RegExp.prototype.exec"),P={};var u=function(){throw P};y={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(y[Symbol.toPrimitive]=u)}var c=b("Object.prototype.toString"),w=Object.getOwnPropertyDescriptor;Z.exports=S?function(_){if(!_||"object"!=typeof _)return!1;var g=w(_,"lastIndex");if(!g||!R(g,"value"))return!1;try{O(_,y)}catch(D){return D===P}}:function(_){return!(!_||"object"!=typeof _&&"function"!=typeof _)&&"[object RegExp]"===c(_)}},6827:(Z,A,d)=>{"use strict";var b=Object.prototype.toString;if(d(9900)()){var R=Symbol.prototype.toString,O=/^Symbol\(.*\)$/;Z.exports=function(u){if("symbol"==typeof u)return!0;if("[object Symbol]"!==b.call(u))return!1;try{return function(u){return"symbol"==typeof u.valueOf()&&O.test(R.call(u))}(u)}catch{return!1}}}else Z.exports=function(u){return!1}},2398:function(Z){typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"&&globalThis,Z.exports=function(){"use strict";var q,A="3.7.7",d=A,b="function"==typeof Buffer,S="function"==typeof TextDecoder?new TextDecoder:void 0,R="function"==typeof TextEncoder?new TextEncoder:void 0,P=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),y=(q={},P.forEach(function(G,re){return q[G]=re}),q),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,c=String.fromCharCode.bind(String),w="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function($){return new Uint8Array(Array.prototype.slice.call($,0))},m=function($){return $.replace(/=/g,"").replace(/[+\/]/g,function(q){return"+"==q?"-":"_"})},h=function($){return $.replace(/[^A-Za-z0-9\+\/]/g,"")},_=function($){for(var q,G,re,ye,me="",Me=$.length%3,Se=0;Se<$.length;){if((G=$.charCodeAt(Se++))>255||(re=$.charCodeAt(Se++))>255||(ye=$.charCodeAt(Se++))>255)throw new TypeError("invalid character found");me+=P[(q=G<<16|re<<8|ye)>>18&63]+P[q>>12&63]+P[q>>6&63]+P[63&q]}return Me?me.slice(0,Me-3)+"===".substring(Me):me},g="function"==typeof btoa?function($){return btoa($)}:b?function($){return Buffer.from($,"binary").toString("base64")}:_,v=b?function($){return Buffer.from($).toString("base64")}:function($){for(var G=[],re=0,ye=$.length;re<ye;re+=4096)G.push(c.apply(null,$.subarray(re,re+4096)));return g(G.join(""))},D=function($,q){return void 0===q&&(q=!1),q?m(v($)):v($)},T=function($){if($.length<2)return(q=$.charCodeAt(0))<128?$:q<2048?c(192|q>>>6)+c(128|63&q):c(224|q>>>12&15)+c(128|q>>>6&63)+c(128|63&q);var q=65536+1024*($.charCodeAt(0)-55296)+($.charCodeAt(1)-56320);return c(240|q>>>18&7)+c(128|q>>>12&63)+c(128|q>>>6&63)+c(128|63&q)},E=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,N=function($){return $.replace(E,T)},M=b?function($){return Buffer.from($,"utf8").toString("base64")}:R?function($){return v(R.encode($))}:function($){return g(N($))},k=function($,q){return void 0===q&&(q=!1),q?m(M($)):M($)},B=function($){return k($,!0)},L=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,z=function($){switch($.length){case 4:var G=((7&$.charCodeAt(0))<<18|(63&$.charCodeAt(1))<<12|(63&$.charCodeAt(2))<<6|63&$.charCodeAt(3))-65536;return c(55296+(G>>>10))+c(56320+(1023&G));case 3:return c((15&$.charCodeAt(0))<<12|(63&$.charCodeAt(1))<<6|63&$.charCodeAt(2));default:return c((31&$.charCodeAt(0))<<6|63&$.charCodeAt(1))}},Q=function($){return $.replace(L,z)},oe=function($){if($=$.replace(/\s+/g,""),!u.test($))throw new TypeError("malformed base64.");$+="==".slice(2-(3&$.length));for(var q,re,ye,G="",me=0;me<$.length;)q=y[$.charAt(me++)]<<18|y[$.charAt(me++)]<<12|(re=y[$.charAt(me++)])<<6|(ye=y[$.charAt(me++)]),G+=64===re?c(q>>16&255):64===ye?c(q>>16&255,q>>8&255):c(q>>16&255,q>>8&255,255&q);return G},j="function"==typeof atob?function($){return atob(h($))}:b?function($){return Buffer.from($,"base64").toString("binary")}:oe,ne=b?function($){return w(Buffer.from($,"base64"))}:function($){return w(j($).split("").map(function(q){return q.charCodeAt(0)}))},K=function($){return ne(le($))},te=b?function($){return Buffer.from($,"base64").toString("utf8")}:S?function($){return S.decode(ne($))}:function($){return Q(j($))},le=function($){return h($.replace(/[-_]/g,function(q){return"-"==q?"+":"/"}))},Fe=function($){return te(le($))},de=function($){return{value:$,enumerable:!1,writable:!0,configurable:!0}},Ie=function(){var $=function(q,G){return Object.defineProperty(String.prototype,q,de(G))};$("fromBase64",function(){return Fe(this)}),$("toBase64",function(q){return k(this,q)}),$("toBase64URI",function(){return k(this,!0)}),$("toBase64URL",function(){return k(this,!0)}),$("toUint8Array",function(){return K(this)})},ae=function(){var $=function(q,G){return Object.defineProperty(Uint8Array.prototype,q,de(G))};$("toBase64",function(q){return D(this,q)}),$("toBase64URI",function(){return D(this,!0)}),$("toBase64URL",function(){return D(this,!0)})},I={version:A,VERSION:d,atob:j,atobPolyfill:oe,btoa:g,btoaPolyfill:_,fromBase64:Fe,toBase64:k,encode:k,encodeURI:B,encodeURL:B,utob:N,btou:Q,decode:Fe,isValid:function($){if("string"!=typeof $)return!1;var q=$.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(q)||!/[^\s0-9a-zA-Z\-_]/.test(q)},fromUint8Array:D,toUint8Array:K,extendString:Ie,extendUint8Array:ae,extendBuiltins:function(){Ie(),ae()},Base64:{}};return Object.keys(I).forEach(function($){return I.Base64[$]=I[$]}),I}()},4331:Z=>{"use strict";var A=Z.exports=function(S,R,O){"function"==typeof R&&(O=R,R={}),d(R,"function"==typeof(O=R.cb||O)?O:O.pre||function(){},O.post||function(){},S,"",S)};function d(S,R,O,P,y,u,c,w,m,h){if(P&&"object"==typeof P&&!Array.isArray(P)){for(var _ in R(P,y,u,c,w,m,h),P){var g=P[_];if(Array.isArray(g)){if(_ in A.arrayKeywords)for(var v=0;v<g.length;v++)d(S,R,O,g[v],y+"/"+_+"/"+v,u,y,_,P,v)}else if(_ in A.propsKeywords){if(g&&"object"==typeof g)for(var D in g)d(S,R,O,g[D],y+"/"+_+"/"+b(D),u,y,_,P,D)}else(_ in A.keywords||S.allKeys&&!(_ in A.skipKeywords))&&d(S,R,O,g,y+"/"+_,u,y,_,P)}O(P,y,u,c,w,m,h)}}function b(S){return S.replace(/~/g,"~0").replace(/\//g,"~1")}A.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},A.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},A.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},A.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},8437:(Z,A,d)=>{"use strict";var b=d(8584),S=b.ValidatorResult,R=b.SchemaError,O={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},P=O.validators={};function y(h,_,g,v,D){var T=_.throwError,E=_.throwAll;_.throwError=!1,_.throwAll=!1;var N=this.validateSchema(h,D,_,g);return _.throwError=T,_.throwAll=E,!N.valid&&v instanceof Function&&v(N),N.valid}function u(h,_){if(Object.hasOwnProperty.call(h,_))return h[_];if(_ in h)for(;h=Object.getPrototypeOf(h);)if(Object.propertyIsEnumerable.call(h,_))return h[_]}function c(h,_,g,v,D,T){if(this.types.object(h)&&(!_.properties||void 0===_.properties[D]))if(!1===_.additionalProperties)T.addError({name:"additionalProperties",argument:D,message:"is not allowed to have the additional property "+JSON.stringify(D)});else{var E=_.additionalProperties||{};"function"==typeof g.preValidateProperty&&g.preValidateProperty(h,D,E,g,v);var N=this.validateSchema(h[D],E,g,v.makeChild(E,D));N.instance!==T.instance[D]&&(T.instance[D]=N.instance),T.importErrors(N)}}P.type=function(_,g,v,D){if(void 0===_)return null;var T=new S(_,g,v,D),E=Array.isArray(g.type)?g.type:[g.type];if(!E.some(this.testType.bind(this,_,g,v,D))){var N=E.map(function(M){if(M){var k=M.$id||M.id;return k?"<"+k+">":M+""}});T.addError({name:"type",argument:N,message:"is not of a type(s) "+N})}return T},P.anyOf=function(_,g,v,D){if(void 0===_)return null;var T=new S(_,g,v,D),E=new S(_,g,v,D);if(!Array.isArray(g.anyOf))throw new R("anyOf must be an array");if(!g.anyOf.some(y.bind(this,_,v,D,function(M){E.importErrors(M)}))){var N=g.anyOf.map(function(M,k){var B=M.$id||M.id;return B?"<"+B+">":M.title&&JSON.stringify(M.title)||M.$ref&&"<"+M.$ref+">"||"[subschema "+k+"]"});v.nestedErrors&&T.importErrors(E),T.addError({name:"anyOf",argument:N,message:"is not any of "+N.join(",")})}return T},P.allOf=function(_,g,v,D){if(void 0===_)return null;if(!Array.isArray(g.allOf))throw new R("allOf must be an array");var T=new S(_,g,v,D),E=this;return g.allOf.forEach(function(N,M){var k=E.validateSchema(_,N,v,D);if(!k.valid){var L=N.$id||N.id||N.title&&JSON.stringify(N.title)||N.$ref&&"<"+N.$ref+">"||"[subschema "+M+"]";T.addError({name:"allOf",argument:{id:L,length:k.errors.length,valid:k},message:"does not match allOf schema "+L+" with "+k.errors.length+" error[s]:"}),T.importErrors(k)}}),T},P.oneOf=function(_,g,v,D){if(void 0===_)return null;if(!Array.isArray(g.oneOf))throw new R("oneOf must be an array");var T=new S(_,g,v,D),E=new S(_,g,v,D),N=g.oneOf.filter(y.bind(this,_,v,D,function(k){E.importErrors(k)})).length,M=g.oneOf.map(function(k,B){return k.$id||k.id||k.title&&JSON.stringify(k.title)||k.$ref&&"<"+k.$ref+">"||"[subschema "+B+"]"});return 1!==N&&(v.nestedErrors&&T.importErrors(E),T.addError({name:"oneOf",argument:M,message:"is not exactly one from "+M.join(",")})),T},P.if=function(_,g,v,D){if(void 0===_)return null;if(!b.isSchema(g.if))throw new Error('Expected "if" keyword to be a schema');var N,T=y.call(this,_,v,D,null,g.if),E=new S(_,g,v,D);if(T){if(void 0===g.then)return;if(!b.isSchema(g.then))throw new Error('Expected "then" keyword to be a schema');N=this.validateSchema(_,g.then,v,D.makeChild(g.then)),E.importErrors(N)}else{if(void 0===g.else)return;if(!b.isSchema(g.else))throw new Error('Expected "else" keyword to be a schema');N=this.validateSchema(_,g.else,v,D.makeChild(g.else)),E.importErrors(N)}return E},P.propertyNames=function(_,g,v,D){if(this.types.object(_)){var T=new S(_,g,v,D),E=void 0!==g.propertyNames?g.propertyNames:{};if(!b.isSchema(E))throw new R('Expected "propertyNames" to be a schema (object or boolean)');for(var N in _)if(void 0!==u(_,N)){var M=this.validateSchema(N,E,v,D.makeChild(E));T.importErrors(M)}return T}},P.properties=function(_,g,v,D){if(this.types.object(_)){var T=new S(_,g,v,D),E=g.properties||{};for(var N in E){var M=E[N];if(void 0!==M){if(null===M)throw new R('Unexpected null, expected schema in "properties"');"function"==typeof v.preValidateProperty&&v.preValidateProperty(_,N,M,v,D);var k=u(_,N),B=this.validateSchema(k,M,v,D.makeChild(M,N));B.instance!==T.instance[N]&&(T.instance[N]=B.instance),T.importErrors(B)}}return T}},P.patternProperties=function(_,g,v,D){if(this.types.object(_)){var T=new S(_,g,v,D),E=g.patternProperties||{};for(var N in _){var M=!0;for(var k in E){var B=E[k];if(void 0!==B){if(null===B)throw new R('Unexpected null, expected schema in "patternProperties"');try{var L=new RegExp(k,"u")}catch{L=new RegExp(k)}if(L.test(N)){M=!1,"function"==typeof v.preValidateProperty&&v.preValidateProperty(_,N,B,v,D);var z=this.validateSchema(_[N],B,v,D.makeChild(B,N));z.instance!==T.instance[N]&&(T.instance[N]=z.instance),T.importErrors(z)}}}M&&c.call(this,_,g,v,D,N,T)}return T}},P.additionalProperties=function(_,g,v,D){if(this.types.object(_)){if(g.patternProperties)return null;var T=new S(_,g,v,D);for(var E in _)c.call(this,_,g,v,D,E,T);return T}},P.minProperties=function(_,g,v,D){if(this.types.object(_)){var T=new S(_,g,v,D);return Object.keys(_).length>=g.minProperties||T.addError({name:"minProperties",argument:g.minProperties,message:"does not meet minimum property length of "+g.minProperties}),T}},P.maxProperties=function(_,g,v,D){if(this.types.object(_)){var T=new S(_,g,v,D);return Object.keys(_).length<=g.maxProperties||T.addError({name:"maxProperties",argument:g.maxProperties,message:"does not meet maximum property length of "+g.maxProperties}),T}},P.items=function(_,g,v,D){var T=this;if(this.types.array(_)&&void 0!==g.items){var E=new S(_,g,v,D);return _.every(function(N,M){if(Array.isArray(g.items))var k=void 0===g.items[M]?g.additionalItems:g.items[M];else k=g.items;if(void 0===k)return!0;if(!1===k)return E.addError({name:"items",message:"additionalItems not permitted"}),!1;var B=T.validateSchema(N,k,v,D.makeChild(k,M));return B.instance!==E.instance[M]&&(E.instance[M]=B.instance),E.importErrors(B),!0}),E}},P.contains=function(_,g,v,D){var T=this;if(this.types.array(_)&&void 0!==g.contains){if(!b.isSchema(g.contains))throw new Error('Expected "contains" keyword to be a schema');var E=new S(_,g,v,D);return!1===_.some(function(M,k){return 0===T.validateSchema(M,g.contains,v,D.makeChild(g.contains,k)).errors.length})&&E.addError({name:"contains",argument:g.contains,message:"must contain an item matching given schema"}),E}},P.minimum=function(_,g,v,D){if(this.types.number(_)){var T=new S(_,g,v,D);return g.exclusiveMinimum&&!0===g.exclusiveMinimum?_>g.minimum||T.addError({name:"minimum",argument:g.minimum,message:"must be greater than "+g.minimum}):_>=g.minimum||T.addError({name:"minimum",argument:g.minimum,message:"must be greater than or equal to "+g.minimum}),T}},P.maximum=function(_,g,v,D){if(this.types.number(_)){var T=new S(_,g,v,D);return g.exclusiveMaximum&&!0===g.exclusiveMaximum?_<g.maximum||T.addError({name:"maximum",argument:g.maximum,message:"must be less than "+g.maximum}):_<=g.maximum||T.addError({name:"maximum",argument:g.maximum,message:"must be less than or equal to "+g.maximum}),T}},P.exclusiveMinimum=function(_,g,v,D){if("boolean"!=typeof g.exclusiveMinimum&&this.types.number(_)){var T=new S(_,g,v,D);return _>g.exclusiveMinimum||T.addError({name:"exclusiveMinimum",argument:g.exclusiveMinimum,message:"must be strictly greater than "+g.exclusiveMinimum}),T}},P.exclusiveMaximum=function(_,g,v,D){if("boolean"!=typeof g.exclusiveMaximum&&this.types.number(_)){var T=new S(_,g,v,D);return _<g.exclusiveMaximum||T.addError({name:"exclusiveMaximum",argument:g.exclusiveMaximum,message:"must be strictly less than "+g.exclusiveMaximum}),T}};var w=function(_,g,v,D,T,E){if(this.types.number(_)){var N=g[T];if(0==N)throw new R(T+" cannot be zero");var M=new S(_,g,v,D),k=b.getDecimalPlaces(_),B=b.getDecimalPlaces(N),L=Math.max(k,B),z=Math.pow(10,L);return Math.round(_*z)%Math.round(N*z)!=0&&M.addError({name:T,argument:N,message:E+JSON.stringify(N)}),M}};function m(h,_,g){var v,D=g.length;for(v=_+1;v<D;v++)if(b.deepCompareStrict(h,g[v]))return!1;return!0}P.multipleOf=function(_,g,v,D){return w.call(this,_,g,v,D,"multipleOf","is not a multiple of (divisible by) ")},P.divisibleBy=function(_,g,v,D){return w.call(this,_,g,v,D,"divisibleBy","is not divisible by (multiple of) ")},P.required=function(_,g,v,D){var T=new S(_,g,v,D);return void 0===_&&!0===g.required?T.addError({name:"required",message:"is required"}):this.types.object(_)&&Array.isArray(g.required)&&g.required.forEach(function(E){void 0===u(_,E)&&T.addError({name:"required",argument:E,message:"requires property "+JSON.stringify(E)})}),T},P.pattern=function(_,g,v,D){if(this.types.string(_)){var T=new S(_,g,v,D),E=g.pattern;try{var N=new RegExp(E,"u")}catch{N=new RegExp(E)}return _.match(N)||T.addError({name:"pattern",argument:g.pattern,message:"does not match pattern "+JSON.stringify(g.pattern.toString())}),T}},P.format=function(_,g,v,D){if(void 0!==_){var T=new S(_,g,v,D);return!T.disableFormat&&!b.isFormat(_,g.format,this)&&T.addError({name:"format",argument:g.format,message:"does not conform to the "+JSON.stringify(g.format)+" format"}),T}},P.minLength=function(_,g,v,D){if(this.types.string(_)){var T=new S(_,g,v,D),E=_.match(/[\uDC00-\uDFFF]/g);return _.length-(E?E.length:0)>=g.minLength||T.addError({name:"minLength",argument:g.minLength,message:"does not meet minimum length of "+g.minLength}),T}},P.maxLength=function(_,g,v,D){if(this.types.string(_)){var T=new S(_,g,v,D),E=_.match(/[\uDC00-\uDFFF]/g);return _.length-(E?E.length:0)<=g.maxLength||T.addError({name:"maxLength",argument:g.maxLength,message:"does not meet maximum length of "+g.maxLength}),T}},P.minItems=function(_,g,v,D){if(this.types.array(_)){var T=new S(_,g,v,D);return _.length>=g.minItems||T.addError({name:"minItems",argument:g.minItems,message:"does not meet minimum length of "+g.minItems}),T}},P.maxItems=function(_,g,v,D){if(this.types.array(_)){var T=new S(_,g,v,D);return _.length<=g.maxItems||T.addError({name:"maxItems",argument:g.maxItems,message:"does not meet maximum length of "+g.maxItems}),T}},P.uniqueItems=function(_,g,v,D){if(!0===g.uniqueItems&&this.types.array(_)){var T=new S(_,g,v,D);return _.every(m)||T.addError({name:"uniqueItems",message:"contains duplicate item"}),T}},P.dependencies=function(_,g,v,D){if(this.types.object(_)){var T=new S(_,g,v,D);for(var E in g.dependencies)if(void 0!==_[E]){var N=g.dependencies[E],M=D.makeChild(N,E);if("string"==typeof N&&(N=[N]),Array.isArray(N))N.forEach(function(B){void 0===_[B]&&T.addError({name:"dependencies",argument:M.propertyPath,message:"property "+B+" not found, required by "+M.propertyPath})});else{var k=this.validateSchema(_,N,v,M);T.instance!==k.instance&&(T.instance=k.instance),k&&k.errors.length&&(T.addError({name:"dependencies",argument:M.propertyPath,message:"does not meet dependency required by "+M.propertyPath}),T.importErrors(k))}}return T}},P.enum=function(_,g,v,D){if(void 0===_)return null;if(!Array.isArray(g.enum))throw new R("enum expects an array",g);var T=new S(_,g,v,D);return g.enum.some(b.deepCompareStrict.bind(null,_))||T.addError({name:"enum",argument:g.enum,message:"is not one of enum values: "+g.enum.map(String).join(",")}),T},P.const=function(_,g,v,D){if(void 0===_)return null;var T=new S(_,g,v,D);return b.deepCompareStrict(g.const,_)||T.addError({name:"const",argument:g.const,message:"does not exactly match expected constant: "+g.const}),T},P.not=P.disallow=function(_,g,v,D){var T=this;if(void 0===_)return null;var E=new S(_,g,v,D),N=g.not||g.disallow;return N?(Array.isArray(N)||(N=[N]),N.forEach(function(M){if(T.testType(_,g,v,D,M)){var B=M&&(M.$id||M.id)||M;E.addError({name:"not",argument:B,message:"is of prohibited type "+B})}}),E):null},Z.exports=O},8584:(Z,A,d)=>{"use strict";var b=d(2797),S=A.ValidationError=function(T,E,N,M,k,B){Array.isArray(M)?(this.path=M,this.property=M.reduce(function(z,Q){return z+w(Q)},"instance")):void 0!==M&&(this.property=M),T&&(this.message=T),N&&(this.schema=N.$id||N.id||N),void 0!==E&&(this.instance=E),this.name=k,this.argument=B,this.stack=this.toString()};S.prototype.toString=function(){return this.property+" "+this.message};var R=A.ValidatorResult=function(T,E,N,M){this.instance=T,this.schema=E,this.options=N,this.path=M.path,this.propertyPath=M.propertyPath,this.errors=[],this.throwError=N&&N.throwError,this.throwFirst=N&&N.throwFirst,this.throwAll=N&&N.throwAll,this.disableFormat=N&&!0===N.disableFormat};function O(D,T){return T+": "+D.toString()+"\n"}function P(D){Error.captureStackTrace&&Error.captureStackTrace(this,P),this.instance=D.instance,this.schema=D.schema,this.options=D.options,this.errors=D.errors}R.prototype.addError=function(T){var E;if("string"==typeof T)E=new S(T,this.instance,this.schema,this.path);else{if(!T)throw new Error("Missing error detail");if(!T.message)throw new Error("Missing error message");if(!T.name)throw new Error("Missing validator type");E=new S(T.message,this.instance,this.schema,this.path,T.name,T.argument)}if(this.errors.push(E),this.throwFirst)throw new P(this);if(this.throwError)throw E;return E},R.prototype.importErrors=function(T){"string"==typeof T||T&&T.validatorType?this.addError(T):T&&T.errors&&(this.errors=this.errors.concat(T.errors))},R.prototype.toString=function(T){return this.errors.map(O).join("")},Object.defineProperty(R.prototype,"valid",{get:function(){return!this.errors.length}}),Z.exports.ValidatorResultError=P,(P.prototype=new Error).constructor=P,P.prototype.name="Validation Error";var y=A.SchemaError=function D(T,E){this.message=T,this.schema=E,Error.call(this,T),Error.captureStackTrace(this,D)};y.prototype=Object.create(Error.prototype,{constructor:{value:y,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var u=A.SchemaContext=function(T,E,N,M,k){this.schema=T,this.options=E,Array.isArray(N)?(this.path=N,this.propertyPath=N.reduce(function(B,L){return B+w(L)},"instance")):this.propertyPath=N,this.base=M,this.schemas=k};u.prototype.resolve=function(T){return b.resolve(this.base,T)},u.prototype.makeChild=function(T,E){var N=void 0===E?this.path:this.path.concat([E]),M=T.$id||T.id,k=b.resolve(this.base,M||""),B=new u(T,this.options,N,k,Object.create(this.schemas));return M&&!B.schemas[k]&&(B.schemas[k]=T),B};var c=A.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(D){return"string"==typeof D&&parseFloat(D)===parseInt(D,10)&&!isNaN(D)},regex:function(D){var T=!0;try{new RegExp(D)}catch{T=!1}return T},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};c.regexp=c.regex,c.pattern=c.regex,c.ipv4=c["ip-address"],A.isFormat=function(T,E,N){if("string"==typeof T&&void 0!==c[E]){if(c[E]instanceof RegExp)return c[E].test(T);if("function"==typeof c[E])return c[E](T)}else if(N&&N.customFormats&&"function"==typeof N.customFormats[E])return N.customFormats[E](T);return!0};var w=A.makeSuffix=function(T){return(T=T.toString()).match(/[.\s\[\]]/)||T.match(/^[\d]/)?T.match(/^\d+$/)?"["+T+"]":"["+JSON.stringify(T)+"]":"."+T};function m(D,T,E,N){"object"==typeof E?T[N]=g(D[N],E):-1===D.indexOf(E)&&T.push(E)}function h(D,T,E){T[E]=D[E]}function _(D,T,E,N){E[N]="object"==typeof T[N]&&T[N]&&D[N]?g(D[N],T[N]):T[N]}function g(D,T){var E=Array.isArray(T),N=E&&[]||{};return E?(N=N.concat(D=D||[]),T.forEach(m.bind(null,D,N))):(D&&"object"==typeof D&&Object.keys(D).forEach(h.bind(null,D,N)),Object.keys(T).forEach(_.bind(null,D,T,N))),N}function v(D){return"/"+encodeURIComponent(D).replace(/~/g,"%7E")}A.deepCompareStrict=function D(T,E){if(typeof T!=typeof E)return!1;if(Array.isArray(T))return!(!Array.isArray(E)||T.length!==E.length)&&T.every(function(k,B){return D(T[B],E[B])});if("object"==typeof T){if(!T||!E)return T===E;var N=Object.keys(T),M=Object.keys(E);return N.length===M.length&&N.every(function(k){return D(T[k],E[k])})}return T===E},Z.exports.deepMerge=g,A.objectGetPath=function(T,E){for(var M,N=E.split("/").slice(1);"string"==typeof(M=N.shift());){var k=decodeURIComponent(M.replace(/~0/,"~").replace(/~1/g,"/"));if(!(k in T))return;T=T[k]}return T},A.encodePath=function(T){return T.map(v).join("")},A.getDecimalPlaces=function(T){var E=0;if(isNaN(T))return E;"number"!=typeof T&&(T=Number(T));var N=T.toString().split("e");if(2===N.length){if("-"!==N[1][0])return E;E=Number(N[1].slice(1))}var M=N[0].split(".");return 2===M.length&&(E+=M[1].length),E},A.isSchema=function(T){return"object"==typeof T&&T||"boolean"==typeof T}},8813:(Z,A,d)=>{"use strict";Z.exports.Validator=d(6099);d(8584),d(8584),d(8584),d(8584),d(4176),d(4176)},4176:(Z,A,d)=>{"use strict";var S=d(2797),R=d(8584);function O(P,y){this.id=P,this.ref=y}Z.exports.S=function(y,u){function c(g,v){if(v&&"object"==typeof v){if(v.$ref){var D=S.resolve(g,v.$ref);return void(_[D]=_[D]?_[D]+1:0)}var T=v.$id||v.id,E=T?S.resolve(g,T):g;if(E){if(E.indexOf("#")<0&&(E+="#"),h[E]){if(!R.deepCompareStrict(h[E],v))throw new Error("Schema <"+E+"> already exists with different definition");return h[E]}h[E]=v,"#"==E[E.length-1]&&(h[E.substring(0,E.length-1)]=v)}w(E+"/items",Array.isArray(v.items)?v.items:[v.items]),w(E+"/extends",Array.isArray(v.extends)?v.extends:[v.extends]),c(E+"/additionalItems",v.additionalItems),m(E+"/properties",v.properties),c(E+"/additionalProperties",v.additionalProperties),m(E+"/definitions",v.definitions),m(E+"/patternProperties",v.patternProperties),m(E+"/dependencies",v.dependencies),w(E+"/disallow",v.disallow),w(E+"/allOf",v.allOf),w(E+"/anyOf",v.anyOf),w(E+"/oneOf",v.oneOf),c(E+"/not",v.not)}}function w(g,v){if(Array.isArray(v))for(var D=0;D<v.length;D++)c(g+"/"+D,v[D])}function m(g,v){if(v&&"object"==typeof v)for(var D in v)c(g+"/"+D,v[D])}var h={},_={};return c(y,u),new O(h,_)}},6099:(Z,A,d)=>{"use strict";var b=d(2797),S=d(8437),R=d(8584),O=d(4176).S,P=R.ValidatorResult,y=R.ValidatorResultError,u=R.SchemaError,c=R.SchemaContext,m=function g(){this.customFormats=Object.create(g.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(_),this.attributes=Object.create(S.validators)};function h(g){var v="string"==typeof g?g:g.$ref;return"string"==typeof v&&v}m.prototype.customFormats={},m.prototype.schemas=null,m.prototype.types=null,m.prototype.attributes=null,m.prototype.unresolvedRefs=null,m.prototype.addSchema=function(v,D){var T=this;if(!v)return null;var E=O(D||"/",v),N=D||v.$id||v.id;for(var M in E.id)this.schemas[M]=E.id[M];for(var M in E.ref)this.unresolvedRefs.push(M);return this.unresolvedRefs=this.unresolvedRefs.filter(function(k){return typeof T.schemas[k]>"u"}),this.schemas[N]},m.prototype.addSubSchemaArray=function(v,D){if(Array.isArray(D))for(var T=0;T<D.length;T++)this.addSubSchema(v,D[T])},m.prototype.addSubSchemaObject=function(v,D){if(D&&"object"==typeof D)for(var T in D)this.addSubSchema(v,D[T])},m.prototype.setSchemas=function(v){this.schemas=v},m.prototype.getSchema=function(v){return this.schemas[v]},m.prototype.validate=function(v,D,T,E){if("boolean"!=typeof D&&"object"!=typeof D||null===D)throw new u("Expected `schema` to be an object or boolean");T||(T={});var z,M=b.resolve(T.base||"/",D.$id||D.id||"");if(!E){(E=new c(D,T,[],M,Object.create(this.schemas))).schemas[M]||(E.schemas[M]=D);var k=O(M,D);for(var B in k.id)E.schemas[B]=k.id[B]}if(T.required&&void 0===v)return(z=new P(v,D,T,E)).addError("is required, but is undefined"),z;if(!(z=this.validateSchema(v,D,T,E)))throw new Error("Result undefined");if(T.throwAll&&z.errors.length)throw new y(z);return z},m.prototype.validateSchema=function(v,D,T,E){var N=new P(v,D,T,E);if("boolean"==typeof D)!0===D?D={}:!1===D&&(D={type:[]});else if(!D)throw new Error("schema is undefined");if(D.extends)if(Array.isArray(D.extends)){var M={schema:D,ctx:E};D.extends.forEach(this.schemaTraverser.bind(this,M)),D=M.schema,M.schema=null,M.ctx=null,M=null}else D=R.deepMerge(D,this.superResolve(D.extends,E));var k=h(D);if(k){var B=this.resolve(D,k,E),L=new c(B.subschema,T,E.path,B.switchSchema,E.schemas);return this.validateSchema(v,B.subschema,T,L)}var z=T&&T.skipAttributes||[];for(var Q in D)if(!S.ignoreProperties[Q]&&z.indexOf(Q)<0){var oe=null,j=this.attributes[Q];if(j)oe=j.call(this,v,D,T,E);else if(!1===T.allowUnknownAttributes)throw new u("Unsupported attribute: "+Q,D);oe&&N.importErrors(oe)}if("function"==typeof T.rewrite){var ne=T.rewrite.call(this,v,D,T,E);N.instance=ne}return N},m.prototype.schemaTraverser=function(v,D){v.schema=R.deepMerge(v.schema,this.superResolve(D,v.ctx))},m.prototype.superResolve=function(v,D){var T=h(v);return T?this.resolve(v,T,D).subschema:v},m.prototype.resolve=function(v,D,T){if(D=T.resolve(D),T.schemas[D])return{subschema:T.schemas[D],switchSchema:D};var E=b.parse(D),N=E&&E.hash,M=N&&N.length&&D.substr(0,D.length-N.length);if(!M||!T.schemas[M])throw new u("no such schema <"+D+">",v);var k=R.objectGetPath(T.schemas[M],N.substr(1));if(void 0===k)throw new u("no such schema "+N+" located in <"+M+">",v);return{subschema:k,switchSchema:D}},m.prototype.testType=function(v,D,T,E,N){if(void 0!==N){if(null===N)throw new u('Unexpected null in "type" keyword');if("function"==typeof this.types[N])return this.types[N].call(this,v);if(N&&"object"==typeof N){var M=this.validateSchema(v,N,T,E);return void 0===M||!(M&&M.errors.length)}return!0}};var _=m.prototype.types={};_.string=function(v){return"string"==typeof v},_.number=function(v){return"number"==typeof v&&isFinite(v)},_.integer=function(v){return"number"==typeof v&&v%1==0},_.boolean=function(v){return"boolean"==typeof v},_.array=function(v){return Array.isArray(v)},_.null=function(v){return null===v},_.date=function(v){return v instanceof Date},_.any=function(v){return!0},_.object=function(v){return v&&"object"==typeof v&&!Array.isArray(v)&&!(v instanceof Date)},Z.exports=m},8350:(Z,A,d)=>{"use strict";function b(u){this.message=u}d.r(A),d.d(A,{InvalidTokenError:()=>O,default:()=>y}),(b.prototype=new Error).name="InvalidCharacterError";var S=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(u){var c=String(u).replace(/=+$/,"");if(c.length%4==1)throw new b("'atob' failed: The string to be decoded is not correctly encoded.");for(var w,m,h=0,_=0,g="";m=c.charAt(_++);~m&&(w=h%4?64*w+m:m,h++%4)?g+=String.fromCharCode(255&w>>(-2*h&6)):0)m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(m);return g};function O(u){this.message=u}(O.prototype=new Error).name="InvalidTokenError";const y=function P(u,c){if("string"!=typeof u)throw new O("Invalid token specified");var w=!0===(c=c||{}).header?0:1;try{return JSON.parse(function R(u){var c=u.replace(/-/g,"+").replace(/_/g,"/");switch(c.length%4){case 0:break;case 2:c+="==";break;case 3:c+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(S(c).replace(/(.)/g,function(m,h){var _=h.charCodeAt(0).toString(16).toUpperCase();return _.length<2&&(_="0"+_),"%"+_}))}catch{return S(c)}}(u.split(".")[w]))}catch(m){throw new O("Invalid token specified: "+m.message)}}},9061:(Z,A)=>{"use strict";A.supports=function(...b){const S=b.reduce((R,O)=>Object.assign(R,O),{});return Object.assign(S,{snapshots:S.snapshots||!1,permanence:S.permanence||!1,seek:S.seek||!1,clear:S.clear||!1,getMany:S.getMany||!1,keyIterator:S.keyIterator||!1,valueIterator:S.valueIterator||!1,iteratorNextv:S.iteratorNextv||!1,iteratorAll:S.iteratorAll||!1,status:S.status||!1,createIfMissing:S.createIfMissing||!1,errorIfExists:S.errorIfExists||!1,deferredOpen:S.deferredOpen||!1,promises:S.promises||!1,streams:S.streams||!1,encodings:Object.assign({},S.encodings),events:Object.assign({},S.events),additionalMethods:Object.assign({},S.additionalMethods)})}},5006:(Z,A,d)=>{"use strict";const b=d(1747),S=d(80),{Encoding:R}=d(5045),{BufferFormat:O,ViewFormat:P,UTF8Format:y}=d(8262),u=Symbol("formats"),c=Symbol("encodings"),w=new Set(["buffer","view","utf8"]);A.Transcoder=class m{constructor(E){if(!Array.isArray(E))throw new TypeError("The first argument 'formats' must be an array");if(!E.every(N=>w.has(N)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[c]=new Map,this[u]=new Set(E);for(const N in S)try{this.encoding(N)}catch(M){if("LEVEL_ENCODING_NOT_SUPPORTED"!==M.code)throw M}}encodings(){return Array.from(new Set(this[c].values()))}encoding(E){let N=this[c].get(E);if(void 0===N){if("string"==typeof E&&""!==E){if(N=v[E],!N)throw new b(`Encoding '${E}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof E||null===E)throw new TypeError("First argument 'encoding' must be a string or object");N=function h(T){if(T instanceof R)return T;const N=T.name||("type"in T&&"string"==typeof T.type?T.type:void 0)||"anonymous-"+D++;switch(function _(T){return"format"in T&&void 0!==T.format?T.format:"buffer"in T&&"boolean"==typeof T.buffer?T.buffer?"buffer":"utf8":"code"in T&&Number.isInteger(T.code)?"view":"buffer"}(T)){case"view":return new P({...T,name:N});case"utf8":return new y({...T,name:N});case"buffer":return new O({...T,name:N});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(E)}const{name:M,format:k}=N;if(!this[u].has(k))if(this[u].has("view"))N=N.createViewTranscoder();else if(this[u].has("buffer"))N=N.createBufferTranscoder();else{if(!this[u].has("utf8"))throw new b(`Encoding '${M}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});N=N.createUTF8Transcoder()}for(const B of[E,M,N.name,N.commonName])this[c].set(B,N)}return N}};const g={binary:S.buffer,"utf-8":S.utf8},v={...S,...g};let D=0},5045:(Z,A,d)=>{"use strict";const b=d(1747),S=new Set(["buffer","view","utf8"]);A.Encoding=class R{constructor(P){if(this.encode=P.encode||this.encode,this.decode=P.decode||this.decode,this.name=P.name||this.name,this.format=P.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!S.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");P.createViewTranscoder&&(this.createViewTranscoder=P.createViewTranscoder),P.createBufferTranscoder&&(this.createBufferTranscoder=P.createBufferTranscoder),P.createUTF8Transcoder&&(this.createUTF8Transcoder=P.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new b(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new b(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new b(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},80:(Z,A,d)=>{"use strict";const{Buffer:b}=d(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:S,textDecoder:R}=d(3619)(),{BufferFormat:O,ViewFormat:P,UTF8Format:y}=d(8262),u=c=>c;A.utf8=new y({encode:function(c){return b.isBuffer(c)?c.toString("utf8"):ArrayBuffer.isView(c)?R.decode(c):String(c)},decode:u,name:"utf8",createViewTranscoder(){return new P({encode:function(c){return ArrayBuffer.isView(c)?c:S.encode(c)},decode:function(c){return R.decode(c)},name:`${this.name}+view`})},createBufferTranscoder(){return new O({encode:function(c){return b.isBuffer(c)?c:ArrayBuffer.isView(c)?b.from(c.buffer,c.byteOffset,c.byteLength):b.from(String(c),"utf8")},decode:function(c){return c.toString("utf8")},name:`${this.name}+buffer`})}}),A.json=new y({encode:JSON.stringify,decode:JSON.parse,name:"json"}),A.buffer=new O({encode:function(c){return b.isBuffer(c)?c:ArrayBuffer.isView(c)?b.from(c.buffer,c.byteOffset,c.byteLength):b.from(String(c),"utf8")},decode:u,name:"buffer",createViewTranscoder(){return new P({encode:function(c){return ArrayBuffer.isView(c)?c:b.from(String(c),"utf8")},decode:function(c){return b.from(c.buffer,c.byteOffset,c.byteLength)},name:`${this.name}+view`})}}),A.view=new P({encode:function(c){return ArrayBuffer.isView(c)?c:S.encode(c)},decode:u,name:"view",createBufferTranscoder(){return new O({encode:function(c){return b.isBuffer(c)?c:ArrayBuffer.isView(c)?b.from(c.buffer,c.byteOffset,c.byteLength):b.from(String(c),"utf8")},decode:u,name:`${this.name}+buffer`})}}),A.hex=new O({encode:function(c){return b.isBuffer(c)?c:b.from(String(c),"hex")},decode:function(c){return c.toString("hex")},name:"hex"}),A.base64=new O({encode:function(c){return b.isBuffer(c)?c:b.from(String(c),"base64")},decode:function(c){return c.toString("base64")},name:"base64"})},8262:(Z,A,d)=>{"use strict";const{Buffer:b}=d(484)||{},{Encoding:S}=d(5045),R=d(3619);class O extends S{constructor(c){super({...c,format:"buffer"})}createViewTranscoder(){return new P({encode:this.encode,decode:c=>this.decode(b.from(c.buffer,c.byteOffset,c.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class P extends S{constructor(c){super({...c,format:"view"})}createBufferTranscoder(){return new O({encode:c=>{const w=this.encode(c);return b.from(w.buffer,w.byteOffset,w.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}A.BufferFormat=O,A.ViewFormat=P,A.UTF8Format=class y extends S{constructor(c){super({...c,format:"utf8"})}createBufferTranscoder(){return new O({encode:c=>b.from(this.encode(c),"utf8"),decode:c=>this.decode(c.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:c,textDecoder:w}=R();return new P({encode:m=>c.encode(this.encode(m)),decode:m=>this.decode(w.decode(m)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},3619:Z=>{"use strict";let A=null;Z.exports=function(){return null===A&&(A={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),A}},484:(Z,A,d)=>{"use strict";const b=d(3981),S=d(2020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;A.Buffer=u,A.SlowBuffer=function N(F){return+F!=F&&(F=0),u.alloc(+F)},A.INSPECT_MAX_BYTES=50;const O=2147483647;function y(F){if(F>O)throw new RangeError('The value "'+F+'" is invalid for option "size"');const l=new Uint8Array(F);return Object.setPrototypeOf(l,u.prototype),l}function u(F,l,f){if("number"==typeof F){if("string"==typeof l)throw new TypeError('The "string" argument must be of type string. Received type number');return h(F)}return c(F,l,f)}function c(F,l,f){if("string"==typeof F)return function _(F,l){if(("string"!=typeof l||""===l)&&(l="utf8"),!u.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=0|M(F,l);let V=y(f);const X=V.write(F,l);return X!==f&&(V=V.slice(0,X)),V}(F,l);if(ArrayBuffer.isView(F))return function v(F){if(Ne(F,Uint8Array)){const l=new Uint8Array(F);return D(l.buffer,l.byteOffset,l.byteLength)}return g(F)}(F);if(null==F)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(Ne(F,ArrayBuffer)||F&&Ne(F.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(F,SharedArrayBuffer)||F&&Ne(F.buffer,SharedArrayBuffer)))return D(F,l,f);if("number"==typeof F)throw new TypeError('The "value" argument must not be of type number. Received type number');const V=F.valueOf&&F.valueOf();if(null!=V&&V!==F)return u.from(V,l,f);const X=function T(F){if(u.isBuffer(F)){const l=0|E(F.length),f=y(l);return 0===f.length||F.copy(f,0,0,l),f}return void 0!==F.length?"number"!=typeof F.length||Qe(F.length)?y(0):g(F):"Buffer"===F.type&&Array.isArray(F.data)?g(F.data):void 0}(F);if(X)return X;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof F[Symbol.toPrimitive])return u.from(F[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function w(F){if("number"!=typeof F)throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function h(F){return w(F),y(F<0?0:0|E(F))}function g(F){const l=F.length<0?0:0|E(F.length),f=y(l);for(let V=0;V<l;V+=1)f[V]=255&F[V];return f}function D(F,l,f){if(l<0||F.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(F.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let V;return V=void 0===l&&void 0===f?new Uint8Array(F):void 0===f?new Uint8Array(F,l):new Uint8Array(F,l,f),Object.setPrototypeOf(V,u.prototype),V}function E(F){if(F>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return 0|F}function M(F,l){if(u.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||Ne(F,ArrayBuffer))return F.byteLength;if("string"!=typeof F)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);const f=F.length,V=arguments.length>2&&!0===arguments[2];if(!V&&0===f)return 0;let X=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return W(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*f;case"hex":return f>>>1;case"base64":return he(F).length;default:if(X)return V?-1:W(F).length;l=(""+l).toLowerCase(),X=!0}}function k(F,l,f){let V=!1;if((void 0===l||l<0)&&(l=0),l>this.length||((void 0===f||f>this.length)&&(f=this.length),f<=0)||(f>>>=0)<=(l>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return ae(this,l,f);case"utf8":case"utf-8":return le(this,l,f);case"ascii":return de(this,l,f);case"latin1":case"binary":return Ie(this,l,f);case"base64":return te(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,l,f);default:if(V)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),V=!0}}function B(F,l,f){const V=F[l];F[l]=F[f],F[f]=V}function L(F,l,f,V,X){if(0===F.length)return-1;if("string"==typeof f?(V=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),Qe(f=+f)&&(f=X?0:F.length-1),f<0&&(f=F.length+f),f>=F.length){if(X)return-1;f=F.length-1}else if(f<0){if(!X)return-1;f=0}if("string"==typeof l&&(l=u.from(l,V)),u.isBuffer(l))return 0===l.length?-1:z(F,l,f,V,X);if("number"==typeof l)return l&=255,"function"==typeof Uint8Array.prototype.indexOf?X?Uint8Array.prototype.indexOf.call(F,l,f):Uint8Array.prototype.lastIndexOf.call(F,l,f):z(F,[l],f,V,X);throw new TypeError("val must be string, number or Buffer")}function z(F,l,f,V,X){let dt,fe=1,Ce=F.length,$e=l.length;if(void 0!==V&&("ucs2"===(V=String(V).toLowerCase())||"ucs-2"===V||"utf16le"===V||"utf-16le"===V)){if(F.length<2||l.length<2)return-1;fe=2,Ce/=2,$e/=2,f/=2}function Ze(pt,at){return 1===fe?pt[at]:pt.readUInt16BE(at*fe)}if(X){let pt=-1;for(dt=f;dt<Ce;dt++)if(Ze(F,dt)===Ze(l,-1===pt?0:dt-pt)){if(-1===pt&&(pt=dt),dt-pt+1===$e)return pt*fe}else-1!==pt&&(dt-=dt-pt),pt=-1}else for(f+$e>Ce&&(f=Ce-$e),dt=f;dt>=0;dt--){let pt=!0;for(let at=0;at<$e;at++)if(Ze(F,dt+at)!==Ze(l,at)){pt=!1;break}if(pt)return dt}return-1}function Q(F,l,f,V){f=Number(f)||0;const X=F.length-f;V?(V=Number(V))>X&&(V=X):V=X;const fe=l.length;let Ce;for(V>fe/2&&(V=fe/2),Ce=0;Ce<V;++Ce){const $e=parseInt(l.substr(2*Ce,2),16);if(Qe($e))return Ce;F[f+Ce]=$e}return Ce}function oe(F,l,f,V){return Be(W(l,F.length-f),F,f,V)}function j(F,l,f,V){return Be(function ee(F){const l=[];for(let f=0;f<F.length;++f)l.push(255&F.charCodeAt(f));return l}(l),F,f,V)}function ne(F,l,f,V){return Be(he(l),F,f,V)}function K(F,l,f,V){return Be(function ke(F,l){let f,V,X;const fe=[];for(let Ce=0;Ce<F.length&&!((l-=2)<0);++Ce)f=F.charCodeAt(Ce),V=f>>8,X=f%256,fe.push(X),fe.push(V);return fe}(l,F.length-f),F,f,V)}function te(F,l,f){return b.fromByteArray(0===l&&f===F.length?F:F.slice(l,f))}function le(F,l,f){f=Math.min(F.length,f);const V=[];let X=l;for(;X<f;){const fe=F[X];let Ce=null,$e=fe>239?4:fe>223?3:fe>191?2:1;if(X+$e<=f){let Ze,dt,pt,at;switch($e){case 1:fe<128&&(Ce=fe);break;case 2:Ze=F[X+1],128==(192&Ze)&&(at=(31&fe)<<6|63&Ze,at>127&&(Ce=at));break;case 3:Ze=F[X+1],dt=F[X+2],128==(192&Ze)&&128==(192&dt)&&(at=(15&fe)<<12|(63&Ze)<<6|63&dt,at>2047&&(at<55296||at>57343)&&(Ce=at));break;case 4:Ze=F[X+1],dt=F[X+2],pt=F[X+3],128==(192&Ze)&&128==(192&dt)&&128==(192&pt)&&(at=(15&fe)<<18|(63&Ze)<<12|(63&dt)<<6|63&pt,at>65535&&at<1114112&&(Ce=at))}}null===Ce?(Ce=65533,$e=1):Ce>65535&&(Ce-=65536,V.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),V.push(Ce),X+=$e}return function J(F){const l=F.length;if(l<=Fe)return String.fromCharCode.apply(String,F);let f="",V=0;for(;V<l;)f+=String.fromCharCode.apply(String,F.slice(V,V+=Fe));return f}(V)}A.kMaxLength=O,!(u.TYPED_ARRAY_SUPPORT=function P(){try{const F=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(F,l),42===F.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(F,l,f){return c(F,l,f)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(F,l,f){return function m(F,l,f){return w(F),F<=0?y(F):void 0!==l?"string"==typeof f?y(F).fill(l,f):y(F).fill(l):y(F)}(F,l,f)},u.allocUnsafe=function(F){return h(F)},u.allocUnsafeSlow=function(F){return h(F)},u.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==u.prototype},u.compare=function(l,f){if(Ne(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),Ne(f,Uint8Array)&&(f=u.from(f,f.offset,f.byteLength)),!u.isBuffer(l)||!u.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let V=l.length,X=f.length;for(let fe=0,Ce=Math.min(V,X);fe<Ce;++fe)if(l[fe]!==f[fe]){V=l[fe],X=f[fe];break}return V<X?-1:X<V?1:0},u.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return u.alloc(0);let V;if(void 0===f)for(f=0,V=0;V<l.length;++V)f+=l[V].length;const X=u.allocUnsafe(f);let fe=0;for(V=0;V<l.length;++V){let Ce=l[V];if(Ne(Ce,Uint8Array))fe+Ce.length>X.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(X,fe)):Uint8Array.prototype.set.call(X,Ce,fe);else{if(!u.isBuffer(Ce))throw new TypeError('"list" argument must be an Array of Buffers');Ce.copy(X,fe)}fe+=Ce.length}return X},u.byteLength=M,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)B(this,f,f+1);return this},u.prototype.swap32=function(){const l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)B(this,f,f+3),B(this,f+1,f+2);return this},u.prototype.swap64=function(){const l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)B(this,f,f+7),B(this,f+1,f+6),B(this,f+2,f+5),B(this,f+3,f+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){const l=this.length;return 0===l?"":0===arguments.length?le(this,0,l):k.apply(this,arguments)},u.prototype.equals=function(l){if(!u.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||0===u.compare(this,l)},u.prototype.inspect=function(){let l="";const f=A.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},R&&(u.prototype[R]=u.prototype.inspect),u.prototype.compare=function(l,f,V,X,fe){if(Ne(l,Uint8Array)&&(l=u.from(l,l.offset,l.byteLength)),!u.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(void 0===f&&(f=0),void 0===V&&(V=l?l.length:0),void 0===X&&(X=0),void 0===fe&&(fe=this.length),f<0||V>l.length||X<0||fe>this.length)throw new RangeError("out of range index");if(X>=fe&&f>=V)return 0;if(X>=fe)return-1;if(f>=V)return 1;if(this===l)return 0;let Ce=(fe>>>=0)-(X>>>=0),$e=(V>>>=0)-(f>>>=0);const Ze=Math.min(Ce,$e),dt=this.slice(X,fe),pt=l.slice(f,V);for(let at=0;at<Ze;++at)if(dt[at]!==pt[at]){Ce=dt[at],$e=pt[at];break}return Ce<$e?-1:$e<Ce?1:0},u.prototype.includes=function(l,f,V){return-1!==this.indexOf(l,f,V)},u.prototype.indexOf=function(l,f,V){return L(this,l,f,V,!0)},u.prototype.lastIndexOf=function(l,f,V){return L(this,l,f,V,!1)},u.prototype.write=function(l,f,V,X){if(void 0===f)X="utf8",V=this.length,f=0;else if(void 0===V&&"string"==typeof f)X=f,V=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(V)?(V>>>=0,void 0===X&&(X="utf8")):(X=V,V=void 0)}const fe=this.length-f;if((void 0===V||V>fe)&&(V=fe),l.length>0&&(V<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let Ce=!1;for(;;)switch(X){case"hex":return Q(this,l,f,V);case"utf8":case"utf-8":return oe(this,l,f,V);case"ascii":case"latin1":case"binary":return j(this,l,f,V);case"base64":return ne(this,l,f,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,l,f,V);default:if(Ce)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Fe=4096;function de(F,l,f){let V="";f=Math.min(F.length,f);for(let X=l;X<f;++X)V+=String.fromCharCode(127&F[X]);return V}function Ie(F,l,f){let V="";f=Math.min(F.length,f);for(let X=l;X<f;++X)V+=String.fromCharCode(F[X]);return V}function ae(F,l,f){const V=F.length;(!l||l<0)&&(l=0),(!f||f<0||f>V)&&(f=V);let X="";for(let fe=l;fe<f;++fe)X+=ut[F[fe]];return X}function Ee(F,l,f){const V=F.slice(l,f);let X="";for(let fe=0;fe<V.length-1;fe+=2)X+=String.fromCharCode(V[fe]+256*V[fe+1]);return X}function I(F,l,f){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+l>f)throw new RangeError("Trying to access beyond buffer length")}function $(F,l,f,V,X,fe){if(!u.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>X||l<fe)throw new RangeError('"value" argument is out of bounds');if(f+V>F.length)throw new RangeError("Index out of range")}function q(F,l,f,V,X){Ke(l,V,X,F,f,7);let fe=Number(l&BigInt(4294967295));F[f++]=fe,fe>>=8,F[f++]=fe,fe>>=8,F[f++]=fe,fe>>=8,F[f++]=fe;let Ce=Number(l>>BigInt(32)&BigInt(4294967295));return F[f++]=Ce,Ce>>=8,F[f++]=Ce,Ce>>=8,F[f++]=Ce,Ce>>=8,F[f++]=Ce,f}function G(F,l,f,V,X){Ke(l,V,X,F,f,7);let fe=Number(l&BigInt(4294967295));F[f+7]=fe,fe>>=8,F[f+6]=fe,fe>>=8,F[f+5]=fe,fe>>=8,F[f+4]=fe;let Ce=Number(l>>BigInt(32)&BigInt(4294967295));return F[f+3]=Ce,Ce>>=8,F[f+2]=Ce,Ce>>=8,F[f+1]=Ce,Ce>>=8,F[f]=Ce,f+8}function re(F,l,f,V,X,fe){if(f+V>F.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ye(F,l,f,V,X){return l=+l,f>>>=0,X||re(F,0,f,4),S.write(F,l,f,V,23,4),f+4}function me(F,l,f,V,X){return l=+l,f>>>=0,X||re(F,0,f,8),S.write(F,l,f,V,52,8),f+8}u.prototype.slice=function(l,f){const V=this.length;(l=~~l)<0?(l+=V)<0&&(l=0):l>V&&(l=V),(f=void 0===f?V:~~f)<0?(f+=V)<0&&(f=0):f>V&&(f=V),f<l&&(f=l);const X=this.subarray(l,f);return Object.setPrototypeOf(X,u.prototype),X},u.prototype.readUintLE=u.prototype.readUIntLE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l],fe=1,Ce=0;for(;++Ce<f&&(fe*=256);)X+=this[l+Ce]*fe;return X},u.prototype.readUintBE=u.prototype.readUIntBE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l+--f],fe=1;for(;f>0&&(fe*=256);)X+=this[l+--f]*fe;return X},u.prototype.readUint8=u.prototype.readUInt8=function(l,f){return l>>>=0,f||I(l,1,this.length),this[l]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(l,f){return l>>>=0,f||I(l,2,this.length),this[l]|this[l+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(l,f){return l>>>=0,f||I(l,2,this.length),this[l]<<8|this[l+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(l,f){return l>>>=0,f||I(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(l,f){return l>>>=0,f||I(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},u.prototype.readBigUInt64LE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=f+256*this[++l]+65536*this[++l]+this[++l]*2**24,fe=this[++l]+256*this[++l]+65536*this[++l]+V*2**24;return BigInt(X)+(BigInt(fe)<<BigInt(32))}),u.prototype.readBigUInt64BE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=f*2**24+65536*this[++l]+256*this[++l]+this[++l],fe=this[++l]*2**24+65536*this[++l]+256*this[++l]+V;return(BigInt(X)<<BigInt(32))+BigInt(fe)}),u.prototype.readIntLE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=this[l],fe=1,Ce=0;for(;++Ce<f&&(fe*=256);)X+=this[l+Ce]*fe;return fe*=128,X>=fe&&(X-=Math.pow(2,8*f)),X},u.prototype.readIntBE=function(l,f,V){l>>>=0,f>>>=0,V||I(l,f,this.length);let X=f,fe=1,Ce=this[l+--X];for(;X>0&&(fe*=256);)Ce+=this[l+--X]*fe;return fe*=128,Ce>=fe&&(Ce-=Math.pow(2,8*f)),Ce},u.prototype.readInt8=function(l,f){return l>>>=0,f||I(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},u.prototype.readInt16LE=function(l,f){l>>>=0,f||I(l,2,this.length);const V=this[l]|this[l+1]<<8;return 32768&V?4294901760|V:V},u.prototype.readInt16BE=function(l,f){l>>>=0,f||I(l,2,this.length);const V=this[l+1]|this[l]<<8;return 32768&V?4294901760|V:V},u.prototype.readInt32LE=function(l,f){return l>>>=0,f||I(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},u.prototype.readInt32BE=function(l,f){return l>>>=0,f||I(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},u.prototype.readBigInt64LE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];return(void 0===f||void 0===V)&&Ae(l,this.length-8),(BigInt(this[l+4]+256*this[l+5]+65536*this[l+6]+(V<<24))<<BigInt(32))+BigInt(f+256*this[++l]+65536*this[++l]+this[++l]*2**24)}),u.prototype.readBigInt64BE=qe(function(l){Ge(l>>>=0,"offset");const f=this[l],V=this[l+7];(void 0===f||void 0===V)&&Ae(l,this.length-8);const X=(f<<24)+65536*this[++l]+256*this[++l]+this[++l];return(BigInt(X)<<BigInt(32))+BigInt(this[++l]*2**24+65536*this[++l]+256*this[++l]+V)}),u.prototype.readFloatLE=function(l,f){return l>>>=0,f||I(l,4,this.length),S.read(this,l,!0,23,4)},u.prototype.readFloatBE=function(l,f){return l>>>=0,f||I(l,4,this.length),S.read(this,l,!1,23,4)},u.prototype.readDoubleLE=function(l,f){return l>>>=0,f||I(l,8,this.length),S.read(this,l,!0,52,8)},u.prototype.readDoubleBE=function(l,f){return l>>>=0,f||I(l,8,this.length),S.read(this,l,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(l,f,V,X){l=+l,f>>>=0,V>>>=0,X||$(this,l,f,V,Math.pow(2,8*V)-1,0);let fe=1,Ce=0;for(this[f]=255&l;++Ce<V&&(fe*=256);)this[f+Ce]=l/fe&255;return f+V},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(l,f,V,X){l=+l,f>>>=0,V>>>=0,X||$(this,l,f,V,Math.pow(2,8*V)-1,0);let fe=V-1,Ce=1;for(this[f+fe]=255&l;--fe>=0&&(Ce*=256);)this[f+fe]=l/Ce&255;return f+V},u.prototype.writeUint8=u.prototype.writeUInt8=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,1,255,0),this[f]=255&l,f+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,65535,0),this[f]=255&l,this[f+1]=l>>>8,f+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=255&l,f+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=255&l,f+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},u.prototype.writeBigUInt64LE=qe(function(l,f=0){return q(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=qe(function(l,f=0){return G(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(l,f,V,X){if(l=+l,f>>>=0,!X){const Ze=Math.pow(2,8*V-1);$(this,l,f,V,Ze-1,-Ze)}let fe=0,Ce=1,$e=0;for(this[f]=255&l;++fe<V&&(Ce*=256);)l<0&&0===$e&&0!==this[f+fe-1]&&($e=1),this[f+fe]=(l/Ce|0)-$e&255;return f+V},u.prototype.writeIntBE=function(l,f,V,X){if(l=+l,f>>>=0,!X){const Ze=Math.pow(2,8*V-1);$(this,l,f,V,Ze-1,-Ze)}let fe=V-1,Ce=1,$e=0;for(this[f+fe]=255&l;--fe>=0&&(Ce*=256);)l<0&&0===$e&&0!==this[f+fe+1]&&($e=1),this[f+fe]=(l/Ce|0)-$e&255;return f+V},u.prototype.writeInt8=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=255&l,f+1},u.prototype.writeInt16LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,32767,-32768),this[f]=255&l,this[f+1]=l>>>8,f+2},u.prototype.writeInt16BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=255&l,f+2},u.prototype.writeInt32LE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,2147483647,-2147483648),this[f]=255&l,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},u.prototype.writeInt32BE=function(l,f,V){return l=+l,f>>>=0,V||$(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},u.prototype.writeBigInt64LE=qe(function(l,f=0){return q(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=qe(function(l,f=0){return G(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(l,f,V){return ye(this,l,f,!0,V)},u.prototype.writeFloatBE=function(l,f,V){return ye(this,l,f,!1,V)},u.prototype.writeDoubleLE=function(l,f,V){return me(this,l,f,!0,V)},u.prototype.writeDoubleBE=function(l,f,V){return me(this,l,f,!1,V)},u.prototype.copy=function(l,f,V,X){if(!u.isBuffer(l))throw new TypeError("argument should be a Buffer");if(V||(V=0),!X&&0!==X&&(X=this.length),f>=l.length&&(f=l.length),f||(f=0),X>0&&X<V&&(X=V),X===V||0===l.length||0===this.length)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),l.length-f<X-V&&(X=l.length-f+V);const fe=X-V;return this===l&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(f,V,X):Uint8Array.prototype.set.call(l,this.subarray(V,X),f),fe},u.prototype.fill=function(l,f,V,X){if("string"==typeof l){if("string"==typeof f?(X=f,f=0,V=this.length):"string"==typeof V&&(X=V,V=this.length),void 0!==X&&"string"!=typeof X)throw new TypeError("encoding must be a string");if("string"==typeof X&&!u.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(1===l.length){const Ce=l.charCodeAt(0);("utf8"===X&&Ce<128||"latin1"===X)&&(l=Ce)}}else"number"==typeof l?l&=255:"boolean"==typeof l&&(l=Number(l));if(f<0||this.length<f||this.length<V)throw new RangeError("Out of range index");if(V<=f)return this;let fe;if(f>>>=0,V=void 0===V?this.length:V>>>0,l||(l=0),"number"==typeof l)for(fe=f;fe<V;++fe)this[fe]=l;else{const Ce=u.isBuffer(l)?l:u.from(l,X),$e=Ce.length;if(0===$e)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(fe=0;fe<V-f;++fe)this[fe+f]=Ce[fe%$e]}return this};const Me={};function Se(F,l,f){Me[F]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${F}]`,delete this.name}get code(){return F}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${F}]: ${this.message}`}}}function Ye(F){let l="",f=F.length;const V="-"===F[0]?1:0;for(;f>=V+4;f-=3)l=`_${F.slice(f-3,f)}${l}`;return`${F.slice(0,f)}${l}`}function Ke(F,l,f,V,X,fe){if(F>f||F<l){const Ce="bigint"==typeof l?"n":"";let $e;throw $e=fe>3?0===l||l===BigInt(0)?`>= 0${Ce} and < 2${Ce} ** ${8*(fe+1)}${Ce}`:`>= -(2${Ce} ** ${8*(fe+1)-1}${Ce}) and < 2 ** ${8*(fe+1)-1}${Ce}`:`>= ${l}${Ce} and <= ${f}${Ce}`,new Me.ERR_OUT_OF_RANGE("value",$e,F)}!function gt(F,l,f){Ge(l,"offset"),(void 0===F[l]||void 0===F[l+f])&&Ae(l,F.length-(f+1))}(V,X,fe)}function Ge(F,l){if("number"!=typeof F)throw new Me.ERR_INVALID_ARG_TYPE(l,"number",F)}function Ae(F,l,f){throw Math.floor(F)!==F?(Ge(F,f),new Me.ERR_OUT_OF_RANGE(f||"offset","an integer",F)):l<0?new Me.ERR_BUFFER_OUT_OF_BOUNDS:new Me.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${l}`,F)}Se("ERR_BUFFER_OUT_OF_BOUNDS",function(F){return F?`${F} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Se("ERR_INVALID_ARG_TYPE",function(F,l){return`The "${F}" argument must be of type number. Received type ${typeof l}`},TypeError),Se("ERR_OUT_OF_RANGE",function(F,l,f){let V=`The value of "${F}" is out of range.`,X=f;return Number.isInteger(f)&&Math.abs(f)>2**32?X=Ye(String(f)):"bigint"==typeof f&&(X=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(X=Ye(X)),X+="n"),V+=` It must be ${l}. Received ${X}`,V},RangeError);const je=/[^+/0-9A-Za-z-_]/g;function W(F,l){let f;l=l||1/0;const V=F.length;let X=null;const fe=[];for(let Ce=0;Ce<V;++Ce){if(f=F.charCodeAt(Ce),f>55295&&f<57344){if(!X){if(f>56319){(l-=3)>-1&&fe.push(239,191,189);continue}if(Ce+1===V){(l-=3)>-1&&fe.push(239,191,189);continue}X=f;continue}if(f<56320){(l-=3)>-1&&fe.push(239,191,189),X=f;continue}f=65536+(X-55296<<10|f-56320)}else X&&(l-=3)>-1&&fe.push(239,191,189);if(X=null,f<128){if((l-=1)<0)break;fe.push(f)}else if(f<2048){if((l-=2)<0)break;fe.push(f>>6|192,63&f|128)}else if(f<65536){if((l-=3)<0)break;fe.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(f<1114112))throw new Error("Invalid code point");if((l-=4)<0)break;fe.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return fe}function he(F){return b.toByteArray(function se(F){if((F=(F=F.split("=")[0]).trim().replace(je,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(F))}function Be(F,l,f,V){let X;for(X=0;X<V&&!(X+f>=l.length||X>=F.length);++X)l[X+f]=F[X];return X}function Ne(F,l){return F instanceof l||null!=F&&null!=F.constructor&&null!=F.constructor.name&&F.constructor.name===l.name}function Qe(F){return F!=F}const ut=function(){const F="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const V=16*f;for(let X=0;X<16;++X)l[V+X]=F[f]+F[X]}return l}();function qe(F){return typeof BigInt>"u"?ht:F}function ht(){throw new Error("BigInt not supported")}},4626:(Z,A,d)=>{d(3963)},1747:Z=>{"use strict";Z.exports=class extends Error{constructor(d,b){super(d||""),"object"==typeof b&&null!==b&&(b.code&&(this.code=String(b.code)),b.expected&&(this.expected=!0),b.transient&&(this.transient=!0),b.cause&&(this.cause=b.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},3244:Z=>{var A=1e3,d=60*A,b=60*d,S=24*b,R=7*S;function c(w,m,h,_){var g=m>=1.5*h;return Math.round(w/h)+" "+_+(g?"s":"")}Z.exports=function(w,m){m=m||{};var h=typeof w;if("string"===h&&w.length>0)return function P(w){if(!((w=String(w)).length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(m){var h=parseFloat(m[1]);switch((m[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return h*R;case"days":case"day":case"d":return h*S;case"hours":case"hour":case"hrs":case"hr":case"h":return h*b;case"minutes":case"minute":case"mins":case"min":case"m":return h*d;case"seconds":case"second":case"secs":case"sec":case"s":return h*A;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}(w);if("number"===h&&isFinite(w))return m.long?function u(w){var m=Math.abs(w);return m>=S?c(w,m,S,"day"):m>=b?c(w,m,b,"hour"):m>=d?c(w,m,d,"minute"):m>=A?c(w,m,A,"second"):w+" ms"}(w):function y(w){var m=Math.abs(w);return m>=S?Math.round(w/S)+"d":m>=b?Math.round(w/b)+"h":m>=d?Math.round(w/d)+"m":m>=A?Math.round(w/A)+"s":w+"ms"}(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},9150:(Z,A,d)=>{var b="function"==typeof Map&&Map.prototype,S=Object.getOwnPropertyDescriptor&&b?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,R=b&&S&&"function"==typeof S.get?S.get:null,O=b&&Map.prototype.forEach,P="function"==typeof Set&&Set.prototype,y=Object.getOwnPropertyDescriptor&&P?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=P&&y&&"function"==typeof y.get?y.get:null,c=P&&Set.prototype.forEach,m="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,v="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,D=Boolean.prototype.valueOf,T=Object.prototype.toString,E=Function.prototype.toString,N=String.prototype.match,M=String.prototype.slice,k=String.prototype.replace,B=String.prototype.toUpperCase,L=String.prototype.toLowerCase,z=RegExp.prototype.test,Q=Array.prototype.concat,oe=Array.prototype.join,j=Array.prototype.slice,ne=Math.floor,K="function"==typeof BigInt?BigInt.prototype.valueOf:null,te=Object.getOwnPropertySymbols,le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Fe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,J="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,de=Object.prototype.propertyIsEnumerable,Ie=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function($e){return $e.__proto__}:null);function ae($e,Ze){if($e===1/0||$e===-1/0||$e!=$e||$e&&$e>-1e3&&$e<1e3||z.call(/e/,Ze))return Ze;var dt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof $e){var pt=$e<0?-ne(-$e):ne($e);if(pt!==$e){var at=String(pt),xt=M.call(Ze,at.length+1);return k.call(at,dt,"$&_")+"."+k.call(k.call(xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return k.call(Ze,dt,"$&_")}var Ee=d(2634),I=Ee.custom,$=Ke(I)?I:null;function q($e,Ze,dt){var pt="double"===(dt.quoteStyle||Ze)?'"':"'";return pt+$e+pt}function G($e){return k.call(String($e),/"/g,"&quot;")}function re($e){return!("[object Array]"!==se($e)||J&&"object"==typeof $e&&J in $e)}function me($e){return!("[object RegExp]"!==se($e)||J&&"object"==typeof $e&&J in $e)}function Ke($e){if(Fe)return $e&&"object"==typeof $e&&$e instanceof Symbol;if("symbol"==typeof $e)return!0;if(!$e||"object"!=typeof $e||!le)return!1;try{return le.call($e),!0}catch{}return!1}Z.exports=function $e(Ze,dt,pt,at){var xt=dt||{};if(je(xt,"quoteStyle")&&"single"!==xt.quoteStyle&&"double"!==xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(je(xt,"maxStringLength")&&("number"==typeof xt.maxStringLength?xt.maxStringLength<0&&xt.maxStringLength!==1/0:null!==xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Bn=!je(xt,"customInspect")||xt.customInspect;if("boolean"!=typeof Bn&&"symbol"!==Bn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(je(xt,"indent")&&null!==xt.indent&&"\t"!==xt.indent&&!(parseInt(xt.indent,10)===xt.indent&&xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(je(xt,"numericSeparator")&&"boolean"!=typeof xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Sn=xt.numericSeparator;if(typeof Ze>"u")return"undefined";if(null===Ze)return"null";if("boolean"==typeof Ze)return Ze?"true":"false";if("string"==typeof Ze)return qe(Ze,xt);if("number"==typeof Ze){if(0===Ze)return 1/0/Ze>0?"0":"-0";var _n=String(Ze);return Sn?ae(Ze,_n):_n}if("bigint"==typeof Ze){var An=String(Ze)+"n";return Sn?ae(Ze,An):An}var Hn=typeof xt.depth>"u"?5:xt.depth;if(typeof pt>"u"&&(pt=0),pt>=Hn&&Hn>0&&"object"==typeof Ze)return re(Ze)?"[Array]":"[Object]";var Y=function X($e,Ze){var dt;if("\t"===$e.indent)dt="\t";else{if(!("number"==typeof $e.indent&&$e.indent>0))return null;dt=oe.call(Array($e.indent+1)," ")}return{base:dt,prev:oe.call(Array(Ze+1),dt)}}(xt,pt);if(typeof at>"u")at=[];else if(ee(at,Ze)>=0)return"[Circular]";function be($t,hn,kn){if(hn&&(at=j.call(at)).push(hn),kn){var yn={depth:xt.depth};return je(xt,"quoteStyle")&&(yn.quoteStyle=xt.quoteStyle),$e($t,yn,pt+1,at)}return $e($t,xt,pt+1,at)}if("function"==typeof Ze&&!me(Ze)){var we=function W($e){if($e.name)return $e.name;var Ze=N.call(E.call($e),/^function\s*([\w$]+)/);return Ze?Ze[1]:null}(Ze),Te=Ce(Ze,be);return"[Function"+(we?": "+we:" (anonymous)")+"]"+(Te.length>0?" { "+oe.call(Te,", ")+" }":"")}if(Ke(Ze)){var ze=Fe?k.call(String(Ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):le.call(Ze);return"object"!=typeof Ze||Fe?ze:F(ze)}if(function ut($e){return!(!$e||"object"!=typeof $e)&&(typeof HTMLElement<"u"&&$e instanceof HTMLElement||"string"==typeof $e.nodeName&&"function"==typeof $e.getAttribute)}(Ze)){for(var ct="<"+L.call(String(Ze.nodeName)),ve=Ze.attributes||[],Oe=0;Oe<ve.length;Oe++)ct+=" "+ve[Oe].name+"="+q(G(ve[Oe].value),"double",xt);return ct+=">",Ze.childNodes&&Ze.childNodes.length&&(ct+="..."),ct+"</"+L.call(String(Ze.nodeName))+">"}if(re(Ze)){if(0===Ze.length)return"[]";var xe=Ce(Ze,be);return Y&&!function V($e){for(var Ze=0;Ze<$e.length;Ze++)if(ee($e[Ze],"\n")>=0)return!1;return!0}(xe)?"["+fe(xe,Y)+"]":"[ "+oe.call(xe,", ")+" ]"}if(function Me($e){return!("[object Error]"!==se($e)||J&&"object"==typeof $e&&J in $e)}(Ze)){var _e=Ce(Ze,be);return"cause"in Error.prototype||!("cause"in Ze)||de.call(Ze,"cause")?0===_e.length?"["+String(Ze)+"]":"{ ["+String(Ze)+"] "+oe.call(_e,", ")+" }":"{ ["+String(Ze)+"] "+oe.call(Q.call("[cause]: "+be(Ze.cause),_e),", ")+" }"}if("object"==typeof Ze&&Bn){if($&&"function"==typeof Ze[$]&&Ee)return Ee(Ze,{depth:Hn-pt});if("symbol"!==Bn&&"function"==typeof Ze.inspect)return Ze.inspect()}if(function ke($e){if(!R||!$e||"object"!=typeof $e)return!1;try{R.call($e);try{u.call($e)}catch{return!0}return $e instanceof Map}catch{}return!1}(Ze)){var Ve=[];return O&&O.call(Ze,function($t,hn){Ve.push(be(hn,Ze,!0)+" => "+be($t,Ze))}),f("Map",R.call(Ze),Ve,Y)}if(function Ne($e){if(!u||!$e||"object"!=typeof $e)return!1;try{u.call($e);try{R.call($e)}catch{return!0}return $e instanceof Set}catch{}return!1}(Ze)){var tt=[];return c&&c.call(Ze,function($t){tt.push(be($t,Ze))}),f("Set",u.call(Ze),tt,Y)}if(function he($e){if(!m||!$e||"object"!=typeof $e)return!1;try{m.call($e,m);try{_.call($e,_)}catch{return!0}return $e instanceof WeakMap}catch{}return!1}(Ze))return l("WeakMap");if(function Qe($e){if(!_||!$e||"object"!=typeof $e)return!1;try{_.call($e,_);try{m.call($e,m)}catch{return!0}return $e instanceof WeakSet}catch{}return!1}(Ze))return l("WeakSet");if(function Be($e){if(!v||!$e||"object"!=typeof $e)return!1;try{return v.call($e),!0}catch{}return!1}(Ze))return l("WeakRef");if(function Ye($e){return!("[object Number]"!==se($e)||J&&"object"==typeof $e&&J in $e)}(Ze))return F(be(Number(Ze)));if(function Ge($e){if(!$e||"object"!=typeof $e||!K)return!1;try{return K.call($e),!0}catch{}return!1}(Ze))return F(be(K.call(Ze)));if(function gt($e){return!("[object Boolean]"!==se($e)||J&&"object"==typeof $e&&J in $e)}(Ze))return F(D.call(Ze));if(function Se($e){return!("[object String]"!==se($e)||J&&"object"==typeof $e&&J in $e)}(Ze))return F(be(String(Ze)));if(typeof window<"u"&&Ze===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ze===globalThis||typeof globalThis<"u"&&Ze===globalThis)return"{ [object globalThis] }";if(!function ye($e){return!("[object Date]"!==se($e)||J&&"object"==typeof $e&&J in $e)}(Ze)&&!me(Ze)){var it=Ce(Ze,be),vt=Ie?Ie(Ze)===Object.prototype:Ze instanceof Object||Ze.constructor===Object,Mt=Ze instanceof Object?"":"null prototype",Lt=!vt&&J&&Object(Ze)===Ze&&J in Ze?M.call(se(Ze),8,-1):Mt?"Object":"",on=(vt||"function"!=typeof Ze.constructor?"":Ze.constructor.name?Ze.constructor.name+" ":"")+(Lt||Mt?"["+oe.call(Q.call([],Lt||[],Mt||[]),": ")+"] ":"");return 0===it.length?on+"{}":Y?on+"{"+fe(it,Y)+"}":on+"{ "+oe.call(it,", ")+" }"}return String(Ze)};var Ae=Object.prototype.hasOwnProperty||function($e){return $e in this};function je($e,Ze){return Ae.call($e,Ze)}function se($e){return T.call($e)}function ee($e,Ze){if($e.indexOf)return $e.indexOf(Ze);for(var dt=0,pt=$e.length;dt<pt;dt++)if($e[dt]===Ze)return dt;return-1}function qe($e,Ze){if($e.length>Ze.maxStringLength){var dt=$e.length-Ze.maxStringLength,pt="... "+dt+" more character"+(dt>1?"s":"");return qe(M.call($e,0,Ze.maxStringLength),Ze)+pt}return q(k.call(k.call($e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ht),"single",Ze)}function ht($e){var Ze=$e.charCodeAt(0),dt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ze];return dt?"\\"+dt:"\\x"+(Ze<16?"0":"")+B.call(Ze.toString(16))}function F($e){return"Object("+$e+")"}function l($e){return $e+" { ? }"}function f($e,Ze,dt,pt){return $e+" ("+Ze+") {"+(pt?fe(dt,pt):oe.call(dt,", "))+"}"}function fe($e,Ze){if(0===$e.length)return"";var dt="\n"+Ze.prev+Ze.base;return dt+oe.call($e,","+dt)+"\n"+Ze.prev}function Ce($e,Ze){var dt=re($e),pt=[];if(dt){pt.length=$e.length;for(var at=0;at<$e.length;at++)pt[at]=je($e,at)?Ze($e[at],$e):""}var Bn,xt="function"==typeof te?te($e):[];if(Fe){Bn={};for(var Sn=0;Sn<xt.length;Sn++)Bn["$"+xt[Sn]]=xt[Sn]}for(var _n in $e)je($e,_n)&&(dt&&String(Number(_n))===_n&&_n<$e.length||Fe&&Bn["$"+_n]instanceof Symbol||(z.call(/[^\w$]/,_n)?pt.push(Ze(_n,$e)+": "+Ze($e[_n],$e)):pt.push(_n+": "+Ze($e[_n],$e))));if("function"==typeof te)for(var An=0;An<xt.length;An++)de.call($e,xt[An])&&pt.push("["+Ze(xt[An])+"]: "+Ze($e[xt[An]],$e));return pt}},366:(Z,A,d)=>{"use strict";var b;if(!Object.keys){var S=Object.prototype.hasOwnProperty,R=Object.prototype.toString,O=d(1050),P=Object.prototype.propertyIsEnumerable,y=!P.call({toString:null},"toString"),u=P.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(g){var v=g.constructor;return v&&v.prototype===g},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if(typeof window>"u")return!1;for(var g in window)try{if(!m["$"+g]&&S.call(window,g)&&null!==window[g]&&"object"==typeof window[g])try{w(window[g])}catch{return!0}}catch{return!0}return!1}();b=function(v){var D=null!==v&&"object"==typeof v,T="[object Function]"===R.call(v),E=O(v),N=D&&"[object String]"===R.call(v),M=[];if(!D&&!T&&!E)throw new TypeError("Object.keys called on a non-object");var k=u&&T;if(N&&v.length>0&&!S.call(v,0))for(var B=0;B<v.length;++B)M.push(String(B));if(E&&v.length>0)for(var L=0;L<v.length;++L)M.push(String(L));else for(var z in v)(!k||"prototype"!==z)&&S.call(v,z)&&M.push(String(z));if(y)for(var Q=function(g){if(typeof window>"u"||!h)return w(g);try{return w(g)}catch{return!1}}(v),oe=0;oe<c.length;++oe)(!Q||"constructor"!==c[oe])&&S.call(v,c[oe])&&M.push(c[oe]);return M}}Z.exports=b},4934:(Z,A,d)=>{"use strict";var b=Array.prototype.slice,S=d(1050),R=Object.keys,O=R?function(u){return R(u)}:d(366),P=Object.keys;O.shim=function(){if(Object.keys){var u=function(){var c=Object.keys(arguments);return c&&c.length===arguments.length}(1,2);u||(Object.keys=function(w){return S(w)?P(b.call(w)):P(w)})}else Object.keys=O;return Object.keys||O},Z.exports=O},1050:Z=>{"use strict";var A=Object.prototype.toString;Z.exports=function(b){var S=A.call(b),R="[object Arguments]"===S;return R||(R="[object Array]"!==S&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&"[object Function]"===A.call(b.callee)),R}},573:Z=>{var d,b,A=Z.exports={};function S(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}function O(v){if(d===setTimeout)return setTimeout(v,0);if((d===S||!d)&&setTimeout)return d=setTimeout,setTimeout(v,0);try{return d(v,0)}catch{try{return d.call(null,v,0)}catch{return d.call(this,v,0)}}}!function(){try{d="function"==typeof setTimeout?setTimeout:S}catch{d=S}try{b="function"==typeof clearTimeout?clearTimeout:R}catch{b=R}}();var c,y=[],u=!1,w=-1;function m(){!u||!c||(u=!1,c.length?y=c.concat(y):w=-1,y.length&&h())}function h(){if(!u){var v=O(m);u=!0;for(var D=y.length;D;){for(c=y,y=[];++w<D;)c&&c[w].run();w=-1,D=y.length}c=null,u=!1,function P(v){if(b===clearTimeout)return clearTimeout(v);if((b===R||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(v);try{return b(v)}catch{try{return b.call(null,v)}catch{return b.call(this,v)}}}(v)}}function _(v,D){this.fun=v,this.array=D}function g(){}A.nextTick=function(v){var D=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)D[T-1]=arguments[T];y.push(new _(v,D)),1===y.length&&!u&&O(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=g,A.addListener=g,A.once=g,A.off=g,A.removeListener=g,A.removeAllListeners=g,A.emit=g,A.prependListener=g,A.prependOnceListener=g,A.listeners=function(v){return[]},A.binding=function(v){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(v){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},4515:Z=>{let A;Z.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):d=>(A||(A=Promise.resolve())).then(d).catch(b=>setTimeout(()=>{throw b},0))},2364:(Z,A,d)=>{"use strict";var b=d(6469),S=d(6758),R=Object;Z.exports=b(function(){if(null==this||this!==R(this))throw new S("RegExp.prototype.flags getter called on non-object");var P="";return this.hasIndices&&(P+="d"),this.global&&(P+="g"),this.ignoreCase&&(P+="i"),this.multiline&&(P+="m"),this.dotAll&&(P+="s"),this.unicode&&(P+="u"),this.unicodeSets&&(P+="v"),this.sticky&&(P+="y"),P},"get flags",!0)},5864:(Z,A,d)=>{"use strict";var b=d(947),S=d(8128),R=d(2364),O=d(5209),P=d(8871),y=S(O());b(y,{getPolyfill:O,implementation:R,shim:P}),Z.exports=y},5209:(Z,A,d)=>{"use strict";var b=d(2364),S=d(947).supportsDescriptors,R=Object.getOwnPropertyDescriptor;Z.exports=function(){if(S&&"gim"===/a/gim.flags){var P=R(RegExp.prototype,"flags");if(P&&"function"==typeof P.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var y="",u={};if(Object.defineProperty(u,"hasIndices",{get:function(){y+="d"}}),Object.defineProperty(u,"sticky",{get:function(){y+="y"}}),P.get.call(u),"dy"===y)return P.get}}return b}},8871:(Z,A,d)=>{"use strict";var b=d(947).supportsDescriptors,S=d(5209),R=Object.getOwnPropertyDescriptor,O=Object.defineProperty,P=TypeError,y=Object.getPrototypeOf,u=/a/;Z.exports=function(){if(!b||!y)throw new P("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var w=S(),m=y(u),h=R(m,"flags");return(!h||h.get!==w)&&O(m,"flags",{configurable:!0,enumerable:!1,get:w}),w}},1725:(Z,A,d)=>{Z.exports=function S(R,O,P){if("number"!=typeof O)throw new Error("second argument must be a Number");let y,u,c,w,m,_,h=!0;function g(D){function T(){P&&P(D,y),P=null}h?b(T):T()}function v(D,T,E){if(y[D]=E,T&&(m=!0),0==--c||T)g(T);else if(!m&&_<u){let N;w?(N=w[_],_+=1,R[N](function(M,k){v(N,M,k)})):(N=_,_+=1,R[N](function(M,k){v(N,M,k)}))}}Array.isArray(R)?(y=[],c=u=R.length):(w=Object.keys(R),y={},c=u=w.length),_=O,c?w?w.some(function(D,T){return R[D](function(E,N){v(D,E,N)}),T===O-1}):R.some(function(D,T){return D(function(E,N){v(T,E,N)}),T===O-1}):g(null),h=!1};const b=d(4515)},7054:(Z,A,d)=>{var b=d(3838),S=b.Buffer;function R(P,y){for(var u in P)y[u]=P[u]}function O(P,y,u){return S(P,y,u)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?Z.exports=b:(R(b,A),A.Buffer=O),O.prototype=Object.create(S.prototype),R(S,O),O.from=function(P,y,u){if("number"==typeof P)throw new TypeError("Argument must not be a number");return S(P,y,u)},O.alloc=function(P,y,u){if("number"!=typeof P)throw new TypeError("Argument must be a number");var c=S(P);return void 0!==y?"string"==typeof u?c.fill(y,u):c.fill(y):c.fill(0),c},O.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return S(P)},O.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return b.SlowBuffer(P)}},5202:(Z,A,d)=>{"use strict";var b=d(3020),S=d(3290),R=b("RegExp.prototype.exec"),O=d(6758);Z.exports=function(y){if(!S(y))throw new O("`regex` must be a RegExp");return function(c){return null!==R(y,c)}}},1358:(Z,A,d)=>{"use strict";var b=d(7877),S=d(2736),R=d(5861)(),O=d(3798),P=d(6758),y=b("%Math.floor%");Z.exports=function(c,w){if("function"!=typeof c)throw new P("`fn` is not a function");if("number"!=typeof w||w<0||w>4294967295||y(w)!==w)throw new P("`length` must be a positive 32-bit integer");var m=arguments.length>2&&!!arguments[2],h=!0,_=!0;if("length"in c&&O){var g=O(c,"length");g&&!g.configurable&&(h=!1),g&&!g.writable&&(_=!1)}return(h||_||!m)&&(R?S(c,"length",w,!0,!0):S(c,"length",w)),c}},6469:(Z,A,d)=>{"use strict";var b=d(2736),S=d(5861)(),R=d(4003).functionsHaveConfigurableNames(),O=d(6758);Z.exports=function(y,u){if("function"!=typeof y)throw new O("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||R)&&(S?b(y,"name",u,!0,!0):b(y,"name",u)),y}},3541:(Z,A,d)=>{"use strict";var b=d(7877),S=d(3020),R=d(9150),O=d(6758),P=b("%WeakMap%",!0),y=b("%Map%",!0),u=S("WeakMap.prototype.get",!0),c=S("WeakMap.prototype.set",!0),w=S("WeakMap.prototype.has",!0),m=S("Map.prototype.get",!0),h=S("Map.prototype.set",!0),_=S("Map.prototype.has",!0),g=function(E,N){for(var k,M=E;null!==(k=M.next);M=k)if(k.key===N)return M.next=k.next,k.next=E.next,E.next=k,k};Z.exports=function(){var N,M,k,B={assert:function(L){if(!B.has(L))throw new O("Side channel does not contain "+R(L))},get:function(L){if(P&&L&&("object"==typeof L||"function"==typeof L)){if(N)return u(N,L)}else if(y){if(M)return m(M,L)}else if(k)return function(E,N){var M=g(E,N);return M&&M.value}(k,L)},has:function(L){if(P&&L&&("object"==typeof L||"function"==typeof L)){if(N)return w(N,L)}else if(y){if(M)return _(M,L)}else if(k)return function(E,N){return!!g(E,N)}(k,L);return!1},set:function(L,z){P&&L&&("object"==typeof L||"function"==typeof L)?(N||(N=new P),c(N,L,z)):y?(M||(M=new y),h(M,L,z)):(k||(k={key:{},next:null}),function(E,N,M){var k=g(E,N);k?k.value=M:E.next={key:N,next:E.next,value:M}}(k,L,z))}};return B}},8911:(Z,A,d)=>{var b=d(6096).cM;Z.exports=function(S,R){R||(R={});var O={},P=function y(u,c){if("Literal"===u.type)return u.value;if("UnaryExpression"===u.type){var w=y(u.argument);return"+"===u.operator?+w:"-"===u.operator?-w:"~"===u.operator?~w:"!"===u.operator?!w:O}if("ArrayExpression"===u.type){for(var m=[],h=0,_=u.elements.length;h<_;h++){if((g=y(u.elements[h]))===O)return O;m.push(g)}return m}if("ObjectExpression"===u.type){var v={};for(h=0;h<u.properties.length;h++){var T=null===(D=u.properties[h]).value?D.value:y(D.value);if(T===O)return O;v[D.key.value||D.key.name]=T}return v}if("BinaryExpression"===u.type||"LogicalExpression"===u.type){if((_=y(u.left))===O)return O;var E=y(u.right);if(E===O)return O;var N=u.operator;return"=="===N?_==E:"==="===N?_===E:"!="===N?_!=E:"!=="===N?_!==E:"+"===N?_+E:"-"===N?_-E:"*"===N?_*E:"/"===N?_/E:"%"===N?_%E:"<"===N?_<E:"<="===N?_<=E:">"===N?_>E:">="===N?_>=E:"|"===N?_|E:"&"===N?_&E:"^"===N?_^E:"&&"===N?_&&E:"||"===N?_||E:O}if("Identifier"===u.type)return{}.hasOwnProperty.call(R,u.name)?R[u.name]:O;if("ThisExpression"===u.type)return{}.hasOwnProperty.call(R,"this")?R.this:O;if("CallExpression"===u.type){var M=y(u.callee);if(M===O||"function"!=typeof M)return O;var k=u.callee.object?y(u.callee.object):O;k===O&&(k=null);var B=[];for(h=0,_=u.arguments.length;h<_;h++){var g;if((g=y(u.arguments[h]))===O)return O;B.push(g)}return M.apply(k,B)}var D;if("MemberExpression"===u.type)return(v=y(u.object))===O||"function"==typeof v?O:"Identifier"===u.property.type?v[u.property.name]:(D=y(u.property))===O?O:v[D];if("ConditionalExpression"===u.type)return(w=y(u.test))===O?O:y(w?u.consequent:u.alternate);if("ExpressionStatement"===u.type)return(w=y(u.expression))===O?O:w;if("ReturnStatement"===u.type)return y(u.argument);if("FunctionExpression"===u.type){var L=u.body.body,z={};for(Object.keys(R).forEach(function(J){z[J]=R[J]}),h=0;h<u.params.length;h++){var Q=u.params[h];if("Identifier"!=Q.type)return O;R[Q.name]=null}for(var h in L)if(y(L[h])===O)return O;R=z;var oe=Object.keys(R),j=oe.map(function(J){return R[J]});return Function(oe.join(", "),"return "+b(u)).apply(null,j)}if("TemplateLiteral"===u.type){var ne="";for(h=0;h<u.expressions.length;h++)ne+=y(u.quasis[h]),ne+=y(u.expressions[h]);return ne+y(u.quasis[h])}if("TaggedTemplateExpression"===u.type){var K=y(u.tag),te=u.quasi,le=te.quasis.map(y),Fe=te.expressions.map(y);return K.apply(null,[le].concat(Fe))}return"TemplateElement"===u.type?u.value.cooked:O}(S);return P===O?void 0:P}},571:(Z,A,d)=>{"use strict";var b=d(8683),S=d(8527),R=d(3602),O=d(4706),P=d(8535),y=d(4813),u=d(3020),c=d(9900)(),w=d(5864),m=d(7877),h=d(6758),_=m("%RegExp%"),g=u("String.prototype.indexOf"),v=d(3995),D=function(E){var N=v();if(c&&"symbol"==typeof Symbol.matchAll){var M=R(E,Symbol.matchAll);return M===_.prototype[Symbol.matchAll]&&M!==N?N:M}if(O(E))return N};Z.exports=function(E){var N=y(this);if(typeof E<"u"&&null!==E){if(O(E)){var k="flags"in E?S(E,"flags"):w(E);if(y(k),g(P(k),"g")<0)throw new h("matchAll requires a global regular expression")}var B=D(E);if(typeof B<"u")return b(B,E,[N])}var L=P(N),z=new _(E,"g");return b(D(z),z,[L])}},2373:(Z,A,d)=>{"use strict";var b=d(8128),S=d(947),R=d(571),O=d(82),P=d(928),y=b(R);S(y,{getPolyfill:O,implementation:R,shim:P}),Z.exports=y},3995:(Z,A,d)=>{"use strict";var b=d(9900)(),S=d(8153);Z.exports=function(){return b&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:S}},82:(Z,A,d)=>{"use strict";var b=d(571);Z.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return b}},8153:(Z,A,d)=>{"use strict";var b=d(7045),S=d(8527),R=d(2459),O=d(149),P=d(1382),y=d(8535),u=d(35),c=d(5864),w=d(6469),m=d(3020),h=d(7877),_=d(6758),g=m("String.prototype.indexOf"),v=h("%RegExp%"),D="flags"in v.prototype,E=w(function(M){var k=this;if("Object"!==u(k))throw new _('"this" value must be an Object');var B=y(M),z=function(M,k){var L="flags"in k?S(k,"flags"):y(c(k));return{flags:L,matcher:new M(D&&"string"==typeof L?k:M===v?k.source:k,L)}}(O(k,v),k),Q=z.flags,oe=z.matcher,j=P(S(k,"lastIndex"));R(oe,"lastIndex",j,!0);var ne=g(Q,"g")>-1,K=g(Q,"u")>-1;return b(oe,B,ne,K)},"[Symbol.matchAll]",!0);Z.exports=E},928:(Z,A,d)=>{"use strict";var b=d(947),S=d(9900)(),R=d(3798),O=d(82),P=d(3995),y=Object.defineProperty;Z.exports=function(){var c=O();if(b(String.prototype,{matchAll:c},{matchAll:function(){return String.prototype.matchAll!==c}}),S){var w=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(b(Symbol,{matchAll:w},{matchAll:function(){return Symbol.matchAll!==w}}),y&&R){var m=R(Symbol,w);(!m||m.configurable)&&y(Symbol,w,{configurable:!1,enumerable:!1,value:w,writable:!1})}var h=P(),_={};_[w]=h;var g={};g[w]=function(){return RegExp.prototype[w]!==h},b(RegExp.prototype,_,g)}return c}},343:(Z,A,d)=>{"use strict";var b=d(4813),S=d(8535),O=d(3020)("String.prototype.replace"),P=/^\s$/.test("\u180e"),y=P?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=P?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;Z.exports=function(){var w=S(b(this));return O(O(w,y,""),u,"")}},6913:(Z,A,d)=>{"use strict";var b=d(8128),S=d(947),R=d(4813),O=d(343),P=d(2054),y=d(8452),u=b(P()),c=function(m){return R(m),u(m)};S(c,{getPolyfill:P,implementation:O,shim:y}),Z.exports=c},2054:(Z,A,d)=>{"use strict";var b=d(343);Z.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:b}},8452:(Z,A,d)=>{"use strict";var b=d(947),S=d(2054);Z.exports=function(){var O=S();return b(String.prototype,{trim:O},{trim:function(){return String.prototype.trim!==O}}),O}},8454:(Z,A,d)=>{"use strict";var b=d(7054).Buffer,S=b.isEncoding||function(N){switch((N=""+N)&&N.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function P(N){var M;switch(this.encoding=function O(N){var M=function R(N){if(!N)return"utf8";for(var M;;)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(M)return;N=(""+N).toLowerCase(),M=!0}}(N);if("string"!=typeof M&&(b.isEncoding===S||!S(N)))throw new Error("Unknown encoding: "+N);return M||N}(N),this.encoding){case"utf16le":this.text=_,this.end=g,M=4;break;case"utf8":this.fillLast=w,M=4;break;case"base64":this.text=v,this.end=D,M=3;break;default:return this.write=T,void(this.end=E)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(M)}function y(N){return N<=127?0:N>>5==6?2:N>>4==14?3:N>>3==30?4:N>>6==2?-1:-2}function w(N){var M=this.lastTotal-this.lastNeed,k=function c(N,M){if(128!=(192&M[0]))return N.lastNeed=0,"\ufffd";if(N.lastNeed>1&&M.length>1){if(128!=(192&M[1]))return N.lastNeed=1,"\ufffd";if(N.lastNeed>2&&M.length>2&&128!=(192&M[2]))return N.lastNeed=2,"\ufffd"}}(this,N);return void 0!==k?k:this.lastNeed<=N.length?(N.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(N.copy(this.lastChar,M,0,N.length),void(this.lastNeed-=N.length))}function _(N,M){if((N.length-M)%2==0){var k=N.toString("utf16le",M);if(k){var B=k.charCodeAt(k.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=N[N.length-1],N.toString("utf16le",M,N.length-1)}function g(N){var M=N&&N.length?this.write(N):"";return this.lastNeed?M+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):M}function v(N,M){var k=(N.length-M)%3;return 0===k?N.toString("base64",M):(this.lastNeed=3-k,this.lastTotal=3,1===k?this.lastChar[0]=N[N.length-1]:(this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1]),N.toString("base64",M,N.length-k))}function D(N){var M=N&&N.length?this.write(N):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function T(N){return N.toString(this.encoding)}function E(N){return N&&N.length?this.write(N):""}A.StringDecoder=P,P.prototype.write=function(N){if(0===N.length)return"";var M,k;if(this.lastNeed){if(void 0===(M=this.fillLast(N)))return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<N.length?M?M+this.text(N,k):this.text(N,k):M||""},P.prototype.end=function h(N){var M=N&&N.length?this.write(N):"";return this.lastNeed?M+"\ufffd":M},P.prototype.text=function m(N,M){var k=function u(N,M,k){var B=M.length-1;if(B<k)return 0;var L=y(M[B]);return L>=0?(L>0&&(N.lastNeed=L-1),L):--B<k||-2===L?0:(L=y(M[B]))>=0?(L>0&&(N.lastNeed=L-2),L):--B<k||-2===L?0:(L=y(M[B]))>=0?(L>0&&(2===L?L=0:N.lastNeed=L-3),L):0}(this,N,M);if(!this.lastNeed)return N.toString("utf8",M);this.lastTotal=k;var B=N.length-(k-this.lastNeed);return N.copy(this.lastChar,0,B),N.toString("utf8",M,B)},P.prototype.fillLast=function(N){if(this.lastNeed<=N.length)return N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,N.length),this.lastNeed-=N.length}},5568:function(Z,A){!function(d){"use strict";function b(){for(var xe=arguments.length,_e=Array(xe),Ve=0;Ve<xe;Ve++)_e[Ve]=arguments[Ve];if(_e.length>1){_e[0]=_e[0].slice(0,-1);for(var tt=_e.length-1,it=1;it<tt;++it)_e[it]=_e[it].slice(1,-1);return _e[tt]=_e[tt].slice(1),_e.join("")}return _e[0]}function S(xe){return"(?:"+xe+")"}function R(xe){return void 0===xe?"undefined":null===xe?"null":Object.prototype.toString.call(xe).split(" ").pop().split("]").shift().toLowerCase()}function O(xe){return xe.toUpperCase()}function u(xe){var _e="[A-Za-z]",tt="[0-9]",vt=b(tt,"[A-Fa-f]"),lt=S(S("%[EFef]"+vt+"%"+vt+vt+"%"+vt+vt)+"|"+S("%[89A-Fa-f]"+vt+"%"+vt+vt)+"|"+S("%"+vt+vt)),$t="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",hn=b("[\\:\\/\\?\\#\\[\\]\\@]",$t),yn=xe?"[\\uE000-\\uF8FF]":"[]",Xt=b(_e,tt,"[\\-\\.\\_\\~]",xe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),tn=S(_e+b(_e,tt,"[\\+\\-\\.]")+"*"),Wt=S(S(lt+"|"+b(Xt,$t,"[\\:]"))+"*"),ur=(S(S("25[0-5]")+"|"+S("2[0-4]"+tt)+"|"+S("1"+tt+tt)+"|"+S("[1-9]"+tt)+"|"+tt),S(S("25[0-5]")+"|"+S("2[0-4]"+tt)+"|"+S("1"+tt+tt)+"|"+S("0?[1-9]"+tt)+"|0?0?"+tt)),xr=S(ur+"\\."+ur+"\\."+ur+"\\."+ur),Cn=S(vt+"{1,4}"),ar=S(S(Cn+"\\:"+Cn)+"|"+xr),yi=S(S(Cn+"\\:")+"{6}"+ar),un=S("\\:\\:"+S(Cn+"\\:")+"{5}"+ar),wr=S(S(Cn)+"?\\:\\:"+S(Cn+"\\:")+"{4}"+ar),vi=S(S(S(Cn+"\\:")+"{0,1}"+Cn)+"?\\:\\:"+S(Cn+"\\:")+"{3}"+ar),cn=S(S(S(Cn+"\\:")+"{0,2}"+Cn)+"?\\:\\:"+S(Cn+"\\:")+"{2}"+ar),Us=S(S(S(Cn+"\\:")+"{0,3}"+Cn)+"?\\:\\:"+Cn+"\\:"+ar),Jn=S(S(S(Cn+"\\:")+"{0,4}"+Cn)+"?\\:\\:"+ar),Xr=S(S(S(Cn+"\\:")+"{0,5}"+Cn)+"?\\:\\:"+Cn),Vs=S(S(S(Cn+"\\:")+"{0,6}"+Cn)+"?\\:\\:"),Ci=S([yi,un,wr,vi,cn,Us,Jn,Xr,Vs].join("|")),Ii=S(S(Xt+"|"+lt)+"+"),Mn=(S(Ci+"\\%25"+Ii),S(Ci+S("\\%25|\\%(?!"+vt+"{2})")+Ii)),Qr=S("[vV]"+vt+"+\\."+b(Xt,$t,"[\\:]")+"+"),Ec=S("\\["+S(Mn+"|"+Ci+"|"+Qr)+"\\]"),Oa=S(S(lt+"|"+b(Xt,$t))+"*"),zi=S(Ec+"|"+xr+"(?!"+Oa+")|"+Oa),Lr=S(tt+"*"),fo=S(S(Wt+"@")+"?"+zi+S("\\:"+Lr)+"?"),Ki=S(lt+"|"+b(Xt,$t,"[\\:\\@]")),Es=S(Ki+"*"),Hs=S(Ki+"+"),vu=S(S(lt+"|"+b(Xt,$t,"[\\@]"))+"+"),xi=S(S("\\/"+Es)+"*"),bs=S("\\/"+S(Hs+xi)+"?"),zs=S(vu+xi),Er=S(Hs+xi),Bt="(?!"+Ki+")",Ds=(S(xi+"|"+bs+"|"+zs+"|"+Er+"|"+Bt),S(S(Ki+"|"+b("[\\/\\?]",yn))+"*")),Ti=S(S(Ki+"|[\\/\\?]")+"*"),fr=S(S("\\/\\/"+fo+xi)+"|"+bs+"|"+Er+"|"+Bt),qo=S(tn+"\\:"+fr+S("\\?"+Ds)+"?"+S("\\#"+Ti)+"?"),H=S(S("\\/\\/"+fo+xi)+"|"+bs+"|"+zs+"|"+Bt),ie=S(H+S("\\?"+Ds)+"?"+S("\\#"+Ti)+"?");return S(qo+"|"+ie),S(tn+"\\:"+fr+S("\\?"+Ds)+"?"),S(S("\\/\\/("+S("("+Wt+")@")+"?("+zi+")"+S("\\:("+Lr+")")+"?)")+"?("+xi+"|"+bs+"|"+Er+"|"+Bt+")"),S("\\?("+Ds+")"),S("\\#("+Ti+")"),S(S("\\/\\/("+S("("+Wt+")@")+"?("+zi+")"+S("\\:("+Lr+")")+"?)")+"?("+xi+"|"+bs+"|"+zs+"|"+Bt+")"),S("\\?("+Ds+")"),S("\\#("+Ti+")"),S(S("\\/\\/("+S("("+Wt+")@")+"?("+zi+")"+S("\\:("+Lr+")")+"?)")+"?("+xi+"|"+bs+"|"+Er+"|"+Bt+")"),S("\\?("+Ds+")"),S("\\#("+Ti+")"),S("("+Wt+")@"),S("\\:("+Lr+")"),{NOT_SCHEME:new RegExp(b("[^]",_e,tt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(b("[^\\%\\:]",Xt,$t),"g"),NOT_HOST:new RegExp(b("[^\\%\\[\\]\\:]",Xt,$t),"g"),NOT_PATH:new RegExp(b("[^\\%\\/\\:\\@]",Xt,$t),"g"),NOT_PATH_NOSCHEME:new RegExp(b("[^\\%\\/\\@]",Xt,$t),"g"),NOT_QUERY:new RegExp(b("[^\\%]",Xt,$t,"[\\:\\@\\/\\?]",yn),"g"),NOT_FRAGMENT:new RegExp(b("[^\\%]",Xt,$t,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(b("[^]",Xt,$t),"g"),UNRESERVED:new RegExp(Xt,"g"),OTHER_CHARS:new RegExp(b("[^\\%]",Xt,hn),"g"),PCT_ENCODED:new RegExp(lt,"g"),IPV4ADDRESS:new RegExp("^("+xr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ci+")"+S(S("\\%25|\\%(?!"+vt+"{2})")+"("+Ii+")")+"?\\]?$")}}var c=u(!1),w=u(!0),m=function(){return function(_e,Ve){if(Array.isArray(_e))return _e;if(Symbol.iterator in Object(_e))return function xe(_e,Ve){var tt=[],it=!0,vt=!1,Mt=void 0;try{for(var lt,Lt=_e[Symbol.iterator]();!(it=(lt=Lt.next()).done)&&(tt.push(lt.value),!Ve||tt.length!==Ve);it=!0);}catch(on){vt=!0,Mt=on}finally{try{!it&&Lt.return&&Lt.return()}finally{if(vt)throw Mt}}return tt}(_e,Ve);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=2147483647,g=36,B=/^xn--/,L=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,Q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=Math.floor,ne=String.fromCharCode;function K(xe){throw new RangeError(Q[xe])}function le(xe,_e){var Ve=xe.split("@"),tt="";return Ve.length>1&&(tt=Ve[0]+"@",xe=Ve[1]),tt+function te(xe,_e){for(var Ve=[],tt=xe.length;tt--;)Ve[tt]=_e(xe[tt]);return Ve}((xe=xe.replace(z,".")).split("."),_e).join(".")}function Fe(xe){for(var _e=[],Ve=0,tt=xe.length;Ve<tt;){var it=xe.charCodeAt(Ve++);if(it>=55296&&it<=56319&&Ve<tt){var vt=xe.charCodeAt(Ve++);56320==(64512&vt)?_e.push(((1023&it)<<10)+(1023&vt)+65536):(_e.push(it),Ve--)}else _e.push(it)}return _e}var de=function(_e){return _e-48<10?_e-22:_e-65<26?_e-65:_e-97<26?_e-97:g},Ie=function(_e,Ve){return _e+22+75*(_e<26)-((0!=Ve)<<5)},ae=function(_e,Ve,tt){var it=0;for(_e=tt?j(_e/700):_e>>1,_e+=j(_e/Ve);_e>455;it+=g)_e=j(_e/35);return j(it+36*_e/(_e+38))},Ee=function(_e){var Ve=[],tt=_e.length,it=0,vt=128,Mt=72,Lt=_e.lastIndexOf("-");Lt<0&&(Lt=0);for(var lt=0;lt<Lt;++lt)_e.charCodeAt(lt)>=128&&K("not-basic"),Ve.push(_e.charCodeAt(lt));for(var on=Lt>0?Lt+1:0;on<tt;){for(var $t=it,hn=1,kn=g;;kn+=g){on>=tt&&K("invalid-input");var yn=de(_e.charCodeAt(on++));(yn>=g||yn>j((_-it)/hn))&&K("overflow"),it+=yn*hn;var Xt=kn<=Mt?1:kn>=Mt+26?26:kn-Mt;if(yn<Xt)break;var tn=g-Xt;hn>j(_/tn)&&K("overflow"),hn*=tn}var Wt=Ve.length+1;Mt=ae(it-$t,Wt,0==$t),j(it/Wt)>_-vt&&K("overflow"),vt+=j(it/Wt),it%=Wt,Ve.splice(it++,0,vt)}return String.fromCodePoint.apply(String,Ve)},I=function(_e){var Ve=[],tt=(_e=Fe(_e)).length,it=128,vt=0,Mt=72,Lt=!0,lt=!1,on=void 0;try{for(var hn,$t=_e[Symbol.iterator]();!(Lt=(hn=$t.next()).done);Lt=!0){var kn=hn.value;kn<128&&Ve.push(ne(kn))}}catch(Mn){lt=!0,on=Mn}finally{try{!Lt&&$t.return&&$t.return()}finally{if(lt)throw on}}var yn=Ve.length,Xt=yn;for(yn&&Ve.push("-");Xt<tt;){var tn=_,Wt=!0,Yr=!1,ur=void 0;try{for(var Cn,xr=_e[Symbol.iterator]();!(Wt=(Cn=xr.next()).done);Wt=!0){var ar=Cn.value;ar>=it&&ar<tn&&(tn=ar)}}catch(Mn){Yr=!0,ur=Mn}finally{try{!Wt&&xr.return&&xr.return()}finally{if(Yr)throw ur}}var yi=Xt+1;tn-it>j((_-vt)/yi)&&K("overflow"),vt+=(tn-it)*yi,it=tn;var un=!0,wr=!1,vi=void 0;try{for(var Us,cn=_e[Symbol.iterator]();!(un=(Us=cn.next()).done);un=!0){var Jn=Us.value;if(Jn<it&&++vt>_&&K("overflow"),Jn==it){for(var Xr=vt,Vs=g;;Vs+=g){var Ci=Vs<=Mt?1:Vs>=Mt+26?26:Vs-Mt;if(Xr<Ci)break;var Ii=Xr-Ci,jt=g-Ci;Ve.push(ne(Ie(Ci+Ii%jt,0))),Xr=j(Ii/jt)}Ve.push(ne(Ie(Xr,0))),Mt=ae(vt,yi,Xt==yn),vt=0,++Xt}}}catch(Mn){wr=!0,vi=Mn}finally{try{!un&&cn.return&&cn.return()}finally{if(wr)throw vi}}++vt,++it}return Ve.join("")},G={version:"2.1.0",ucs2:{decode:Fe,encode:function(_e){return String.fromCodePoint.apply(String,function(xe){if(Array.isArray(xe)){for(var _e=0,Ve=Array(xe.length);_e<xe.length;_e++)Ve[_e]=xe[_e];return Ve}return Array.from(xe)}(_e))}},decode:Ee,encode:I,toASCII:function(_e){return le(_e,function(Ve){return L.test(Ve)?"xn--"+I(Ve):Ve})},toUnicode:function(_e){return le(_e,function(Ve){return B.test(Ve)?Ee(Ve.slice(4).toLowerCase()):Ve})}},re={};function ye(xe){var _e=xe.charCodeAt(0);return _e<16?"%0"+_e.toString(16).toUpperCase():_e<128?"%"+_e.toString(16).toUpperCase():_e<2048?"%"+(_e>>6|192).toString(16).toUpperCase()+"%"+(63&_e|128).toString(16).toUpperCase():"%"+(_e>>12|224).toString(16).toUpperCase()+"%"+(_e>>6&63|128).toString(16).toUpperCase()+"%"+(63&_e|128).toString(16).toUpperCase()}function me(xe){for(var _e="",Ve=0,tt=xe.length;Ve<tt;){var it=parseInt(xe.substr(Ve+1,2),16);if(it<128)_e+=String.fromCharCode(it),Ve+=3;else if(it>=194&&it<224){if(tt-Ve>=6){var vt=parseInt(xe.substr(Ve+4,2),16);_e+=String.fromCharCode((31&it)<<6|63&vt)}else _e+=xe.substr(Ve,6);Ve+=6}else if(it>=224){if(tt-Ve>=9){var Mt=parseInt(xe.substr(Ve+4,2),16),Lt=parseInt(xe.substr(Ve+7,2),16);_e+=String.fromCharCode((15&it)<<12|(63&Mt)<<6|63&Lt)}else _e+=xe.substr(Ve,9);Ve+=9}else _e+=xe.substr(Ve,3),Ve+=3}return _e}function Me(xe,_e){function Ve(tt){var it=me(tt);return it.match(_e.UNRESERVED)?it:tt}return xe.scheme&&(xe.scheme=String(xe.scheme).replace(_e.PCT_ENCODED,Ve).toLowerCase().replace(_e.NOT_SCHEME,"")),void 0!==xe.userinfo&&(xe.userinfo=String(xe.userinfo).replace(_e.PCT_ENCODED,Ve).replace(_e.NOT_USERINFO,ye).replace(_e.PCT_ENCODED,O)),void 0!==xe.host&&(xe.host=String(xe.host).replace(_e.PCT_ENCODED,Ve).toLowerCase().replace(_e.NOT_HOST,ye).replace(_e.PCT_ENCODED,O)),void 0!==xe.path&&(xe.path=String(xe.path).replace(_e.PCT_ENCODED,Ve).replace(xe.scheme?_e.NOT_PATH:_e.NOT_PATH_NOSCHEME,ye).replace(_e.PCT_ENCODED,O)),void 0!==xe.query&&(xe.query=String(xe.query).replace(_e.PCT_ENCODED,Ve).replace(_e.NOT_QUERY,ye).replace(_e.PCT_ENCODED,O)),void 0!==xe.fragment&&(xe.fragment=String(xe.fragment).replace(_e.PCT_ENCODED,Ve).replace(_e.NOT_FRAGMENT,ye).replace(_e.PCT_ENCODED,O)),xe}function Se(xe){return xe.replace(/^0*(.*)/,"$1")||"0"}function Ye(xe,_e){var Ve=xe.match(_e.IPV4ADDRESS)||[],it=m(Ve,2)[1];return it?it.split(".").map(Se).join("."):xe}function gt(xe,_e){var Ve=xe.match(_e.IPV6ADDRESS)||[],tt=m(Ve,3),it=tt[1],vt=tt[2];if(it){for(var Mt=it.toLowerCase().split("::").reverse(),Lt=m(Mt,2),lt=Lt[0],on=Lt[1],$t=on?on.split(":").map(Se):[],hn=lt.split(":").map(Se),kn=_e.IPV4ADDRESS.test(hn[hn.length-1]),yn=kn?7:8,Xt=hn.length-yn,tn=Array(yn),Wt=0;Wt<yn;++Wt)tn[Wt]=$t[Wt]||hn[Xt+Wt]||"";kn&&(tn[yn-1]=Ye(tn[yn-1],_e));var ur=tn.reduce(function(yi,un,wr){if(!un||"0"===un){var vi=yi[yi.length-1];vi&&vi.index+vi.length===wr?vi.length++:yi.push({index:wr,length:1})}return yi},[]).sort(function(yi,un){return un.length-yi.length})[0],xr=void 0;if(ur&&ur.length>1){var Cn=tn.slice(0,ur.index),ar=tn.slice(ur.index+ur.length);xr=Cn.join(":")+"::"+ar.join(":")}else xr=tn.join(":");return vt&&(xr+="%"+vt),xr}return xe}var Ke=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ge=void 0==="".match(/(){0}/)[1];function Ae(xe){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ve={},tt=!1!==_e.iri?w:c;"suffix"===_e.reference&&(xe=(_e.scheme?_e.scheme+":":"")+"//"+xe);var it=xe.match(Ke);if(it){Ge?(Ve.scheme=it[1],Ve.userinfo=it[3],Ve.host=it[4],Ve.port=parseInt(it[5],10),Ve.path=it[6]||"",Ve.query=it[7],Ve.fragment=it[8],isNaN(Ve.port)&&(Ve.port=it[5])):(Ve.scheme=it[1]||void 0,Ve.userinfo=-1!==xe.indexOf("@")?it[3]:void 0,Ve.host=-1!==xe.indexOf("//")?it[4]:void 0,Ve.port=parseInt(it[5],10),Ve.path=it[6]||"",Ve.query=-1!==xe.indexOf("?")?it[7]:void 0,Ve.fragment=-1!==xe.indexOf("#")?it[8]:void 0,isNaN(Ve.port)&&(Ve.port=xe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),Ve.host&&(Ve.host=gt(Ye(Ve.host,tt),tt)),Ve.reference=void 0!==Ve.scheme||void 0!==Ve.userinfo||void 0!==Ve.host||void 0!==Ve.port||Ve.path||void 0!==Ve.query?void 0===Ve.scheme?"relative":void 0===Ve.fragment?"absolute":"uri":"same-document",_e.reference&&"suffix"!==_e.reference&&_e.reference!==Ve.reference&&(Ve.error=Ve.error||"URI is not a "+_e.reference+" reference.");var vt=re[(_e.scheme||Ve.scheme||"").toLowerCase()];if(_e.unicodeSupport||vt&&vt.unicodeSupport)Me(Ve,tt);else{if(Ve.host&&(_e.domainHost||vt&&vt.domainHost))try{Ve.host=G.toASCII(Ve.host.replace(tt.PCT_ENCODED,me).toLowerCase())}catch(Mt){Ve.error=Ve.error||"Host's domain name can not be converted to ASCII via punycode: "+Mt}Me(Ve,c)}vt&&vt.parse&&vt.parse(Ve,_e)}else Ve.error=Ve.error||"URI can not be parsed.";return Ve}var se=/^\.\.?\//,W=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,ke=/^\/?(?:.|\n)*?(?=\/|$)/;function he(xe){for(var _e=[];xe.length;)if(xe.match(se))xe=xe.replace(se,"");else if(xe.match(W))xe=xe.replace(W,"/");else if(xe.match(ee))xe=xe.replace(ee,"/"),_e.pop();else if("."===xe||".."===xe)xe="";else{var Ve=xe.match(ke);if(!Ve)throw new Error("Unexpected dot segment condition");var tt=Ve[0];xe=xe.slice(tt.length),_e.push(tt)}return _e.join("")}function Be(xe){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ve=_e.iri?w:c,tt=[],it=re[(_e.scheme||xe.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(xe,_e),xe.host&&!Ve.IPV6ADDRESS.test(xe.host)&&(_e.domainHost||it&&it.domainHost))try{xe.host=_e.iri?G.toUnicode(xe.host):G.toASCII(xe.host.replace(Ve.PCT_ENCODED,me).toLowerCase())}catch(Lt){xe.error=xe.error||"Host's domain name can not be converted to "+(_e.iri?"Unicode":"ASCII")+" via punycode: "+Lt}Me(xe,Ve),"suffix"!==_e.reference&&xe.scheme&&(tt.push(xe.scheme),tt.push(":"));var vt=function je(xe,_e){var Ve=!1!==_e.iri?w:c,tt=[];return void 0!==xe.userinfo&&(tt.push(xe.userinfo),tt.push("@")),void 0!==xe.host&&tt.push(gt(Ye(String(xe.host),Ve),Ve).replace(Ve.IPV6ADDRESS,function(it,vt,Mt){return"["+vt+(Mt?"%25"+Mt:"")+"]"})),("number"==typeof xe.port||"string"==typeof xe.port)&&(tt.push(":"),tt.push(String(xe.port))),tt.length?tt.join(""):void 0}(xe,_e);if(void 0!==vt&&("suffix"!==_e.reference&&tt.push("//"),tt.push(vt),xe.path&&"/"!==xe.path.charAt(0)&&tt.push("/")),void 0!==xe.path){var Mt=xe.path;!_e.absolutePath&&(!it||!it.absolutePath)&&(Mt=he(Mt)),void 0===vt&&(Mt=Mt.replace(/^\/\//,"/%2F")),tt.push(Mt)}return void 0!==xe.query&&(tt.push("?"),tt.push(xe.query)),void 0!==xe.fragment&&(tt.push("#"),tt.push(xe.fragment)),tt.join("")}function Ne(xe,_e){var Ve=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},it={};return arguments[3]||(xe=Ae(Be(xe,Ve),Ve),_e=Ae(Be(_e,Ve),Ve)),!(Ve=Ve||{}).tolerant&&_e.scheme?(it.scheme=_e.scheme,it.userinfo=_e.userinfo,it.host=_e.host,it.port=_e.port,it.path=he(_e.path||""),it.query=_e.query):(void 0!==_e.userinfo||void 0!==_e.host||void 0!==_e.port?(it.userinfo=_e.userinfo,it.host=_e.host,it.port=_e.port,it.path=he(_e.path||""),it.query=_e.query):(_e.path?("/"===_e.path.charAt(0)?it.path=he(_e.path):(it.path=void 0===xe.userinfo&&void 0===xe.host&&void 0===xe.port||xe.path?xe.path?xe.path.slice(0,xe.path.lastIndexOf("/")+1)+_e.path:_e.path:"/"+_e.path,it.path=he(it.path)),it.query=_e.query):(it.path=xe.path,it.query=void 0!==_e.query?_e.query:xe.query),it.userinfo=xe.userinfo,it.host=xe.host,it.port=xe.port),it.scheme=xe.scheme),it.fragment=_e.fragment,it}function F(xe,_e){return xe&&xe.toString().replace(_e&&_e.iri?w.PCT_ENCODED:c.PCT_ENCODED,me)}var l={scheme:"http",domainHost:!0,parse:function(_e,Ve){return _e.host||(_e.error=_e.error||"HTTP URIs must have a host."),_e},serialize:function(_e,Ve){var tt="https"===String(_e.scheme).toLowerCase();return(_e.port===(tt?443:80)||""===_e.port)&&(_e.port=void 0),_e.path||(_e.path="/"),_e}},f={scheme:"https",domainHost:l.domainHost,parse:l.parse,serialize:l.serialize};function V(xe){return"boolean"==typeof xe.secure?xe.secure:"wss"===String(xe.scheme).toLowerCase()}var X={scheme:"ws",domainHost:!0,parse:function(_e,Ve){var tt=_e;return tt.secure=V(tt),tt.resourceName=(tt.path||"/")+(tt.query?"?"+tt.query:""),tt.path=void 0,tt.query=void 0,tt},serialize:function(_e,Ve){if((_e.port===(V(_e)?443:80)||""===_e.port)&&(_e.port=void 0),"boolean"==typeof _e.secure&&(_e.scheme=_e.secure?"wss":"ws",_e.secure=void 0),_e.resourceName){var tt=_e.resourceName.split("?"),it=m(tt,2),vt=it[0],Mt=it[1];_e.path=vt&&"/"!==vt?vt:void 0,_e.query=Mt,_e.resourceName=void 0}return _e.fragment=void 0,_e}},fe={scheme:"wss",domainHost:X.domainHost,parse:X.parse,serialize:X.serialize},Ce={},Ze="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",dt="[0-9A-Fa-f]",pt=S(S("%[EFef]"+dt+"%"+dt+dt+"%"+dt+dt)+"|"+S("%[89A-Fa-f]"+dt+"%"+dt+dt)+"|"+S("%"+dt+dt)),Bn=b("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),_n=new RegExp(Ze,"g"),An=new RegExp(pt,"g"),Hn=new RegExp(b("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Bn),"g"),Y=new RegExp(b("[^]",Ze,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),be=Y;function we(xe){var _e=me(xe);return _e.match(_n)?_e:xe}var Te={scheme:"mailto",parse:function(_e,Ve){var tt=_e,it=tt.to=tt.path?tt.path.split(","):[];if(tt.path=void 0,tt.query){for(var vt=!1,Mt={},Lt=tt.query.split("&"),lt=0,on=Lt.length;lt<on;++lt){var $t=Lt[lt].split("=");switch($t[0]){case"to":for(var hn=$t[1].split(","),kn=0,yn=hn.length;kn<yn;++kn)it.push(hn[kn]);break;case"subject":tt.subject=F($t[1],Ve);break;case"body":tt.body=F($t[1],Ve);break;default:vt=!0,Mt[F($t[0],Ve)]=F($t[1],Ve)}}vt&&(tt.headers=Mt)}tt.query=void 0;for(var Xt=0,tn=it.length;Xt<tn;++Xt){var Wt=it[Xt].split("@");if(Wt[0]=F(Wt[0]),Ve.unicodeSupport)Wt[1]=F(Wt[1],Ve).toLowerCase();else try{Wt[1]=G.toASCII(F(Wt[1],Ve).toLowerCase())}catch(Yr){tt.error=tt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Yr}it[Xt]=Wt.join("@")}return tt},serialize:function(_e,Ve){var tt=_e,it=function P(xe){return null!=xe?xe instanceof Array?xe:"number"!=typeof xe.length||xe.split||xe.setInterval||xe.call?[xe]:Array.prototype.slice.call(xe):[]}(_e.to);if(it){for(var vt=0,Mt=it.length;vt<Mt;++vt){var Lt=String(it[vt]),lt=Lt.lastIndexOf("@"),on=Lt.slice(0,lt).replace(An,we).replace(An,O).replace(Hn,ye),$t=Lt.slice(lt+1);try{$t=Ve.iri?G.toUnicode($t):G.toASCII(F($t,Ve).toLowerCase())}catch(Xt){tt.error=tt.error||"Email address's domain name can not be converted to "+(Ve.iri?"Unicode":"ASCII")+" via punycode: "+Xt}it[vt]=on+"@"+$t}tt.path=it.join(",")}var hn=_e.headers=_e.headers||{};_e.subject&&(hn.subject=_e.subject),_e.body&&(hn.body=_e.body);var kn=[];for(var yn in hn)hn[yn]!==Ce[yn]&&kn.push(yn.replace(An,we).replace(An,O).replace(Y,ye)+"="+hn[yn].replace(An,we).replace(An,O).replace(be,ye));return kn.length&&(tt.query=kn.join("&")),tt}},ze=/^([^\:]+)\:(.*)/,ct={scheme:"urn",parse:function(_e,Ve){var tt=_e.path&&_e.path.match(ze),it=_e;if(tt){var vt=Ve.scheme||it.scheme||"urn",Mt=tt[1].toLowerCase(),Lt=tt[2],on=re[vt+":"+(Ve.nid||Mt)];it.nid=Mt,it.nss=Lt,it.path=void 0,on&&(it=on.parse(it,Ve))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(_e,Ve){var it=_e.nid,Mt=re[(Ve.scheme||_e.scheme||"urn")+":"+(Ve.nid||it)];Mt&&(_e=Mt.serialize(_e,Ve));var Lt=_e;return Lt.path=(it||Ve.nid)+":"+_e.nss,Lt}},ve=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Oe={scheme:"urn:uuid",parse:function(_e,Ve){var tt=_e;return tt.uuid=tt.nss,tt.nss=void 0,!Ve.tolerant&&(!tt.uuid||!tt.uuid.match(ve))&&(tt.error=tt.error||"UUID is not valid."),tt},serialize:function(_e,Ve){var tt=_e;return tt.nss=(_e.uuid||"").toLowerCase(),tt}};re[l.scheme]=l,re[f.scheme]=f,re[X.scheme]=X,re[fe.scheme]=fe,re[Te.scheme]=Te,re[ct.scheme]=ct,re[Oe.scheme]=Oe,d.SCHEMES=re,d.pctEncChar=ye,d.pctDecChars=me,d.parse=Ae,d.removeDotSegments=he,d.serialize=Be,d.resolveComponents=Ne,d.resolve=function Qe(xe,_e,Ve){var tt=function y(xe,_e){var Ve=xe;if(_e)for(var tt in _e)Ve[tt]=_e[tt];return Ve}({scheme:"null"},Ve);return Be(Ne(Ae(xe,tt),Ae(_e,tt),tt,!0),tt)},d.normalize=function ut(xe,_e){return"string"==typeof xe?xe=Be(Ae(xe,_e),_e):"object"===R(xe)&&(xe=Ae(Be(xe,_e),_e)),xe},d.equal=function qe(xe,_e,Ve){return"string"==typeof xe?xe=Be(Ae(xe,Ve),Ve):"object"===R(xe)&&(xe=Be(xe,Ve)),"string"==typeof _e?_e=Be(Ae(_e,Ve),Ve):"object"===R(_e)&&(_e=Be(_e,Ve)),xe===_e},d.escapeComponent=function ht(xe,_e){return xe&&xe.toString().replace(_e&&_e.iri?w.ESCAPE:c.ESCAPE,ye)},d.unescapeComponent=F,Object.defineProperty(d,"__esModule",{value:!0})}(A)},2797:()=>{},2634:()=>{},9014:(Z,A,d)=>{"use strict";var b=d(2431),S=d(4174),R=d(4985),O=d(6758);Z.exports=function(y,u,c){if("string"!=typeof y)throw new O("Assertion failed: `S` must be a String");if(!S(u)||u<0||u>R)throw new O("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof c)throw new O("Assertion failed: `unicode` must be a Boolean");return c?u+1>=y.length?u+1:u+b(y,u)["[[CodeUnitCount]]"]:u+1}},8683:(Z,A,d)=>{"use strict";var b=d(7877),S=d(3020),R=d(6758),O=d(2802),P=b("%Reflect.apply%",!0)||S("Function.prototype.apply");Z.exports=function(u,c){var w=arguments.length>2?arguments[2]:[];if(!O(w))throw new R("Assertion failed: optional `argumentsList`, if provided, must be a List");return P(u,c,w)}},2431:(Z,A,d)=>{"use strict";var b=d(6758),S=d(3020),R=d(2270),O=d(4034),P=d(5225),y=S("String.prototype.charAt"),u=S("String.prototype.charCodeAt");Z.exports=function(w,m){if("string"!=typeof w)throw new b("Assertion failed: `string` must be a String");var h=w.length;if(m<0||m>=h)throw new b("Assertion failed: `position` must be >= 0, and < the length of `string`");var _=u(w,m),g=y(w,m),v=R(_),D=O(_);if(!v&&!D)return{"[[CodePoint]]":g,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(D||m+1===h)return{"[[CodePoint]]":g,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var T=u(w,m+1);return O(T)?{"[[CodePoint]]":P(_,T),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":g,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},363:(Z,A,d)=>{"use strict";var b=d(6758);Z.exports=function(R,O){if("boolean"!=typeof O)throw new b("Assertion failed: Type(done) is not Boolean");return{value:R,done:O}}},7045:(Z,A,d)=>{"use strict";var b=d(7877),S=d(9900)(),R=d(6758),O=b("%IteratorPrototype%",!0),P=d(9014),y=d(363),u=d(9624),c=d(8527),w=d(6042),m=d(9127),h=d(2459),_=d(1382),g=d(8535),v=d(35),D=d(3720),T=d(5240),E=function(B,L,z,Q){if("string"!=typeof L)throw new R("`S` must be a string");if("boolean"!=typeof z)throw new R("`global` must be a boolean");if("boolean"!=typeof Q)throw new R("`fullUnicode` must be a boolean");D.set(this,"[[IteratingRegExp]]",B),D.set(this,"[[IteratedString]]",L),D.set(this,"[[Global]]",z),D.set(this,"[[Unicode]]",Q),D.set(this,"[[Done]]",!1)};O&&(E.prototype=w(O)),u(E.prototype,"next",function(){var B=this;if("Object"!==v(B))throw new R("receiver must be an object");if(!(B instanceof E&&D.has(B,"[[IteratingRegExp]]")&&D.has(B,"[[IteratedString]]")&&D.has(B,"[[Global]]")&&D.has(B,"[[Unicode]]")&&D.has(B,"[[Done]]")))throw new R('"this" value must be a RegExpStringIterator instance');if(D.get(B,"[[Done]]"))return y(void 0,!0);var L=D.get(B,"[[IteratingRegExp]]"),z=D.get(B,"[[IteratedString]]"),Q=D.get(B,"[[Global]]"),oe=D.get(B,"[[Unicode]]"),j=m(L,z);if(null===j)return D.set(B,"[[Done]]",!0),y(void 0,!0);if(Q){if(""===g(c(j,"0"))){var K=_(c(L,"lastIndex")),te=P(z,K,oe);h(L,"lastIndex",te,!0)}return y(j,!1)}return D.set(B,"[[Done]]",!0),y(j,!1)},!1),S&&(T(E.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!=typeof E.prototype[Symbol.iterator])&&u(E.prototype,Symbol.iterator,function(){return this},!1),Z.exports=function(B,L,z,Q){return new E(B,L,z,Q)}},9624:(Z,A,d)=>{"use strict";var b=d(6758),S=d(662),R=d(2626),O=d(1203),P=d(35);Z.exports=function(u,c,w,m){if("Object"!==P(u))throw new b("Assertion failed: `homeObject` is not an Object");if(!O(c))throw new b("Assertion failed: `key` is not a Property Key or a Private Name");if("function"!=typeof w)throw new b("Assertion failed: `closure` is not a function");if("boolean"!=typeof m)throw new b("Assertion failed: `enumerable` is not a Boolean");if(!R(u))throw new b("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");S(u,c,{"[[Value]]":w,"[[Writable]]":!0,"[[Enumerable]]":m,"[[Configurable]]":!0})}},662:(Z,A,d)=>{"use strict";var b=d(6758),S=d(492),R=d(1396),O=d(2183),P=d(1414),y=d(1203),u=d(6440),c=d(6018),w=d(35);Z.exports=function(h,_,g){if("Object"!==w(h))throw new b("Assertion failed: Type(O) is not Object");if(!y(_))throw new b("Assertion failed: IsPropertyKey(P) is not true");var v=S(g)?g:c(g);if(!S(v))throw new b("Assertion failed: Desc is not a valid Property Descriptor");return R(P,u,O,h,_,v)}},2183:(Z,A,d)=>{"use strict";var b=d(6758),S=d(492),R=d(4938);Z.exports=function(P){if(typeof P<"u"&&!S(P))throw new b("Assertion failed: `Desc` must be a Property Descriptor");return R(P)}},8527:(Z,A,d)=>{"use strict";var b=d(6758),S=d(9150),R=d(1203),O=d(35);Z.exports=function(y,u){if("Object"!==O(y))throw new b("Assertion failed: Type(O) is not Object");if(!R(u))throw new b("Assertion failed: IsPropertyKey(P) is not true, got "+S(u));return y[u]}},3602:(Z,A,d)=>{"use strict";var b=d(6758),S=d(213),R=d(5867),O=d(1203),P=d(9150);Z.exports=function(u,c){if(!O(c))throw new b("Assertion failed: IsPropertyKey(P) is not true");var w=S(u,c);if(null!=w){if(!R(w))throw new b(P(c)+" is not a function: "+P(w));return w}}},213:(Z,A,d)=>{"use strict";var b=d(6758),S=d(9150),R=d(1203);Z.exports=function(P,y){if(!R(y))throw new b("Assertion failed: IsPropertyKey(P) is not true, got "+S(y));return P[y]}},2802:(Z,A,d)=>{"use strict";Z.exports=d(1153)},5867:(Z,A,d)=>{"use strict";Z.exports=d(8239)},3711:(Z,A,d)=>{"use strict";var S=d(9539)("%Reflect.construct%",!0),R=d(662);try{R({},"",{"[[Get]]":function(){}})}catch{R=null}if(R&&S){var O={},P={};R(P,"length",{"[[Get]]":function(){throw O},"[[Enumerable]]":!0}),Z.exports=function(u){try{S(u,P)}catch(c){return c===O}}}else Z.exports=function(u){return"function"==typeof u&&!!u.prototype}},1414:(Z,A,d)=>{"use strict";var b=d(6758),S=d(8368),R=d(492);Z.exports=function(P){if(typeof P>"u")return!1;if(!R(P))throw new b("Assertion failed: `Desc` must be a Property Descriptor");return!(!S(P,"[[Value]]")&&!S(P,"[[Writable]]"))}},2626:(Z,A,d)=>{"use strict";var b=d(7877),S=b("%Object.preventExtensions%",!0),R=b("%Object.isExtensible%",!0),O=d(2081);Z.exports=S?function(y){return!O(y)&&R(y)}:function(y){return!O(y)}},1203:Z=>{"use strict";Z.exports=function(d){return"string"==typeof d||"symbol"==typeof d}},4706:(Z,A,d)=>{"use strict";var S=d(7877)("%Symbol.match%",!0),R=d(3290),O=d(2788);Z.exports=function(y){if(!y||"object"!=typeof y)return!1;if(S){var u=y[S];if(typeof u<"u")return O(u)}return R(y)}},6042:(Z,A,d)=>{"use strict";var S=d(7877)("%Object.create%",!0),R=d(6758),O=d(8413),P=d(2802),y=d(35),u=d(4810),c=d(3720),w=d(2119)();Z.exports=function(h){if(null!==h&&"Object"!==y(h))throw new R("Assertion failed: `proto` must be null or an object");var g,_=arguments.length<2?[]:arguments[1];if(!P(_))throw new R("Assertion failed: `additionalInternalSlotsList` must be an Array");if(S)g=S(h);else if(w)g={__proto__:h};else{if(null===h)throw new O("native Object.create support is required to create null objects");var v=function(){};v.prototype=h,g=new v}return _.length>0&&u(_,function(D){c.set(g,D,void 0)}),g}},9127:(Z,A,d)=>{"use strict";var b=d(6758),S=d(3020)("RegExp.prototype.exec"),R=d(8683),O=d(8527),P=d(5867),y=d(35);Z.exports=function(c,w){if("Object"!==y(c))throw new b("Assertion failed: `R` must be an Object");if("string"!=typeof w)throw new b("Assertion failed: `S` must be a String");var m=O(c,"exec");if(P(m)){var h=R(m,c,[w]);if("object"==typeof h)return h;throw new b('"exec" method must return `null` or an Object')}return S(c,w)}},6440:(Z,A,d)=>{"use strict";var b=d(1661);Z.exports=function(R,O){return R===O?0!==R||1/R==1/O:b(R)&&b(O)}},2459:(Z,A,d)=>{"use strict";var b=d(6758),S=d(1203),R=d(6440),O=d(35),P=function(){try{return delete[].length,!0}catch{return!1}}();Z.exports=function(u,c,w,m){if("Object"!==O(u))throw new b("Assertion failed: `O` must be an Object");if(!S(c))throw new b("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof m)throw new b("Assertion failed: `Throw` must be a Boolean");if(m){if(u[c]=w,P&&!R(u[c],w))throw new b("Attempted to assign to readonly property.");return!0}try{return u[c]=w,!P||R(u[c],w)}catch{return!1}}},149:(Z,A,d)=>{"use strict";var S=d(7877)("%Symbol.species%",!0),R=d(6758),O=d(3711),P=d(35);Z.exports=function(u,c){if("Object"!==P(u))throw new R("Assertion failed: Type(O) is not Object");var w=u.constructor;if(typeof w>"u")return c;if("Object"!==P(w))throw new R("O.constructor is not an Object");var m=S?w[S]:void 0;if(null==m)return c;if(O(m))return m;throw new R("no constructor found")}},6465:(Z,A,d)=>{"use strict";var b=d(7877),S=b("%Number%"),R=b("%RegExp%"),O=d(6758),P=b("%parseInt%"),y=d(3020),u=d(5202),c=y("String.prototype.slice"),w=u(/^0b[01]+$/i),m=u(/^0o[0-7]+$/i),h=u(/^[-+]0x[0-9a-f]+$/i),v=u(new R("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),D=d(6913);Z.exports=function T(E){if("string"!=typeof E)throw new O("Assertion failed: `argument` is not a String");if(w(E))return S(P(c(E,2),2));if(m(E))return S(P(c(E,2),8));if(v(E)||h(E))return NaN;var N=D(E);return N!==E?T(N):S(E)}},2788:Z=>{"use strict";Z.exports=function(d){return!!d}},9463:(Z,A,d)=>{"use strict";var b=d(1255),S=d(9737),R=d(1661),O=d(4217);Z.exports=function(y){var u=b(y);return R(u)||0===u?0:O(u)?S(u):u}},1382:(Z,A,d)=>{"use strict";var b=d(4985),S=d(9463);Z.exports=function(O){var P=S(O);return P<=0?0:P>b?b:P}},1255:(Z,A,d)=>{"use strict";var b=d(7877),S=d(6758),R=b("%Number%"),O=d(2081),P=d(6801),y=d(6465);Z.exports=function(c){var w=O(c)?c:P(c,R);if("symbol"==typeof w)throw new S("Cannot convert a Symbol value to a number");if("bigint"==typeof w)throw new S("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof w?y(w):R(w)}},6801:(Z,A,d)=>{"use strict";var b=d(1232);Z.exports=function(R){return arguments.length>1?b(R,arguments[1]):b(R)}},6018:(Z,A,d)=>{"use strict";var b=d(8368),S=d(6758),R=d(35),O=d(2788),P=d(5867);Z.exports=function(u){if("Object"!==R(u))throw new S("ToPropertyDescriptor requires an object");var c={};if(b(u,"enumerable")&&(c["[[Enumerable]]"]=O(u.enumerable)),b(u,"configurable")&&(c["[[Configurable]]"]=O(u.configurable)),b(u,"value")&&(c["[[Value]]"]=u.value),b(u,"writable")&&(c["[[Writable]]"]=O(u.writable)),b(u,"get")){var w=u.get;if(typeof w<"u"&&!P(w))throw new S("getter must be a function");c["[[Get]]"]=w}if(b(u,"set")){var m=u.set;if(typeof m<"u"&&!P(m))throw new S("setter must be a function");c["[[Set]]"]=m}if((b(c,"[[Get]]")||b(c,"[[Set]]"))&&(b(c,"[[Value]]")||b(c,"[[Writable]]")))throw new S("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return c}},8535:(Z,A,d)=>{"use strict";var S=d(7877)("%String%"),R=d(6758);Z.exports=function(P){if("symbol"==typeof P)throw new R("Cannot convert a Symbol value to a string");return S(P)}},35:(Z,A,d)=>{"use strict";var b=d(2408);Z.exports=function(R){return"symbol"==typeof R?"Symbol":"bigint"==typeof R?"BigInt":b(R)}},5225:(Z,A,d)=>{"use strict";var b=d(7877),S=d(6758),R=b("%String.fromCharCode%"),O=d(2270),P=d(4034);Z.exports=function(u,c){if(!O(u)||!P(c))throw new S("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return R(u)+R(c)}},2045:Z=>{"use strict";var A=Math.floor;Z.exports=function(b){return"bigint"==typeof b?b:A(b)}},9737:(Z,A,d)=>{"use strict";var b=d(2045),S=d(6758);Z.exports=function(O){if("number"!=typeof O&&"bigint"!=typeof O)throw new S("argument must be a Number or a BigInt");var P=O<0?-b(-O):b(O);return 0===P?0:P}},2408:Z=>{"use strict";Z.exports=function(d){return null===d?"Null":typeof d>"u"?"Undefined":"function"==typeof d||"object"==typeof d?"Object":"number"==typeof d?"Number":"boolean"==typeof d?"Boolean":"string"==typeof d?"String":void 0}},9539:(Z,A,d)=>{"use strict";Z.exports=d(7877)},1396:(Z,A,d)=>{"use strict";var b=d(5861),S=d(4570),R=b.hasArrayLengthDefineBug(),O=R&&d(1153),y=d(3020)("Object.prototype.propertyIsEnumerable");Z.exports=function(c,w,m,h,_,g){if(!S){if(!c(g)||!g["[[Configurable]]"]||!g["[[Writable]]"]||_ in h&&y(h,_)!==!!g["[[Enumerable]]"])return!1;var v=g["[[Value]]"];return h[_]=v,w(h[_],v)}return R&&"length"===_&&"[[Value]]"in g&&O(h)&&h.length!==g["[[Value]]"]?(h.length=g["[[Value]]"],h.length===g["[[Value]]"]):(S(h,_,m(g)),!0)}},1153:(Z,A,d)=>{"use strict";var S=d(7877)("%Array%"),R=!S.isArray&&d(3020)("Object.prototype.toString");Z.exports=S.isArray||function(P){return"[object Array]"===R(P)}},4810:Z=>{"use strict";Z.exports=function(d,b){for(var S=0;S<d.length;S+=1)b(d[S],S,d)}},4938:Z=>{"use strict";Z.exports=function(d){if(typeof d>"u")return d;var b={};return"[[Value]]"in d&&(b.value=d["[[Value]]"]),"[[Writable]]"in d&&(b.writable=!!d["[[Writable]]"]),"[[Get]]"in d&&(b.get=d["[[Get]]"]),"[[Set]]"in d&&(b.set=d["[[Set]]"]),"[[Enumerable]]"in d&&(b.enumerable=!!d["[[Enumerable]]"]),"[[Configurable]]"in d&&(b.configurable=!!d["[[Configurable]]"]),b}},4217:(Z,A,d)=>{"use strict";var b=d(1661);Z.exports=function(S){return("number"==typeof S||"bigint"==typeof S)&&!b(S)&&S!==1/0&&S!==-1/0}},4174:(Z,A,d)=>{"use strict";var b=d(7877),S=b("%Math.abs%"),R=b("%Math.floor%"),O=d(1661),P=d(4217);Z.exports=function(u){if("number"!=typeof u||O(u)||!P(u))return!1;var c=S(u);return R(c)===c}},2270:Z=>{"use strict";Z.exports=function(d){return"number"==typeof d&&d>=55296&&d<=56319}},1661:Z=>{"use strict";Z.exports=Number.isNaN||function(d){return d!=d}},2081:Z=>{"use strict";Z.exports=function(d){return null===d||"function"!=typeof d&&"object"!=typeof d}},4034:Z=>{"use strict";Z.exports=function(d){return"number"==typeof d&&d>=56320&&d<=57343}},4985:Z=>{"use strict";Z.exports=Number.MAX_SAFE_INTEGER||9007199254740991},492:(Z,A,d)=>{"use strict";var b=d(6758),S=d(8368),R={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};Z.exports=function(P){if(!P||"object"!=typeof P)return!1;for(var y in P)if(S(P,y)&&!R[y])return!1;var u=S(P,"[[Value]]")||S(P,"[[Writable]]"),c=S(P,"[[Get]]")||S(P,"[[Set]]");if(u&&c)throw new b("Property Descriptors may not be both accessor and data descriptors");return!0}},8280:(Z,A,d)=>{"use strict";const{normalizeIPv6:b,normalizeIPv4:S,removeDotSegments:R,recomposeAuthority:O,normalizeComponentEncoding:P}=d(4042),y=d(4908);function w(E,N,M,k){const B={};return k||(E=D(h(E,M),M),N=D(h(N,M),M)),!(M=M||{}).tolerant&&N.scheme?(B.scheme=N.scheme,B.userinfo=N.userinfo,B.host=N.host,B.port=N.port,B.path=R(N.path||""),B.query=N.query):(void 0!==N.userinfo||void 0!==N.host||void 0!==N.port?(B.userinfo=N.userinfo,B.host=N.host,B.port=N.port,B.path=R(N.path||""),B.query=N.query):(N.path?("/"===N.path.charAt(0)?B.path=R(N.path):(B.path=void 0===E.userinfo&&void 0===E.host&&void 0===E.port||E.path?E.path?E.path.slice(0,E.path.lastIndexOf("/")+1)+N.path:N.path:"/"+N.path,B.path=R(B.path)),B.query=N.query):(B.path=E.path,B.query=void 0!==N.query?N.query:E.query),B.userinfo=E.userinfo,B.host=E.host,B.port=E.port),B.scheme=E.scheme),B.fragment=N.fragment,B}function h(E,N){const M={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},k=Object.assign({},N),B=[],L=y[(k.scheme||M.scheme||"").toLowerCase()];L&&L.serialize&&L.serialize(M,k),void 0!==M.path&&(k.skipEscape?M.path=unescape(M.path):(M.path=escape(M.path),void 0!==M.scheme&&(M.path=M.path.split("%3A").join(":")))),"suffix"!==k.reference&&M.scheme&&B.push(M.scheme,":");const z=O(M,k);if(void 0!==z&&("suffix"!==k.reference&&B.push("//"),B.push(z),M.path&&"/"!==M.path.charAt(0)&&B.push("/")),void 0!==M.path){let Q=M.path;!k.absolutePath&&(!L||!L.absolutePath)&&(Q=R(Q)),void 0===z&&(Q=Q.replace(/^\/\//u,"/%2F")),B.push(Q)}return void 0!==M.query&&B.push("?",M.query),void 0!==M.fragment&&B.push("#",M.fragment),B.join("")}const _=Array.from({length:127},(E,N)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(N))),v=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function D(E,N){const M=Object.assign({},N),k={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},B=-1!==E.indexOf("%");let L=!1;"suffix"===M.reference&&(E=(M.scheme?M.scheme+":":"")+"//"+E);const z=E.match(v);if(z){if(k.scheme=z[1],k.userinfo=z[3],k.host=z[4],k.port=parseInt(z[5],10),k.path=z[6]||"",k.query=z[7],k.fragment=z[8],isNaN(k.port)&&(k.port=z[5]),k.host){const oe=S(k.host);if(!1===oe.isIPV4){const j=b(oe.host,{isIPV4:!1});k.host=j.host.toLowerCase(),L=j.isIPV6}else k.host=oe.host,L=!0}k.reference=void 0!==k.scheme||void 0!==k.userinfo||void 0!==k.host||void 0!==k.port||k.path||void 0!==k.query?void 0===k.scheme?"relative":void 0===k.fragment?"absolute":"uri":"same-document",M.reference&&"suffix"!==M.reference&&M.reference!==k.reference&&(k.error=k.error||"URI is not a "+M.reference+" reference.");const Q=y[(M.scheme||k.scheme||"").toLowerCase()];if(!M.unicodeSupport&&(!Q||!Q.unicodeSupport)&&k.host&&(M.domainHost||Q&&Q.domainHost)&&!1===L&&function g(E){let N=0;for(let M=0,k=E.length;M<k;++M)if(N=E.charCodeAt(M),N>126||_[N])return!0;return!1}(k.host))try{k.host=URL.domainToASCII(k.host.toLowerCase())}catch(oe){k.error=k.error||"Host's domain name can not be converted to ASCII: "+oe}(!Q||Q&&!Q.skipNormalize)&&(B&&void 0!==k.scheme&&(k.scheme=unescape(k.scheme)),B&&void 0!==k.host&&(k.host=unescape(k.host)),void 0!==k.path&&k.path.length&&(k.path=escape(unescape(k.path))),void 0!==k.fragment&&k.fragment.length&&(k.fragment=encodeURI(decodeURIComponent(k.fragment)))),Q&&Q.parse&&Q.parse(k,M)}else k.error=k.error||"URI can not be parsed.";return k}const T={SCHEMES:y,normalize:function u(E,N){return"string"==typeof E?E=h(D(E,N),N):"object"==typeof E&&(E=D(h(E,N),N)),E},resolve:function c(E,N,M){const k=Object.assign({scheme:"null"},M);return h(w(D(E,k),D(N,k),k,!0),{...k,skipEscape:!0})},resolveComponents:w,equal:function m(E,N,M){return"string"==typeof E?(E=unescape(E),E=h(P(D(E,M),!0),{...M,skipEscape:!0})):"object"==typeof E&&(E=h(P(E,!0),{...M,skipEscape:!0})),"string"==typeof N?(N=unescape(N),N=h(P(D(N,M),!0),{...M,skipEscape:!0})):"object"==typeof N&&(N=h(P(N,!0),{...M,skipEscape:!0})),E.toLowerCase()===N.toLowerCase()},serialize:h,parse:D};Z.exports=T,Z.exports.default=T,Z.exports.fastUri=T},4908:Z=>{"use strict";const A=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,d=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function b(E){return"boolean"==typeof E.secure?E.secure:"wss"===String(E.scheme).toLowerCase()}function S(E){return E.host||(E.error=E.error||"HTTP URIs must have a host."),E}function R(E){const N="https"===String(E.scheme).toLowerCase();return(E.port===(N?443:80)||""===E.port)&&(E.port=void 0),E.path||(E.path="/"),E}const m={scheme:"http",domainHost:!0,parse:S,serialize:R},_={scheme:"ws",domainHost:!0,parse:function O(E){return E.secure=b(E),E.resourceName=(E.path||"/")+(E.query?"?"+E.query:""),E.path=void 0,E.query=void 0,E},serialize:function P(E){if((E.port===(b(E)?443:80)||""===E.port)&&(E.port=void 0),"boolean"==typeof E.secure&&(E.scheme=E.secure?"wss":"ws",E.secure=void 0),E.resourceName){const[N,M]=E.resourceName.split("?");E.path=N&&"/"!==N?N:void 0,E.query=M,E.resourceName=void 0}return E.fragment=void 0,E}},T={http:m,https:{scheme:"https",domainHost:m.domainHost,parse:S,serialize:R},ws:_,wss:{scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},urn:{scheme:"urn",parse:function y(E,N){if(!E.path)return E.error="URN can not be parsed",E;const M=E.path.match(d);if(M){const k=N.scheme||E.scheme||"urn";E.nid=M[1].toLowerCase(),E.nss=M[2];const L=T[`${k}:${N.nid||E.nid}`];E.path=void 0,L&&(E=L.parse(E,N))}else E.error=E.error||"URN can not be parsed.";return E},serialize:function u(E,N){const M=N.scheme||E.scheme||"urn",k=E.nid.toLowerCase(),L=T[`${M}:${N.nid||k}`];L&&(E=L.serialize(E,N));const z=E;return z.path=`${k||N.nid}:${E.nss}`,N.skipEscape=!0,z},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function c(E,N){const M=E;return M.uuid=M.nss,M.nss=void 0,!N.tolerant&&(!M.uuid||!A.test(M.uuid))&&(M.error=M.error||"UUID is not valid."),M},serialize:function w(E){const N=E;return N.nss=(E.uuid||"").toLowerCase(),N},skipNormalize:!0}};Z.exports=T},4185:Z=>{"use strict";Z.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},4042:(Z,A,d)=>{"use strict";const{HEX:b}=d(4185);function S(D){if(u(D,".")<3)return{host:D,isIPV4:!1};const T=D.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[E]=T;return E?{host:y(E,"."),isIPV4:!0}:{host:D,isIPV4:!1}}function R(D,T=!1){let E="",N=!0;for(const M of D){if(void 0===b[M])return;"0"!==M&&!0===N&&(N=!1),N||(E+=M)}return T&&0===E.length&&(E="0"),E}function P(D,T={}){if(u(D,":")<2)return{host:D,isIPV6:!1};const E=function O(D){let T=0;const E={error:!1,address:"",zone:""},N=[],M=[];let k=!1,B=!1,L=!1;function z(){if(M.length){if(!1===k){const Q=R(M);if(void 0===Q)return E.error=!0,!1;N.push(Q)}M.length=0}return!0}for(let Q=0;Q<D.length;Q++){const oe=D[Q];if("["!==oe&&"]"!==oe){if(":"===oe){if(!0===B&&(L=!0),!z())break;if(T++,N.push(":"),T>7){E.error=!0;break}Q-1>=0&&":"===D[Q-1]&&(B=!0);continue}if("%"!==oe){M.push(oe);continue}if(!z())break;k=!0}}return M.length&&(k?E.zone=M.join(""):N.push(L?M.join(""):R(M))),E.address=N.join(""),E}(D);if(E.error)return{host:D,isIPV6:!1};{let N=E.address,M=E.address;return E.zone&&(N+="%"+E.zone,M+="%25"+E.zone),{host:N,escapedHost:M,isIPV6:!0}}}function y(D,T){let E="",N=!0;const M=D.length;for(let k=0;k<M;k++){const B=D[k];"0"===B&&N?(k+1<=M&&D[k+1]===T||k+1===M)&&(E+=B,N=!1):(N=B===T,E+=B)}return E}function u(D,T){let E=0;for(let N=0;N<D.length;N++)D[N]===T&&E++;return E}const c=/^\.\.?\//u,w=/^\/\.(?:\/|$)/u,m=/^\/\.\.(?:\/|$)/u,h=/^\/?(?:.|\n)*?(?=\/|$)/u;Z.exports={recomposeAuthority:function v(D,T){const E=[];if(void 0!==D.userinfo&&(E.push(D.userinfo),E.push("@")),void 0!==D.host){let N=unescape(D.host);const M=S(N);if(M.isIPV4)N=M.host;else{const k=P(M.host,{isIPV4:!1});N=!0===k.isIPV6?`[${k.escapedHost}]`:D.host}E.push(N)}return("number"==typeof D.port||"string"==typeof D.port)&&(E.push(":"),E.push(String(D.port))),E.length?E.join(""):void 0},normalizeComponentEncoding:function g(D,T){const E=!0!==T?escape:unescape;return void 0!==D.scheme&&(D.scheme=E(D.scheme)),void 0!==D.userinfo&&(D.userinfo=E(D.userinfo)),void 0!==D.host&&(D.host=E(D.host)),void 0!==D.path&&(D.path=E(D.path)),void 0!==D.query&&(D.query=E(D.query)),void 0!==D.fragment&&(D.fragment=E(D.fragment)),D},removeDotSegments:function _(D){const T=[];for(;D.length;)if(D.match(c))D=D.replace(c,"");else if(D.match(w))D=D.replace(w,"/");else if(D.match(m))D=D.replace(m,"/"),T.pop();else if("."===D||".."===D)D="";else{const E=D.match(h);if(!E)throw new Error("Unexpected dot segment condition");{const N=E[0];D=D.slice(N.length),T.push(N)}}return T.join("")},normalizeIPv4:S,normalizeIPv6:P,stringArrayToHexStripped:R}},5172:Z=>{Z.exports=function A(d,b){this.v=d,this.k=b},Z.exports.__esModule=!0,Z.exports.default=Z.exports},3513:(Z,A,d)=>{var b=d(5172);Z.exports=function S(R){var O={},P=!1;function y(u,c){return P=!0,c=new Promise(function(w){w(R[u](c))}),{done:!1,value:new b(c,1)}}return O[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},O.next=function(u){return P?(P=!1,u):y("next",u)},"function"==typeof R.throw&&(O.throw=function(u){if(P)throw P=!1,u;return y("throw",u)}),"function"==typeof R.return&&(O.return=function(u){return P?(P=!1,u):y("return",u)}),O},Z.exports.__esModule=!0,Z.exports.default=Z.exports},2881:Z=>{function d(b){function S(R){if(Object(R)!==R)return Promise.reject(new TypeError(R+" is not an object."));var O=R.done;return Promise.resolve(R.value).then(function(P){return{value:P,done:O}})}return(d=function(O){this.s=O,this.n=O.next}).prototype={s:null,n:null,next:function(){return S(this.n.apply(this.s,arguments))},return:function(O){var P=this.s.return;return void 0===P?Promise.resolve({value:O,done:!0}):S(P.apply(this.s,arguments))},throw:function(O){var P=this.s.return;return void 0===P?Promise.reject(O):S(P.apply(this.s,arguments))}},new d(b)}Z.exports=function A(b){var S,R,O,P=2;for(typeof Symbol<"u"&&(R=Symbol.asyncIterator,O=Symbol.iterator);P--;){if(R&&null!=(S=b[R]))return S.call(b);if(O&&null!=(S=b[O]))return new d(S.call(b));R="@@asyncIterator",O="@@iterator"}throw new TypeError("Object is not async iterable")},Z.exports.__esModule=!0,Z.exports.default=Z.exports},9293:Z=>{function A(b,S,R,O,P,y,u){try{var c=b[y](u),w=c.value}catch(m){return void R(m)}c.done?S(w):Promise.resolve(w).then(O,P)}Z.exports=function d(b){return function(){var S=this,R=arguments;return new Promise(function(O,P){var y=b.apply(S,R);function u(w){A(y,O,P,u,c,"next",w)}function c(w){A(y,O,P,u,c,"throw",w)}u(void 0)})}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},3344:(Z,A,d)=>{var b=d(5172);Z.exports=function S(R){return new b(R,0)},Z.exports.__esModule=!0,Z.exports.default=Z.exports},2958:(Z,A,d)=>{var b=d(5172);function R(O){var P,y;function u(w,m){try{var h=O[w](m),_=h.value,g=_ instanceof b;Promise.resolve(g?_.v:_).then(function(v){if(g){var D="return"===w?"return":"next";if(!_.k||v.done)return u(D,v);v=O[D](v).value}c(h.done?"return":"normal",v)},function(v){u("throw",v)})}catch(v){c("throw",v)}}function c(w,m){switch(w){case"return":P.resolve({value:m,done:!0});break;case"throw":P.reject(m);break;default:P.resolve({value:m,done:!1})}(P=P.next)?u(P.key,P.arg):y=null}this._invoke=function(w,m){return new Promise(function(h,_){var g={key:w,arg:m,resolve:h,reject:_,next:null};y?y=y.next=g:(P=y=g,u(w,m))})},"function"!=typeof O.return&&(this.return=void 0)}R.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},R.prototype.next=function(O){return this._invoke("next",O)},R.prototype.throw=function(O){return this._invoke("throw",O)},R.prototype.return=function(O){return this._invoke("return",O)},Z.exports=function S(O){return function(){return new R(O.apply(this,arguments))}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},5975:(Z,A,d)=>{"use strict";d.r(A),d.d(A,{customAlphabet:()=>O,customRandom:()=>R,nanoid:()=>P,random:()=>S,urlAlphabet:()=>b});let b="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",S=y=>crypto.getRandomValues(new Uint8Array(y)),R=(y,u,c)=>{let w=(2<<Math.log(y.length-1)/Math.LN2)-1,m=-~(1.6*w*u/y.length);return(h=u)=>{let _="";for(;;){let g=c(m),v=m;for(;v--;)if(_+=y[g[v]&w]||"",_.length===h)return _}}},O=(y,u=21)=>R(y,u,S),P=(y=21)=>crypto.getRandomValues(new Uint8Array(y)).reduce((u,c)=>u+((c&=63)<36?c.toString(36):c<62?(c-26).toString(36).toUpperCase():c>62?"-":"_"),"")},4151:(Z,A,d)=>{"use strict";d.r(A),d.d(A,{compare:()=>D,concat:()=>M,equals:()=>k,fromString:()=>H,toString:()=>ie,xor:()=>Pe});var b={};d.r(b),d.d(b,{identity:()=>me});var S={};d.r(S),d.d(S,{base2:()=>Me});var R={};d.r(R),d.d(R,{base8:()=>Se});var O={};d.r(O),d.d(O,{base10:()=>Ye});var P={};d.r(P),d.d(P,{base16:()=>gt,base16upper:()=>Ke});var y={};d.r(y),d.d(y,{base32:()=>Ge,base32hex:()=>W,base32hexpad:()=>ke,base32hexpadupper:()=>he,base32hexupper:()=>ee,base32pad:()=>je,base32padupper:()=>se,base32upper:()=>Ae,base32z:()=>Be});var u={};d.r(u),d.d(u,{base36:()=>Ne,base36upper:()=>Qe});var c={};d.r(c),d.d(c,{base58btc:()=>ut,base58flickr:()=>qe});var w={};d.r(w),d.d(w,{base64:()=>ht,base64pad:()=>F,base64url:()=>l,base64urlpad:()=>f});var m={};d.r(m),d.d(m,{base256emoji:()=>Ze});var h={};d.r(h),d.d(h,{sha256:()=>Yr,sha512:()=>ur});var _={};d.r(_),d.d(_,{identity:()=>un});var g={};d.r(g),d.d(g,{code:()=>vi,decode:()=>Us,encode:()=>cn,name:()=>wr});var v={};function D(pe,De){for(let Le=0;Le<pe.byteLength;Le++){if(pe[Le]<De[Le])return-1;if(pe[Le]>De[Le])return 1}return pe.byteLength>De.byteLength?1:pe.byteLength<De.byteLength?-1:0}function T(pe){return null!=globalThis.Buffer?new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength):pe}function N(pe=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?T(globalThis.Buffer.allocUnsafe(pe)):new Uint8Array(pe)}function M(pe,De){De||(De=pe.reduce((ot,Et)=>ot+Et.length,0));const Le=N(De);let rt=0;for(const ot of pe)Le.set(ot,rt),rt+=ot.length;return T(Le)}function k(pe,De){if(pe===De)return!0;if(pe.byteLength!==De.byteLength)return!1;for(let Le=0;Le<pe.byteLength;Le++)if(pe[Le]!==De[Le])return!1;return!0}d.r(v),d.d(v,{code:()=>Ci,decode:()=>jt,encode:()=>Ii,name:()=>Vs});const te=(new Uint8Array(0),pe=>{if(pe instanceof Uint8Array&&"Uint8Array"===pe.constructor.name)return pe;if(pe instanceof ArrayBuffer)return new Uint8Array(pe);if(ArrayBuffer.isView(pe))return new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength);throw new Error("Unknown type, must be binary type")});class de{constructor(De,Le,rt){this.name=De,this.prefix=Le,this.baseEncode=rt}encode(De){if(De instanceof Uint8Array)return`${this.prefix}${this.baseEncode(De)}`;throw Error("Unknown type, must be binary type")}}class Ie{constructor(De,Le,rt){if(this.name=De,this.prefix=Le,void 0===Le.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Le.codePointAt(0),this.baseDecode=rt}decode(De){if("string"==typeof De){if(De.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(De)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(De.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(De){return Ee(this,De)}}class ae{constructor(De){this.decoders=De}or(De){return Ee(this,De)}decode(De){const rt=this.decoders[De[0]];if(rt)return rt.decode(De);throw RangeError(`Unable to decode multibase string ${JSON.stringify(De)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ee=(pe,De)=>new ae({...pe.decoders||{[pe.prefix]:pe},...De.decoders||{[De.prefix]:De}});class I{constructor(De,Le,rt,ot){this.name=De,this.prefix=Le,this.baseEncode=rt,this.baseDecode=ot,this.encoder=new de(De,Le,rt),this.decoder=new Ie(De,Le,ot)}encode(De){return this.encoder.encode(De)}decode(De){return this.decoder.decode(De)}}const $=({name:pe,prefix:De,encode:Le,decode:rt})=>new I(pe,De,Le,rt),q=({prefix:pe,name:De,alphabet:Le})=>{const{encode:rt,decode:ot}=function B(pe,De){if(pe.length>=255)throw new TypeError("Alphabet too long");for(var Le=new Uint8Array(256),rt=0;rt<Le.length;rt++)Le[rt]=255;for(var ot=0;ot<pe.length;ot++){var Et=pe.charAt(ot),Ft=Et.charCodeAt(0);if(255!==Le[Ft])throw new TypeError(Et+" is ambiguous");Le[Ft]=ot}var vn=pe.length,In=pe.charAt(0),Ct=Math.log(vn)/Math.log(256),$r=Math.log(256)/Math.log(vn);function wu(Yn){if("string"!=typeof Yn)throw new TypeError("Expected String");if(0===Yn.length)return new Uint8Array;var ei=0;if(" "!==Yn[ei]){for(var Pa=0,Ss=0;Yn[ei]===In;)Pa++,ei++;for(var Ks=(Yn.length-ei)*Ct+1>>>0,Ws=new Uint8Array(Ks);Yn[ei];){var wi=Le[Yn.charCodeAt(ei)];if(255===wi)return;for(var Ei=0,_s=Ks-1;(0!==wi||Ei<Ss)&&-1!==_s;_s--,Ei++)Ws[_s]=(wi+=vn*Ws[_s]>>>0)%256>>>0,wi=wi/256>>>0;if(0!==wi)throw new Error("Non-zero carry");Ss=Ei,ei++}if(" "!==Yn[ei]){for(var Oi=Ks-Ss;Oi!==Ks&&0===Ws[Oi];)Oi++;for(var As=new Uint8Array(Pa+(Ks-Oi)),Wi=Pa;Oi!==Ks;)As[Wi++]=Ws[Oi++];return As}}}return{encode:function po(Yn){if(Yn instanceof Uint8Array||(ArrayBuffer.isView(Yn)?Yn=new Uint8Array(Yn.buffer,Yn.byteOffset,Yn.byteLength):Array.isArray(Yn)&&(Yn=Uint8Array.from(Yn))),!(Yn instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Yn.length)return"";for(var ei=0,Pa=0,Ss=0,Ks=Yn.length;Ss!==Ks&&0===Yn[Ss];)Ss++,ei++;for(var Ws=(Ks-Ss)*$r+1>>>0,wi=new Uint8Array(Ws);Ss!==Ks;){for(var Ei=Yn[Ss],_s=0,Oi=Ws-1;(0!==Ei||_s<Pa)&&-1!==Oi;Oi--,_s++)wi[Oi]=(Ei+=256*wi[Oi]>>>0)%vn>>>0,Ei=Ei/vn>>>0;if(0!==Ei)throw new Error("Non-zero carry");Pa=_s,Ss++}for(var As=Ws-Pa;As!==Ws&&0===wi[As];)As++;for(var Wi=In.repeat(ei);As<Ws;++As)Wi+=pe.charAt(wi[As]);return Wi},decodeUnsafe:wu,decode:function td(Yn){var ei=wu(Yn);if(ei)return ei;throw new Error(`Non-${De} character`)}}}(Le,De);return $({prefix:pe,name:De,encode:rt,decode:Et=>te(ot(Et))})},ye=({name:pe,prefix:De,bitsPerChar:Le,alphabet:rt})=>$({prefix:De,name:pe,encode:ot=>((pe,De,Le)=>{const rt="="===De[De.length-1],ot=(1<<Le)-1;let Et="",Ft=0,vn=0;for(let In=0;In<pe.length;++In)for(vn=vn<<8|pe[In],Ft+=8;Ft>Le;)Ft-=Le,Et+=De[ot&vn>>Ft];if(Ft&&(Et+=De[ot&vn<<Le-Ft]),rt)for(;Et.length*Le&7;)Et+="=";return Et})(ot,rt,Le),decode:ot=>((pe,De,Le,rt)=>{const ot={};for(let $r=0;$r<De.length;++$r)ot[De[$r]]=$r;let Et=pe.length;for(;"="===pe[Et-1];)--Et;const Ft=new Uint8Array(Et*Le/8|0);let vn=0,In=0,Ct=0;for(let $r=0;$r<Et;++$r){const po=ot[pe[$r]];if(void 0===po)throw new SyntaxError(`Non-${rt} character`);In=In<<Le|po,vn+=Le,vn>=8&&(vn-=8,Ft[Ct++]=255&In>>vn)}if(vn>=Le||255&In<<8-vn)throw new SyntaxError("Unexpected end of data");return Ft})(ot,rt,Le,pe)}),me=$({prefix:"\0",name:"identity",encode:pe=>(pe=>(new TextDecoder).decode(pe))(pe),decode:pe=>(pe=>(new TextEncoder).encode(pe))(pe)}),Me=ye({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Se=ye({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Ye=q({prefix:"9",name:"base10",alphabet:"0123456789"}),gt=ye({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ke=ye({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Ge=ye({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ae=ye({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),je=ye({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),se=ye({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),W=ye({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ee=ye({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ke=ye({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),he=ye({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Be=ye({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ne=q({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Qe=q({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ut=q({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qe=q({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ht=ye({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),F=ye({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),l=ye({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),f=ye({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),V=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),X=V.reduce((pe,De,Le)=>(pe[Le]=De,pe),[]),fe=V.reduce((pe,De,Le)=>(pe[De.codePointAt(0)]=Le,pe),[]),Ze=$({prefix:"\u{1f680}",name:"base256emoji",encode:function Ce(pe){return pe.reduce((De,Le)=>De+X[Le],"")},decode:function $e(pe){const De=[];for(const Le of pe){const rt=fe[Le.codePointAt(0)];if(void 0===rt)throw new Error(`Non-base256emoji character: ${Le}`);De.push(rt)}return new Uint8Array(De)}});var dt=d(467),at=128,Bn=-128,Sn=Math.pow(2,31),we=Math.pow(2,7),Te=Math.pow(2,14),ze=Math.pow(2,21),ct=Math.pow(2,28),ve=Math.pow(2,35),Oe=Math.pow(2,42),xe=Math.pow(2,49),_e=Math.pow(2,56),Ve=Math.pow(2,63);const Mt_encode=function _n(pe,De,Le){De=De||[];for(var rt=Le=Le||0;pe>=Sn;)De[Le++]=255&pe|at,pe/=128;for(;pe&Bn;)De[Le++]=255&pe|at,pe>>>=7;return De[Le]=0|pe,_n.bytes=Le-rt+1,De},Mt_encodingLength=function(pe){return pe<we?1:pe<Te?2:pe<ze?3:pe<ct?4:pe<ve?5:pe<Oe?6:pe<xe?7:pe<_e?8:pe<Ve?9:10},lt=(pe,De,Le=0)=>(Mt_encode(pe,De,Le),De),on=pe=>Mt_encodingLength(pe),$t=(pe,De)=>{const Le=De.byteLength,rt=on(pe),ot=rt+on(Le),Et=new Uint8Array(ot+Le);return lt(pe,Et,0),lt(Le,Et,rt),Et.set(De,ot),new yn(pe,Le,De,Et)};class yn{constructor(De,Le,rt,ot){this.code=De,this.size=Le,this.digest=rt,this.bytes=ot}}const Xt=({name:pe,code:De,encode:Le})=>new tn(pe,De,Le);class tn{constructor(De,Le,rt){this.name=De,this.code=Le,this.encode=rt}digest(De){if(De instanceof Uint8Array){const Le=this.encode(De);return Le instanceof Uint8Array?$t(this.code,Le):Le.then(rt=>$t(this.code,rt))}throw Error("Unknown type, must be binary type")}}const Wt=pe=>function(){var De=(0,dt.A)(function*(Le){return new Uint8Array(yield crypto.subtle.digest(pe,Le))});return function(Le){return De.apply(this,arguments)}}(),Yr=Xt({name:"sha2-256",code:18,encode:Wt("SHA-256")}),ur=Xt({name:"sha2-512",code:19,encode:Wt("SHA-512")}),ar=te,un={code:0,name:"identity",encode:ar,digest:pe=>$t(0,ar(pe))},wr="raw",vi=85,cn=pe=>te(pe),Us=pe=>te(pe),Jn=new TextEncoder,Xr=new TextDecoder,Vs="json",Ci=512,Ii=pe=>Jn.encode(JSON.stringify(pe)),jt=pe=>JSON.parse(Xr.decode(pe));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const zs={...b,...S,...R,...O,...P,...y,...u,...c,...w,...m};function bc(pe,De,Le,rt){return{name:pe,prefix:De,encoder:{name:pe,prefix:De,encode:Le},decoder:{decode:rt}}}const Ds=bc("utf8","u",pe=>"u"+new TextDecoder("utf8").decode(pe),pe=>(new TextEncoder).encode(pe.substring(1))),Ti=bc("ascii","a",pe=>{let De="a";for(let Le=0;Le<pe.length;Le++)De+=String.fromCharCode(pe[Le]);return De},pe=>{const De=N((pe=pe.substring(1)).length);for(let Le=0;Le<pe.length;Le++)De[Le]=pe.charCodeAt(Le);return De}),qo={utf8:Ds,"utf-8":Ds,hex:zs.base16,latin1:Ti,ascii:Ti,binary:Ti,...zs};function H(pe,De="utf8"){const Le=qo[De];if(!Le)throw new Error(`Unsupported encoding "${De}"`);return"utf8"!==De&&"utf-8"!==De||null==globalThis.Buffer||null==globalThis.Buffer.from?Le.decoder.decode(`${Le.prefix}${pe}`):T(globalThis.Buffer.from(pe,"utf-8"))}function ie(pe,De="utf8"){const Le=qo[De];if(!Le)throw new Error(`Unsupported encoding "${De}"`);return"utf8"!==De&&"utf-8"!==De||null==globalThis.Buffer||null==globalThis.Buffer.from?Le.encoder.encode(pe).substring(1):globalThis.Buffer.from(pe.buffer,pe.byteOffset,pe.byteLength).toString("utf8")}function Pe(pe,De){if(pe.length!==De.length)throw new Error("Inputs should have the same length");const Le=N(pe.length);for(let rt=0;rt<pe.length;rt++)Le[rt]=pe[rt]^De[rt];return T(Le)}},467:(Z,A,d)=>{"use strict";function b(R,O,P,y,u,c,w){try{var m=R[c](w),h=m.value}catch(_){return void P(_)}m.done?O(h):Promise.resolve(h).then(y,u)}function S(R){return function(){var O=this,P=arguments;return new Promise(function(y,u){var c=R.apply(O,P);function w(h){b(c,y,u,w,m,"next",h)}function m(h){b(c,y,u,w,m,"throw",h)}w(void 0)})}}d.d(A,{A:()=>S})},3837:Z=>{"use strict";Z.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},2079:Z=>{"use strict";Z.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},4777:Z=>{"use strict";Z.exports={}},9600:Z=>{"use strict";Z.exports={rE:"4.3.0"}}},Z=>{Z(Z.s=9545)}]);